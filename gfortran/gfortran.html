<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright (C) 1999-2019 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.
 -->
<!-- Created on July 16, 2019 by texi2html 5.0
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>The GNU Fortran Compiler</title>

<meta name="description" content="The GNU Fortran Compiler">
<meta name="keywords" content="The GNU Fortran Compiler">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 5.0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:pre}
span.nolinebreak {white-space:pre}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<h1>Using GNU Fortran</h1>
<p>@versionsubtitle
<strong>The <tt>gfortran</tt> team</strong><br>
</p>
<p>Published by the Free Software Foundation<br>
51 Franklin Street, Fifth Floor<br>
Boston, MA 02110-1301, USA<br>
</p><br>
<p>Copyright &copy; 1999-2019 Free Software Foundation, Inc.
</p>
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being &ldquo;Funding Free Software&rdquo;, the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
&ldquo;GNU Free Documentation License&rdquo;.
</p>
<p>(a) The FSF&rsquo;s Front-Cover Text is:
</p>
<p>     A GNU Manual
</p>
<p>(b) The FSF&rsquo;s Back-Cover Text is:
</p>
<p>     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.
</p><hr>
<a name="Top"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[ &lt; ]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Introduction-1"></a>
<h1 class="top">Introduction</h1>
<a name="index-Introduction"></a>

<p>This manual documents the use of <code>gfortran</code>,
the GNU Fortran compiler.  You can find in this manual how to invoke
<code>gfortran</code>, as well as its features and incompatibilities.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction">1 Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Part I: Invoking GNU Fortran
</pre></th></tr><tr><td align="left" valign="top">&bull; Invoking GNU Fortran</td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Command options supported by <code>gfortran</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Runtime">2 Runtime: Influencing runtime behavior with environment variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Influencing runtime behavior with environment variables.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Part II: Language Reference
</pre></th></tr><tr><td align="left" valign="top"><a href="#Fortran-standards-status">3 Fortran standards status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Fortran 2003, 2008 and 2018 features supported by GNU Fortran.
</td></tr>
<tr><td align="left" valign="top"><a href="#Compiler-Characteristics">4 Compiler Characteristics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      User-visible implementation details.
</td></tr>
<tr><td align="left" valign="top"><a href="#Extensions">5 Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Language extensions implemented by GNU Fortran.
</td></tr>
<tr><td align="left" valign="top"><a href="#Mixed_002dLanguage-Programming">6 Mixed-Language Programming</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Interoperability with C
</td></tr>
<tr><td align="left" valign="top"><a href="#Coarray-Programming">7 Coarray Programming</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; Intrinsic Procedures</td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Intrinsic procedures supported by GNU Fortran.
</td></tr>
<tr><td align="left" valign="top">&bull; Intrinsic Modules</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    Intrinsic modules supported by GNU Fortran.
</td></tr>
<tr><td align="left" valign="top"><a href="#Contributing">Contributing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How you can help.
</td></tr>
<tr><td align="left" valign="top">&bull; Copying</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              GNU General Public License says
                         how you can copy and share GNU Fortran.
</td></tr>
<tr><td align="left" valign="top">&bull; GNU Free Documentation License</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
                         How you can copy and share this manual.
</td></tr>
<tr><td align="left" valign="top">&bull; Funding</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to help assure continued work for free software.
</td></tr>
<tr><td align="left" valign="top"><a href="#Option-Index">Option Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Index of command line options
</td></tr>
<tr><td align="left" valign="top"><a href="#Keyword-Index">Keyword Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Index of concepts
</td></tr>
</table>


<hr size="6">
<a name="Introduction"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#About-GNU-Fortran" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Introduction-2"></a>
<h1 class="chapter">1 Introduction</h1>


<p>The GNU Fortran compiler front end was
designed initially as a free replacement for,
or alternative to, the Unix <code>f95</code> command;
<code>gfortran</code> is the command you will use to invoke the compiler.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#About-GNU-Fortran">1.1 About GNU Fortran</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">    What you should know about the GNU Fortran compiler.
</td></tr>
<tr><td align="left" valign="top"><a href="#GNU-Fortran-and-GCC">1.2 GNU Fortran and GCC</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  You can compile Fortran, C, or other programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> The Fortran preprocessor
</td></tr>
<tr><td align="left" valign="top"><a href="#GNU-Fortran-and-G77">1.4 GNU Fortran and G77</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Why we chose to start from scratch.
</td></tr>
<tr><td align="left" valign="top"><a href="#Project-Status">1.5 Project Status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Status of GNU Fortran, roadmap, proposed extensions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Standards">1.6 Standards</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Standards supported by GNU Fortran.
</td></tr>
</table>



<hr>
<a name="About-GNU-Fortran"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-and-GCC" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="About-GNU-Fortran-1"></a>
<h2 class="section">1.1 About GNU Fortran</h2>

<p>The GNU Fortran compiler supports the Fortran 77, 90 and 95 standards
completely, parts of the Fortran 2003, 2008 and 2018 standards, and
several vendor extensions.  The development goal is to provide the
following features:
</p>
<ul>
<li>
Read a user&rsquo;s program, stored in a file and containing instructions
written in Fortran 77, Fortran 90, Fortran 95, Fortran 2003, Fortran
2008 or Fortran 2018.  This file contains <em>source code</em>.

</li><li>
Translate the user&rsquo;s program into instructions a computer
can carry out more quickly than it takes to translate the
instructions in the first
place.  The result after compilation of a program is
<em>machine code</em>,
code designed to be efficiently translated and processed
by a machine such as your computer.
Humans usually are not as good writing machine code
as they are at writing Fortran (or C++, Ada, or Java),
because it is easy to make tiny mistakes writing machine code.

</li><li>
Provide the user with information about the reasons why
the compiler is unable to create a binary from the source code.
Usually this will be the case if the source code is flawed.
The Fortran 90 standard requires that the compiler can point out
mistakes to the user.
An incorrect usage of the language causes an <em>error message</em>.

<p>The compiler will also attempt to diagnose cases where the
user&rsquo;s program contains a correct usage of the language,
but instructs the computer to do something questionable.
This kind of diagnostics message is called a <em>warning message</em>.
</p>
</li><li>
Provide optional information about the translation passes
from the source code to machine code.
This can help a user of the compiler to find the cause of
certain bugs which may not be obvious in the source code,
but may be more easily found at a lower level compiler output.
It also helps developers to find bugs in the compiler itself.

</li><li>
Provide information in the generated machine code that can
make it easier to find bugs in the program (using a debugging tool,
called a <em>debugger</em>, such as the GNU Debugger <code>gdb</code>).

</li><li>
Locate and gather machine code already generated to
perform actions requested by statements in the user&rsquo;s program.
This machine code is organized into <em>modules</em> and is located
and <em>linked</em> to the user program.
</li></ul>

<p>The GNU Fortran compiler consists of several components:
</p>
<ul>
<li>
A version of the <code>gcc</code> command
(which also might be installed as the system&rsquo;s <code>cc</code> command)
that also understands and accepts Fortran source code.
The <code>gcc</code> command is the <em>driver</em> program for
all the languages in the GNU Compiler Collection (GCC);
With <code>gcc</code>,
you can compile the source code of any language for
which a front end is available in GCC.

</li><li>
The <code>gfortran</code> command itself,
which also might be installed as the
system&rsquo;s <code>f95</code> command.
<code>gfortran</code> is just another driver program,
but specifically for the Fortran compiler only.
The difference with <code>gcc</code> is that <code>gfortran</code>
will automatically link the correct libraries to your program.

</li><li>
A collection of run-time libraries.
These libraries contain the machine code needed to support
capabilities of the Fortran language that are not directly
provided by the machine code generated by the
<code>gfortran</code> compilation phase,
such as intrinsic functions and subroutines,
and routines for interaction with files and the operating system.

</li><li>
The Fortran compiler itself, (<code>f951</code>).
This is the GNU Fortran parser and code generator,
linked to and interfaced with the GCC backend library.
<code>f951</code> &ldquo;translates&rdquo; the source code to
assembler code.  You would typically not use this
program directly;
instead, the <code>gcc</code> or <code>gfortran</code> driver
programs will call it for you.
</li></ul>



<hr>
<a name="GNU-Fortran-and-GCC"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#About-GNU-Fortran" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Preprocessing-and-conditional-compilation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Fortran-and-GCC-1"></a>
<h2 class="section">1.2 GNU Fortran and GCC</h2>
<a name="index-GNU-Compiler-Collection"></a>
<a name="index-GCC"></a>

<p>GNU Fortran is a part of GCC, the <em>GNU Compiler Collection</em>.  GCC
consists of a collection of front ends for various languages, which
translate the source code into a language-independent form called
<em>GENERIC</em>.  This is then processed by a common middle end which
provides optimization, and then passed to one of a collection of back
ends which generate code for different computer architectures and
operating systems.
</p>
<p>Functionally, this is implemented with a driver program (<code>gcc</code>)
which provides the command-line interface for the compiler.  It calls
the relevant compiler front-end program (e.g., <code>f951</code> for
Fortran) for each file in the source code, and then calls the assembler
and linker as appropriate to produce the compiled output.  In a copy of
GCC which has been compiled with Fortran language support enabled,
<code>gcc</code> will recognize files with &lsquo;<tt>.f</tt>&rsquo;, &lsquo;<tt>.for</tt>&rsquo;, &lsquo;<tt>.ftn</tt>&rsquo;,
&lsquo;<tt>.f90</tt>&rsquo;, &lsquo;<tt>.f95</tt>&rsquo;, &lsquo;<tt>.f03</tt>&rsquo; and &lsquo;<tt>.f08</tt>&rsquo; extensions as
Fortran source code, and compile it accordingly.  A <code>gfortran</code>
driver program is also provided, which is identical to <code>gcc</code>
except that it automatically links the Fortran runtime libraries into the
compiled program.
</p>
<p>Source files with &lsquo;<tt>.f</tt>&rsquo;, &lsquo;<tt>.for</tt>&rsquo;, &lsquo;<tt>.fpp</tt>&rsquo;, &lsquo;<tt>.ftn</tt>&rsquo;, &lsquo;<tt>.F</tt>&rsquo;,
&lsquo;<tt>.FOR</tt>&rsquo;, &lsquo;<tt>.FPP</tt>&rsquo;, and &lsquo;<tt>.FTN</tt>&rsquo; extensions are treated as fixed form.
Source files with &lsquo;<tt>.f90</tt>&rsquo;, &lsquo;<tt>.f95</tt>&rsquo;, &lsquo;<tt>.f03</tt>&rsquo;, &lsquo;<tt>.f08</tt>&rsquo;,
&lsquo;<tt>.F90</tt>&rsquo;, &lsquo;<tt>.F95</tt>&rsquo;, &lsquo;<tt>.F03</tt>&rsquo; and &lsquo;<tt>.F08</tt>&rsquo; extensions are
treated as free form.  The capitalized versions of either form are run
through preprocessing.  Source files with the lower case &lsquo;<tt>.fpp</tt>&rsquo;
extension are also run through preprocessing.
</p>
<p>This manual specifically documents the Fortran front end, which handles
the programming language&rsquo;s syntax and semantics.  The aspects of GCC
which relate to the optimization passes and the back-end code generation
are documented in the GCC manual; see
<a href="https://gcc.gnu.org/onlinedocs/gcc/index.html#Top">Introduction</a> in <cite>Using the GNU Compiler Collection (GCC)</cite>.
The two manuals together provide a complete reference for the GNU
Fortran compiler.
</p>


<hr>
<a name="Preprocessing-and-conditional-compilation"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-and-GCC" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-and-G77" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Preprocessing-and-conditional-compilation-1"></a>
<h2 class="section">1.3 Preprocessing and conditional compilation</h2>
<a name="index-CPP"></a>
<a name="index-FPP"></a>
<a name="index-Conditional-compilation"></a>
<a name="index-Preprocessing"></a>
<a name="index-preprocessor_002c-include-file-handling"></a>

<p>Many Fortran compilers including GNU Fortran allow passing the source code
through a C preprocessor (CPP; sometimes also called the Fortran preprocessor,
FPP) to allow for conditional compilation.  In the case of GNU Fortran,
this is the GNU C Preprocessor in the traditional mode.  On systems with
case-preserving file names, the preprocessor is automatically invoked if the
filename extension is &lsquo;<tt>.F</tt>&rsquo;, &lsquo;<tt>.FOR</tt>&rsquo;, &lsquo;<tt>.FTN</tt>&rsquo;, &lsquo;<tt>.fpp</tt>&rsquo;,
&lsquo;<tt>.FPP</tt>&rsquo;, &lsquo;<tt>.F90</tt>&rsquo;, &lsquo;<tt>.F95</tt>&rsquo;, &lsquo;<tt>.F03</tt>&rsquo; or &lsquo;<tt>.F08</tt>&rsquo;.  To manually
invoke the preprocessor on any file, use &lsquo;<samp>-cpp</samp>&rsquo;, to disable
preprocessing on files where the preprocessor is run automatically, use
&lsquo;<samp>-nocpp</samp>&rsquo;.
</p>
<p>If a preprocessed file includes another file with the Fortran <code>INCLUDE</code>
statement, the included file is not preprocessed.  To preprocess included
files, use the equivalent preprocessor statement <code>#include</code>.
</p>
<p>If GNU Fortran invokes the preprocessor, <code>__GFORTRAN__</code>
is defined.  The macros <code>__GNUC__</code>, <code>__GNUC_MINOR__</code> and
<code>__GNUC_PATCHLEVEL__</code> can be used to determine the version of the
compiler.  See <a href="https://gcc.gnu.org/onlinedocs/cpp/index.html#Top">Overview</a> in <cite>The C Preprocessor</cite> for details.
</p>
<p>GNU Fortran supports a number of <code>INTEGER</code> and <code>REAL</code> kind types
in additional to the kind types required by the Fortran standard.
The availability of any given kind type is architecture dependent.  The
following pre-defined preprocessor macros can be used to conditionally
include code for these additional kind types: <code>__GFC_INT_1__</code>,
<code>__GFC_INT_2__</code>, <code>__GFC_INT_8__</code>, <code>__GFC_INT_16__</code>,
<code>__GFC_REAL_10__</code>, and <code>__GFC_REAL_16__</code>.
</p>
<p>While CPP is the de-facto standard for preprocessing Fortran code,
Part 3 of the Fortran 95 standard (ISO/IEC 1539-3:1998) defines
Conditional Compilation, which is not widely used and not directly
supported by the GNU Fortran compiler.  You can use the program coco
to preprocess such files (<a href="http://www.daniellnagle.com/coco.html">http://www.daniellnagle.com/coco.html</a>).
</p>


<hr>
<a name="GNU-Fortran-and-G77"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Preprocessing-and-conditional-compilation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Project-Status" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Fortran-and-G77-1"></a>
<h2 class="section">1.4 GNU Fortran and G77</h2>
<a name="index-Fortran-77"></a>
<a name="index-g77"></a>

<p>The GNU Fortran compiler is the successor to <code>g77</code>, the Fortran
77 front end included in GCC prior to version 4.  It is an entirely new
program that has been designed to provide Fortran 95 support and
extensibility for future Fortran language standards, as well as providing
backwards compatibility for Fortran 77 and nearly all of the GNU language
extensions supported by <code>g77</code>.
</p>


<hr>
<a name="Project-Status"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-and-G77" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Standards" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Project-Status-1"></a>
<h2 class="section">1.5 Project Status</h2>

<blockquote>
<p>As soon as <code>gfortran</code> can parse all of the statements correctly,
it will be in the &ldquo;larva&rdquo; state.
When we generate code, the &ldquo;puppa&rdquo; state.
When <code>gfortran</code> is done,
we&rsquo;ll see if it will be a beautiful butterfly,
or just a big bug....
</p>
<p>&ndash;Andy Vaught, April 2000
</p></blockquote>

<p>The start of the GNU Fortran 95 project was announced on
the GCC homepage in March 18, 2000
(even though Andy had already been working on it for a while,
of course).
</p>
<p>The GNU Fortran compiler is able to compile nearly all
standard-compliant Fortran 95, Fortran 90, and Fortran 77 programs,
including a number of standard and non-standard extensions, and can be
used on real-world programs.  In particular, the supported extensions
include OpenMP, Cray-style pointers, some old vendor extensions, and several
Fortran 2003 and Fortran 2008 features, including TR 15581.  However, it is
still under development and has a few remaining rough edges.
There also is initial support for OpenACC.
Note that this is an experimental feature, incomplete, and subject to
change in future versions of GCC.  See
<a href="https://gcc.gnu.org/wiki/OpenACC">https://gcc.gnu.org/wiki/OpenACC</a> for more information.
</p>
<p>At present, the GNU Fortran compiler passes the
<a href="http://www.fortran-2000.com/ArnaudRecipes/fcvs21_f95.html">NIST Fortran 77 Test Suite</a>, and produces acceptable results on the
<a href="http://www.netlib.org/lapack/faq.html#1.21">LAPACK Test Suite</a>.
It also provides respectable performance on
the <a href="http://www.polyhedron.com/fortran-compiler-comparisons/polyhedron-benchmark-suite">Polyhedron Fortran compiler benchmarks</a> and the
<a href="http://www.netlib.org/benchmark/livermore">Livermore Fortran Kernels test</a>.  It has been used to compile a number of
large real-world programs, including
<a href="http://hirlam.org/">the HARMONIE and HIRLAM weather forecasting code</a> and
<a href="http://physical-chemistry.scb.uwa.edu.au/tonto/wiki/index.php/Main_Page">the Tonto quantum chemistry package</a>; see
<a href="https://gcc.gnu.org/wiki/GfortranApps">https://gcc.gnu.org/wiki/GfortranApps</a> for an extended list.
</p>
<p>Among other things, the GNU Fortran compiler is intended as a replacement
for G77.  At this point, nearly all programs that could be compiled with
G77 can be compiled with GNU Fortran, although there are a few minor known
regressions.
</p>
<p>The primary work remaining to be done on GNU Fortran falls into three
categories: bug fixing (primarily regarding the treatment of invalid
code and providing useful error messages), improving the compiler
optimizations and the performance of compiled code, and extending the
compiler to support future standards&mdash;in particular, Fortran 2003,
Fortran 2008 and Fortran 2018.
</p>


<hr>
<a name="Standards"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Project-Status" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Varying-Length-Character-Strings" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Standards-1"></a>
<h2 class="section">1.6 Standards</h2>
<a name="index-Standards"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Varying-Length-Character-Strings">1.6.1 Varying Length Character Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>The GNU Fortran compiler implements
ISO/IEC 1539:1997 (Fortran 95).  As such, it can also compile essentially all
standard-compliant Fortran 90 and Fortran 77 programs.   It also supports
the ISO/IEC TR-15581 enhancements to allocatable arrays.
</p>
<p>GNU Fortran also have a partial support for ISO/IEC 1539-1:2004
(Fortran 2003), ISO/IEC 1539-1:2010 (Fortran 2008), the Technical
Specification <code>Further Interoperability of Fortran with C</code>
(ISO/IEC TS 29113:2012).  Full support of those standards and future
Fortran standards is planned.  The current status of the support is
can be found in the <a href="#Fortran-2003-status">Fortran 2003 status</a>, <a href="#Fortran-2008-status">Fortran 2008 status</a> and <a href="#Fortran-2018-status">Status of Fortran 2018 support</a> sections of the documentation.
</p>
<p>Additionally, the GNU Fortran compilers supports the OpenMP specification
(version 4.0 and most of the features of the 4.5 version,
<a href="http://openmp.org/wp/openmp-specifications/">http://openmp.org/wp/openmp-specifications/</a>).
There also is initial support for the OpenACC specification (targeting
version 2.0, <a href="http://www.openacc.org/">http://www.openacc.org/</a>).
Note that this is an experimental feature, incomplete, and subject to
change in future versions of GCC.  See
<a href="https://gcc.gnu.org/wiki/OpenACC">https://gcc.gnu.org/wiki/OpenACC</a> for more information.
</p>
<hr>
<a name="Varying-Length-Character-Strings"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Standards" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Standards" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Varying-Length-Character-Strings-1"></a>
<h3 class="subsection">1.6.1 Varying Length Character Strings</h3>
<a name="index-Varying-length-character-strings"></a>
<a name="index-Varying-length-strings"></a>
<a name="index-strings_002c-varying-length"></a>

<p>The Fortran 95 standard specifies in Part 2 (ISO/IEC 1539-2:2000)
varying length character strings.  While GNU Fortran currently does not
support such strings directly, there exist two Fortran implementations
for them, which work with GNU Fortran.  They can be found at
<a href="http://www.fortran.com/iso_varying_string.f95">http://www.fortran.com/iso_varying_string.f95</a> and at
<a href="ftp://ftp.nag.co.uk/sc22wg5/ISO_VARYING_STRING/">ftp://ftp.nag.co.uk/sc22wg5/ISO_VARYING_STRING/</a>.
</p>
<p>Deferred-length character strings of Fortran 2003 supports part of
the features of <code>ISO_VARYING_STRING</code> and should be considered as
replacement. (Namely, allocatable or pointers of the type
<code>character(len=:)</code>.)
</p>







<hr>
<a name="Runtime"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Varying-Length-Character-Strings" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#TMPDIR" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Runtime_003a-Influencing-runtime-behavior-with-environment-variables"></a>
<h1 class="chapter">2 Runtime: Influencing runtime behavior with environment variables</h1>
<a name="index-environment-variable"></a>

<p>The behavior of the <code>gfortran</code> can be influenced by
environment variables.
</p>
<p>Malformed environment variables are silently ignored.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#TMPDIR">2.1 <code>TMPDIR</code>&mdash;Directory for scratch files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Directory for scratch files
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fSTDIN_005fUNIT">2.2 <code>GFORTRAN_STDIN_UNIT</code>&mdash;Unit number for standard input</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Unit number for standard input
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fSTDOUT_005fUNIT">2.3 <code>GFORTRAN_STDOUT_UNIT</code>&mdash;Unit number for standard output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Unit number for standard output
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fSTDERR_005fUNIT">2.4 <code>GFORTRAN_STDERR_UNIT</code>&mdash;Unit number for standard error</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Unit number for standard error
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fUNBUFFERED_005fALL">2.5 <code>GFORTRAN_UNBUFFERED_ALL</code>&mdash;Do not buffer I/O on all units</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Do not buffer I/O for all units.
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fUNBUFFERED_005fPRECONNECTED">2.6 <code>GFORTRAN_UNBUFFERED_PRECONNECTED</code>&mdash;Do not buffer I/O on preconnected units</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Do not buffer I/O for preconnected units.
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fSHOW_005fLOCUS">2.7 <code>GFORTRAN_SHOW_LOCUS</code>&mdash;Show location for runtime errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Show location for runtime errors
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fOPTIONAL_005fPLUS">2.8 <code>GFORTRAN_OPTIONAL_PLUS</code>&mdash;Print leading + where permitted</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Print leading + where permitted
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fLIST_005fSEPARATOR">2.9 <code>GFORTRAN_LIST_SEPARATOR</code>&mdash;Separator for list output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Separator for list output
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fCONVERT_005fUNIT">2.10 <code>GFORTRAN_CONVERT_UNIT</code>&mdash;Set endianness for unformatted I/O</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Set endianness for unformatted I/O
</td></tr>
<tr><td align="left" valign="top"><a href="#GFORTRAN_005fERROR_005fBACKTRACE">2.11 <code>GFORTRAN_ERROR_BACKTRACE</code>&mdash;Show backtrace on run-time errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Show backtrace on run-time errors
</td></tr>
</table>

<hr>
<a name="TMPDIR"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDIN_005fUNIT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="TMPDIR_002d_002d_002dDirectory-for-scratch-files"></a>
<h2 class="section">2.1 <code>TMPDIR</code>&mdash;Directory for scratch files</h2>

<p>When opening a file with <code>STATUS='SCRATCH'</code>, GNU Fortran tries to
create the file in one of the potential directories by testing each
directory in the order below.
</p>
<ol>
<li>
The environment variable <code>TMPDIR</code>, if it exists.

</li><li>
On the MinGW target, the directory returned by the <code>GetTempPath</code>
function. Alternatively, on the Cygwin target, the <code>TMP</code> and
<code>TEMP</code> environment variables, if they exist, in that order.

</li><li>
The <code>P_tmpdir</code> macro if it is defined, otherwise the directory
&lsquo;<tt>/tmp</tt>&rsquo;.
</li></ol>

<hr>
<a name="GFORTRAN_005fSTDIN_005fUNIT"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#TMPDIR" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDOUT_005fUNIT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fSTDIN_005fUNIT_002d_002d_002dUnit-number-for-standard-input"></a>
<h2 class="section">2.2 <code>GFORTRAN_STDIN_UNIT</code>&mdash;Unit number for standard input</h2>

<p>This environment variable can be used to select the unit number
preconnected to standard input.  This must be a positive integer.
The default value is 5.
</p>
<hr>
<a name="GFORTRAN_005fSTDOUT_005fUNIT"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDIN_005fUNIT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDERR_005fUNIT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fSTDOUT_005fUNIT_002d_002d_002dUnit-number-for-standard-output"></a>
<h2 class="section">2.3 <code>GFORTRAN_STDOUT_UNIT</code>&mdash;Unit number for standard output</h2>

<p>This environment variable can be used to select the unit number
preconnected to standard output.  This must be a positive integer.
The default value is 6.
</p>
<hr>
<a name="GFORTRAN_005fSTDERR_005fUNIT"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDOUT_005fUNIT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fUNBUFFERED_005fALL" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fSTDERR_005fUNIT_002d_002d_002dUnit-number-for-standard-error"></a>
<h2 class="section">2.4 <code>GFORTRAN_STDERR_UNIT</code>&mdash;Unit number for standard error</h2>

<p>This environment variable can be used to select the unit number
preconnected to standard error.  This must be a positive integer.
The default value is 0.
</p>
<hr>
<a name="GFORTRAN_005fUNBUFFERED_005fALL"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSTDERR_005fUNIT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fUNBUFFERED_005fPRECONNECTED" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fUNBUFFERED_005fALL_002d_002d_002dDo-not-buffer-I_002fO-on-all-units"></a>
<h2 class="section">2.5 <code>GFORTRAN_UNBUFFERED_ALL</code>&mdash;Do not buffer I/O on all units</h2>

<p>This environment variable controls whether all I/O is unbuffered.  If
the first letter is &lsquo;<samp>y</samp>&rsquo;, &lsquo;<samp>Y</samp>&rsquo; or &lsquo;<samp>1</samp>&rsquo;, all I/O is
unbuffered.  This will slow down small sequential reads and writes.  If
the first letter is &lsquo;<samp>n</samp>&rsquo;, &lsquo;<samp>N</samp>&rsquo; or &lsquo;<samp>0</samp>&rsquo;, I/O is buffered.
This is the default.
</p>
<hr>
<a name="GFORTRAN_005fUNBUFFERED_005fPRECONNECTED"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fUNBUFFERED_005fALL" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSHOW_005fLOCUS" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fUNBUFFERED_005fPRECONNECTED_002d_002d_002dDo-not-buffer-I_002fO-on-preconnected-units"></a>
<h2 class="section">2.6 <code>GFORTRAN_UNBUFFERED_PRECONNECTED</code>&mdash;Do not buffer I/O on preconnected units</h2>

<p>The environment variable named <code>GFORTRAN_UNBUFFERED_PRECONNECTED</code> controls
whether I/O on a preconnected unit (i.e. STDOUT or STDERR) is unbuffered.  If
the first letter is &lsquo;<samp>y</samp>&rsquo;, &lsquo;<samp>Y</samp>&rsquo; or &lsquo;<samp>1</samp>&rsquo;, I/O is unbuffered.  This
will slow down small sequential reads and writes.  If the first letter
is &lsquo;<samp>n</samp>&rsquo;, &lsquo;<samp>N</samp>&rsquo; or &lsquo;<samp>0</samp>&rsquo;, I/O is buffered.  This is the default.
</p>
<hr>
<a name="GFORTRAN_005fSHOW_005fLOCUS"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fUNBUFFERED_005fPRECONNECTED" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fOPTIONAL_005fPLUS" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fSHOW_005fLOCUS_002d_002d_002dShow-location-for-runtime-errors"></a>
<h2 class="section">2.7 <code>GFORTRAN_SHOW_LOCUS</code>&mdash;Show location for runtime errors</h2>

<p>If the first letter is &lsquo;<samp>y</samp>&rsquo;, &lsquo;<samp>Y</samp>&rsquo; or &lsquo;<samp>1</samp>&rsquo;, filename and
line numbers for runtime errors are printed.  If the first letter is
&lsquo;<samp>n</samp>&rsquo;, &lsquo;<samp>N</samp>&rsquo; or &lsquo;<samp>0</samp>&rsquo;, do not print filename and line numbers
for runtime errors.  The default is to print the location.
</p>
<hr>
<a name="GFORTRAN_005fOPTIONAL_005fPLUS"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fSHOW_005fLOCUS" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fLIST_005fSEPARATOR" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fOPTIONAL_005fPLUS_002d_002d_002dPrint-leading-_002b-where-permitted"></a>
<h2 class="section">2.8 <code>GFORTRAN_OPTIONAL_PLUS</code>&mdash;Print leading + where permitted</h2>

<p>If the first letter is &lsquo;<samp>y</samp>&rsquo;, &lsquo;<samp>Y</samp>&rsquo; or &lsquo;<samp>1</samp>&rsquo;,
a plus sign is printed
where permitted by the Fortran standard.  If the first letter
is &lsquo;<samp>n</samp>&rsquo;, &lsquo;<samp>N</samp>&rsquo; or &lsquo;<samp>0</samp>&rsquo;, a plus sign is not printed
in most cases.  Default is not to print plus signs.
</p>
<hr>
<a name="GFORTRAN_005fLIST_005fSEPARATOR"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fOPTIONAL_005fPLUS" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fCONVERT_005fUNIT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fLIST_005fSEPARATOR_002d_002d_002dSeparator-for-list-output"></a>
<h2 class="section">2.9 <code>GFORTRAN_LIST_SEPARATOR</code>&mdash;Separator for list output</h2>

<p>This environment variable specifies the separator when writing
list-directed output.  It may contain any number of spaces and
at most one comma.  If you specify this on the command line,
be sure to quote spaces, as in
</p><div class="smallexample">
<pre class="smallexample">$ GFORTRAN_LIST_SEPARATOR='  ,  ' ./a.out
</pre></div>
<p>when <code>a.out</code> is the compiled Fortran program that you want to run.
Default is a single space.
</p>
<hr>
<a name="GFORTRAN_005fCONVERT_005fUNIT"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fLIST_005fSEPARATOR" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fERROR_005fBACKTRACE" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fCONVERT_005fUNIT_002d_002d_002dSet-endianness-for-unformatted-I_002fO"></a>
<h2 class="section">2.10 <code>GFORTRAN_CONVERT_UNIT</code>&mdash;Set endianness for unformatted I/O</h2>

<p>By setting the <code>GFORTRAN_CONVERT_UNIT</code> variable, it is possible
to change the representation of data for unformatted files.
The syntax for the <code>GFORTRAN_CONVERT_UNIT</code> variable is:
</p><div class="smallexample">
<pre class="smallexample">GFORTRAN_CONVERT_UNIT: mode | mode ';' exception | exception ;
mode: 'native' | 'swap' | 'big_endian' | 'little_endian' ;
exception: mode ':' unit_list | unit_list ;
unit_list: unit_spec | unit_list unit_spec ;
unit_spec: INTEGER | INTEGER '-' INTEGER ;
</pre></div>
<p>The variable consists of an optional default mode, followed by
a list of optional exceptions, which are separated by semicolons
from the preceding default and each other.  Each exception consists
of a format and a comma-separated list of units.  Valid values for
the modes are the same as for the <code>CONVERT</code> specifier:
</p>
<ul class="no-bullet">
<li> <code>NATIVE</code> Use the native format.  This is the default.
</li><li> <code>SWAP</code> Swap between little- and big-endian.
</li><li> <code>LITTLE_ENDIAN</code> Use the little-endian format
for unformatted files.
</li><li> <code>BIG_ENDIAN</code> Use the big-endian format for unformatted files.
</li></ul>
<p>A missing mode for an exception is taken to mean <code>BIG_ENDIAN</code>.
Examples of values for <code>GFORTRAN_CONVERT_UNIT</code> are:
</p><ul class="no-bullet">
<li> <code>'big_endian'</code>  Do all unformatted I/O in big_endian mode.
</li><li> <code>'little_endian;native:10-20,25'</code>  Do all unformatted I/O
in little_endian mode, except for units 10 to 20 and 25, which are in
native format.
</li><li> <code>'10-20'</code>  Units 10 to 20 are big-endian, the rest is native.
</li></ul>

<p>Setting the environment variables should be done on the command
line or via the <code>export</code>
command for <code>sh</code>-compatible shells and via <code>setenv</code>
for <code>csh</code>-compatible shells.
</p>
<p>Example for <code>sh</code>:
</p><div class="smallexample">
<pre class="smallexample">$ gfortran foo.f90
$ GFORTRAN_CONVERT_UNIT='big_endian;native:10-20' ./a.out
</pre></div>

<p>Example code for <code>csh</code>:
</p><div class="smallexample">
<pre class="smallexample">% gfortran foo.f90
% setenv GFORTRAN_CONVERT_UNIT 'big_endian;native:10-20'
% ./a.out
</pre></div>

<p>Using anything but the native representation for unformatted data
carries a significant speed overhead.  If speed in this area matters
to you, it is best if you use this only for data that needs to be
portable.
</p>
<p>See section <a href="#CONVERT-specifier"><code>CONVERT</code> specifier</a>, for an alternative way to specify the
data representation for unformatted files.  @xref{Runtime Options}, for
setting a default data representation for the whole program.  The
<code>CONVERT</code> specifier overrides the &lsquo;<samp>-fconvert</samp>&rsquo; compile options.
</p>
<p><em>Note that the values specified via the GFORTRAN_CONVERT_UNIT
environment variable will override the CONVERT specifier in the
open statement</em>.  This is to give control over data formats to
users who do not have the source code of their program available.
</p>
<hr>
<a name="GFORTRAN_005fERROR_005fBACKTRACE"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fCONVERT_005fUNIT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Runtime" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GFORTRAN_005fERROR_005fBACKTRACE_002d_002d_002dShow-backtrace-on-run_002dtime-errors"></a>
<h2 class="section">2.11 <code>GFORTRAN_ERROR_BACKTRACE</code>&mdash;Show backtrace on run-time errors</h2>

<p>If the <code>GFORTRAN_ERROR_BACKTRACE</code> variable is set to &lsquo;<samp>y</samp>&rsquo;,
&lsquo;<samp>Y</samp>&rsquo; or &lsquo;<samp>1</samp>&rsquo; (only the first letter is relevant) then a
backtrace is printed when a serious run-time error occurs.  To disable
the backtracing, set the variable to &lsquo;<samp>n</samp>&rsquo;, &lsquo;<samp>N</samp>&rsquo;, &lsquo;<samp>0</samp>&rsquo;.
Default is to print a backtrace unless the &lsquo;<samp>-fno-backtrace</samp>&rsquo;
compile option was used.
</p>



<hr>
<a name="Fortran-standards-status"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Runtime" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GFORTRAN_005fERROR_005fBACKTRACE" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2003-status" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Fortran-standards-status-1"></a>
<h1 class="chapter">3 Fortran standards status</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Fortran-2008-status">3.2 Fortran 2008 status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Fortran-2018-status">3.3 Status of Fortran 2018 support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="Fortran-2003-status"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2008-status" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Fortran-2003-status-1"></a>
<h2 class="section">3.1 Fortran 2003 status</h2>

<p>GNU Fortran supports several Fortran 2003 features; an incomplete
list can be found below.  See also the
<a href="https://gcc.gnu.org/wiki/Fortran2003">wiki page</a> about Fortran 2003.
</p>
<ul>
<li> Procedure pointers including procedure-pointer components with
<code>PASS</code> attribute.

</li><li> Procedures which are bound to a derived type (type-bound procedures)
including <code>PASS</code>, <code>PROCEDURE</code> and <code>GENERIC</code>, and
operators bound to a type.

</li><li> Abstract interfaces and type extension with the possibility to
override type-bound procedures or to have deferred binding.

</li><li> Polymorphic entities (&ldquo;<code>CLASS</code>&rdquo;) for derived types and unlimited
polymorphism (&ldquo;<code>CLASS(*)</code>&rdquo;) &ndash; including <code>SAME_TYPE_AS</code>,
<code>EXTENDS_TYPE_OF</code> and <code>SELECT TYPE</code> for scalars and arrays and
finalization.

</li><li> Generic interface names, which have the same name as derived types,
are now supported. This allows one to write constructor functions.  Note
that Fortran does not support static constructor functions.  For static
variables, only default initialization or structure-constructor
initialization are available.

</li><li> The <code>ASSOCIATE</code> construct.

</li><li> Interoperability with C including enumerations,

</li><li> In structure constructors the components with default values may be
omitted.

</li><li> Extensions to the <code>ALLOCATE</code> statement, allowing for a
type-specification with type parameter and for allocation and initialization
from a <code>SOURCE=</code> expression; <code>ALLOCATE</code> and <code>DEALLOCATE</code>
optionally return an error message string via <code>ERRMSG=</code>.

</li><li> Reallocation on assignment: If an intrinsic assignment is
used, an allocatable variable on the left-hand side is automatically allocated
(if unallocated) or reallocated (if the shape is different). Currently, scalar
deferred character length left-hand sides are correctly handled but arrays
are not yet fully implemented.

</li><li> Deferred-length character variables and scalar deferred-length character
components of derived types are supported. (Note that array-valued compoents
are not yet implemented.)

</li><li> Transferring of allocations via <code>MOVE_ALLOC</code>.

</li><li> The <code>PRIVATE</code> and <code>PUBLIC</code> attributes may be given individually
to derived-type components.

</li><li> In pointer assignments, the lower bound may be specified and
the remapping of elements is supported.

</li><li> For pointers an <code>INTENT</code> may be specified which affect the
association status not the value of the pointer target.

</li><li> Intrinsics <code>command_argument_count</code>, <code>get_command</code>,
<code>get_command_argument</code>, and <code>get_environment_variable</code>.

</li><li> Support for Unicode characters (ISO 10646) and UTF-8, including
the <code>SELECTED_CHAR_KIND</code> and <code>NEW_LINE</code> intrinsic functions.

</li><li> Support for binary, octal and hexadecimal (BOZ) constants in the
intrinsic functions <code>INT</code>, <code>REAL</code>, <code>CMPLX</code> and <code>DBLE</code>.

</li><li> Support for namelist variables with allocatable and pointer
attribute and nonconstant length type parameter.

</li><li>
<a name="index-array_002c-constructors"></a>
<a name="index-_005b_002e_002e_002e_005d"></a>
Array constructors using square brackets.  That is, <code>[...]</code> rather
than <code>(/.../)</code>.  Type-specification for array constructors like
<code>(/ some-type :: ... /)</code>.

</li><li> Extensions to the specification and initialization expressions,
including the support for intrinsics with real and complex arguments.

</li><li> Support for the asynchronous input/output.

</li><li>
<a name="index-FLUSH-statement"></a>
<a name="index-statement_002c-FLUSH"></a>
<code>FLUSH</code> statement.

</li><li>
<a name="index-IOMSG_003d-specifier"></a>
<code>IOMSG=</code> specifier for I/O statements.

</li><li>
<a name="index-ENUM-statement"></a>
<a name="index-ENUMERATOR-statement"></a>
<a name="index-statement_002c-ENUM"></a>
<a name="index-statement_002c-ENUMERATOR"></a>
<a name="index-fshort_002denums"></a>
Support for the declaration of enumeration constants via the
<code>ENUM</code> and <code>ENUMERATOR</code> statements.  Interoperability with
<code>gcc</code> is guaranteed also for the case where the
<code>-fshort-enums</code> command line option is given.

</li><li>
<a name="index-TR-15581"></a>
TR 15581:
<ul>
<li>
<a name="index-ALLOCATABLE-dummy-arguments"></a>
<code>ALLOCATABLE</code> dummy arguments.
</li><li>
<a name="index-ALLOCATABLE-function-results"></a>
<code>ALLOCATABLE</code> function results
</li><li>
<a name="index-ALLOCATABLE-components-of-derived-types"></a>
<code>ALLOCATABLE</code> components of derived types
</li></ul>

</li><li>
<a name="index-STREAM-I_002fO"></a>
<a name="index-ACCESS_003d_0027STREAM_0027-I_002fO"></a>
The <code>OPEN</code> statement supports the <code>ACCESS='STREAM'</code> specifier,
allowing I/O without any record structure.

</li><li>
Namelist input/output for internal files.

</li><li> Minor I/O features: Rounding during formatted output, using of
a decimal comma instead of a decimal point, setting whether a plus sign
should appear for positive numbers. On systems where <code>strtod</code> honours
the rounding mode, the rounding mode is also supported for input.

</li><li>
<a name="index-PROTECTED-statement"></a>
<a name="index-statement_002c-PROTECTED"></a>
The <code>PROTECTED</code> statement and attribute.

</li><li>
<a name="index-VALUE-statement"></a>
<a name="index-statement_002c-VALUE"></a>
The <code>VALUE</code> statement and attribute.

</li><li>
<a name="index-VOLATILE-statement"></a>
<a name="index-statement_002c-VOLATILE"></a>
The <code>VOLATILE</code> statement and attribute.

</li><li>
<a name="index-IMPORT-statement"></a>
<a name="index-statement_002c-IMPORT"></a>
The <code>IMPORT</code> statement, allowing to import
host-associated derived types.

</li><li> The intrinsic modules <code>ISO_FORTRAN_ENVIRONMENT</code> is supported,
which contains parameters of the I/O units, storage sizes. Additionally,
procedures for C interoperability are available in the <code>ISO_C_BINDING</code>
module.

</li><li>
<a name="index-USE_002c-INTRINSIC-statement"></a>
<a name="index-statement_002c-USE_002c-INTRINSIC"></a>
<a name="index-ISO_005fFORTRAN_005fENV-statement"></a>
<a name="index-statement_002c-ISO_005fFORTRAN_005fENV"></a>
<code>USE</code> statement with <code>INTRINSIC</code> and <code>NON_INTRINSIC</code>
attribute; supported intrinsic modules: <code>ISO_FORTRAN_ENV</code>,
<code>ISO_C_BINDING</code>, <code>OMP_LIB</code> and <code>OMP_LIB_KINDS</code>,
and <code>OPENACC</code>.

</li><li>
Renaming of operators in the <code>USE</code> statement.

</li></ul>


<hr>
<a name="Fortran-2008-status"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2003-status" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2018-status" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Fortran-2008-status-1"></a>
<h2 class="section">3.2 Fortran 2008 status</h2>

<p>The latest version of the Fortran standard is ISO/IEC 1539-1:2010, informally
known as Fortran 2008.  The official version is available from International
Organization for Standardization (ISO) or its national member organizations.
The the final draft (FDIS) can be downloaded free of charge from
<a href="http://www.nag.co.uk/sc22wg5/links.html">http://www.nag.co.uk/sc22wg5/links.html</a>.  Fortran is developed by the
Working Group 5 of Sub-Committee 22 of the Joint Technical Committee 1 of the
International Organization for Standardization and the International
Electrotechnical Commission (IEC).  This group is known as
<a href="http://www.nag.co.uk/sc22wg5/">WG5</a>.
</p>
<p>The GNU Fortran compiler supports several of the new features of Fortran 2008;
the <a href="https://gcc.gnu.org/wiki/Fortran2008Status">wiki</a> has some information
about the current Fortran 2008 implementation status.  In particular, the
following is implemented.
</p>
<ul>
<li> The &lsquo;<samp>-std=f2008</samp>&rsquo; option and support for the file extensions
&lsquo;<tt>.f08</tt>&rsquo; and &lsquo;<tt>.F08</tt>&rsquo;.

</li><li> The <code>OPEN</code> statement now supports the <code>NEWUNIT=</code> option,
which returns a unique file unit, thus preventing inadvertent use of the
same unit in different parts of the program.

</li><li> The <code>g0</code> format descriptor and unlimited format items.

</li><li> The mathematical intrinsics <code>ASINH</code>, <code>ACOSH</code>, <code>ATANH</code>,
<code>ERF</code>, <code>ERFC</code>, <code>GAMMA</code>, <code>LOG_GAMMA</code>, <code>BESSEL_J0</code>,
<code>BESSEL_J1</code>, <code>BESSEL_JN</code>, <code>BESSEL_Y0</code>, <code>BESSEL_Y1</code>,
<code>BESSEL_YN</code>, <code>HYPOT</code>, <code>NORM2</code>, and <code>ERFC_SCALED</code>.

</li><li> Using complex arguments with <code>TAN</code>, <code>SINH</code>, <code>COSH</code>,
<code>TANH</code>, <code>ASIN</code>, <code>ACOS</code>, and <code>ATAN</code> is now possible;
<code>ATAN</code>(<var>Y</var>,<var>X</var>) is now an alias for <code>ATAN2</code>(<var>Y</var>,<var>X</var>).

</li><li> Support of the <code>PARITY</code> intrinsic functions.

</li><li> The following bit intrinsics: <code>LEADZ</code> and <code>TRAILZ</code> for
counting the number of leading and trailing zero bits, <code>POPCNT</code> and
<code>POPPAR</code> for counting the number of one bits and returning the parity;
<code>BGE</code>, <code>BGT</code>, <code>BLE</code>, and <code>BLT</code> for bitwise comparisons;
<code>DSHIFTL</code> and <code>DSHIFTR</code> for combined left and right shifts,
<code>MASKL</code> and <code>MASKR</code> for simple left and right justified masks,
<code>MERGE_BITS</code> for a bitwise merge using a mask, <code>SHIFTA</code>,
<code>SHIFTL</code> and <code>SHIFTR</code> for shift operations, and the
transformational bit intrinsics <code>IALL</code>, <code>IANY</code> and <code>IPARITY</code>.

</li><li> Support of the <code>EXECUTE_COMMAND_LINE</code> intrinsic subroutine.

</li><li> Support for the <code>STORAGE_SIZE</code> intrinsic inquiry function.

</li><li> The <code>INT{8,16,32}</code> and <code>REAL{32,64,128}</code> kind type
parameters and the array-valued named constants <code>INTEGER_KINDS</code>,
<code>LOGICAL_KINDS</code>, <code>REAL_KINDS</code> and <code>CHARACTER_KINDS</code> of
the intrinsic module <code>ISO_FORTRAN_ENV</code>.

</li><li> The module procedures <code>C_SIZEOF</code> of the intrinsic module
<code>ISO_C_BINDINGS</code> and <code>COMPILER_VERSION</code> and <code>COMPILER_OPTIONS</code>
of <code>ISO_FORTRAN_ENV</code>.

</li><li> Coarray support for serial programs with &lsquo;<samp>-fcoarray=single</samp>&rsquo; flag
and experimental support for multiple images with the &lsquo;<samp>-fcoarray=lib</samp>&rsquo;
flag.

</li><li> Submodules are supported. It should noted that <code>MODULEs</code> do not
produce the smod file needed by the descendent <code>SUBMODULEs</code> unless they
contain at least one <code>MODULE PROCEDURE</code> interface. The reason for this is
that <code>SUBMODULEs</code> are useless without <code>MODULE PROCEDUREs</code>. See
http://j3-fortran.org/doc/meeting/207/15-209.txt for a discussion and a draft
interpretation. Adopting this interpretation has the advantage that code that
does not use submodules does not generate smod files.

</li><li> The <code>DO CONCURRENT</code> construct is supported.

</li><li> The <code>BLOCK</code> construct is supported.

</li><li> The <code>STOP</code> and the new <code>ERROR STOP</code> statements now
support all constant expressions. Both show the signals which were signaling
at termination.

</li><li> Support for the <code>CONTIGUOUS</code> attribute.

</li><li> Support for <code>ALLOCATE</code> with <code>MOLD</code>.

</li><li> Support for the <code>IMPURE</code> attribute for procedures, which
allows for <code>ELEMENTAL</code> procedures without the restrictions of
<code>PURE</code>.

</li><li> Null pointers (including <code>NULL()</code>) and not-allocated variables
can be used as actual argument to optional non-pointer, non-allocatable
dummy arguments, denoting an absent argument.

</li><li> Non-pointer variables with <code>TARGET</code> attribute can be used as
actual argument to <code>POINTER</code> dummies with <code>INTENT(IN)</code>.

</li><li> Pointers including procedure pointers and those in a derived
type (pointer components) can now be initialized by a target instead
of only by <code>NULL</code>.

</li><li> The <code>EXIT</code> statement (with construct-name) can be now be
used to leave not only the <code>DO</code> but also the <code>ASSOCIATE</code>,
<code>BLOCK</code>, <code>IF</code>, <code>SELECT CASE</code> and <code>SELECT TYPE</code>
constructs.

</li><li> Internal procedures can now be used as actual argument.

</li><li> Minor features: obsolesce diagnostics for <code>ENTRY</code> with
&lsquo;<samp>-std=f2008</samp>&rsquo;; a line may start with a semicolon; for internal
and module procedures <code>END</code> can be used instead of
<code>END SUBROUTINE</code> and <code>END FUNCTION</code>; <code>SELECTED_REAL_KIND</code>
now also takes a <code>RADIX</code> argument; intrinsic types are supported
for <code>TYPE</code>(<var>intrinsic-type-spec</var>); multiple type-bound procedures
can be declared in a single <code>PROCEDURE</code> statement; implied-shape
arrays are supported for named constants (<code>PARAMETER</code>).
</li></ul>



<hr>
<a name="Fortran-2018-status"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2008-status" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#TS-29113-Status-_0028Further-Interoperability-with-C_0029" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Status-of-Fortran-2018-support"></a>
<h2 class="section">3.3 Status of Fortran 2018 support</h2>

<ul>
<li> ERROR STOP in a PURE procedure
An <code>ERROR STOP</code> statement is permitted in a <code>PURE</code>
procedure.

</li><li> IMPLICIT NONE with a spec-list
Support the <code>IMPLICIT NONE</code> statement with an
<code>implicit-none-spec-list</code>.

</li><li> Behavior of INQUIRE with the RECL= specifier

<p>The behavior of the <code>INQUIRE</code> statement with the <code>RECL=</code>
specifier now conforms to Fortran 2018.
</p>
</li></ul>


<hr>
<a name="TS-29113-Status-_0028Further-Interoperability-with-C_0029"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2018-status" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2018-status" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#TS-18508-Status-_0028Additional-Parallel-Features_0029" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.3.1 TS 29113 Status (Further Interoperability with C)</h3>

<p>GNU Fortran supports some of the new features of the Technical
Specification (TS) 29113 on Further Interoperability of Fortran with C.
The <a href="https://gcc.gnu.org/wiki/TS29113Status">wiki</a> has some information
about the current TS 29113 implementation status.  In particular, the
following is implemented.
</p>
<p>See also <a href="#Further-Interoperability-of-Fortran-with-C">Further Interoperability of Fortran with C</a>.
</p>
<ul>
<li> The <code>OPTIONAL</code> attribute is allowed for dummy arguments
of <code>BIND(C) procedures.</code>

</li><li> The <code>RANK</code> intrinsic is supported.

</li><li> GNU Fortran&rsquo;s implementation for variables with <code>ASYNCHRONOUS</code>
attribute is compatible with TS 29113.

</li><li> Assumed types (<code>TYPE(*)</code>).

</li><li> Assumed-rank (<code>DIMENSION(..)</code>).

</li><li> ISO_Fortran_binding (now in Fortran 2018 18.4) is implemented such that
conversion of the array descriptor for assumed type or assumed rank arrays is
done in the library. The include file ISO_Fortran_binding.h is can be found in
<code>~prefix/lib/gcc/$target/$version</code>.
</li></ul>



<hr>
<a name="TS-18508-Status-_0028Additional-Parallel-Features_0029"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#TS-29113-Status-_0028Further-Interoperability-with-C_0029" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Fortran-2018-status" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">3.3.2 TS 18508 Status (Additional Parallel Features)</h3>

<p>GNU Fortran supports the following new features of the Technical
Specification 18508 on Additional Parallel Features in Fortran:
</p>
<ul>
<li> The new atomic ADD, CAS, FETCH and ADD/OR/XOR, OR and XOR intrinsics.

</li><li> The <code>CO_MIN</code> and <code>CO_MAX</code> and <code>SUM</code> reduction intrinsics.
And the <code>CO_BROADCAST</code> and <code>CO_REDUCE</code> intrinsic, except that those
do not support polymorphic types or types with allocatable, pointer or
polymorphic components.

</li><li> Events (<code>EVENT POST</code>, <code>EVENT WAIT</code>, <code>EVENT_QUERY</code>)

</li><li> Failed images (<code>FAIL IMAGE</code>, <code>IMAGE_STATUS</code>,
<code>FAILED_IMAGES</code>, <code>STOPPED_IMAGES</code>)

</li></ul>



<hr>
<a name="Compiler-Characteristics"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Fortran-standards-status" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#TS-18508-Status-_0028Additional-Parallel-Features_0029" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#KIND-Type-Parameters" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Compiler-Characteristics-1"></a>
<h1 class="chapter">4 Compiler Characteristics</h1>

<p>This chapter describes certain characteristics of the GNU Fortran
compiler, that are not specified by the Fortran standard, but which
might in some way or another become visible to the programmer.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#KIND-Type-Parameters">4.1 KIND Type Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Internal-representation-of-LOGICAL-variables">4.2 Internal representation of LOGICAL variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Evaluation-of-logical-expressions">4.3 Evaluation of logical expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#MAX-and-MIN-intrinsics-with-REAL-NaN-arguments">4.4 MAX and MIN intrinsics with REAL NaN arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Thread_002dsafety-of-the-runtime-library">4.5 Thread-safety of the runtime library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Data-consistency-and-durability">4.6 Data consistency and durability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Files-opened-without-an-explicit-ACTION_003d-specifier">4.7 Files opened without an explicit ACTION= specifier</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#File-operations-on-symbolic-links">4.8 File operations on symbolic links</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Asynchronous-I_002fO">4.10 Asynchronous I/O</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<a name="KIND-Type-Parameters"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-representation-of-LOGICAL-variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="KIND-Type-Parameters-1"></a>
<h2 class="section">4.1 KIND Type Parameters</h2>
<a name="index-kind"></a>

<p>The <code>KIND</code> type parameters supported by GNU Fortran for the primitive
data types are:
</p>
<dl compact="compact">
<dt><code>INTEGER</code></dt>
<dd><p>1, 2, 4, 8*, 16*, default: 4**
</p>
</dd>
<dt><code>LOGICAL</code></dt>
<dd><p>1, 2, 4, 8*, 16*, default: 4**
</p>
</dd>
<dt><code>REAL</code></dt>
<dd><p>4, 8, 10*, 16*, default: 4***
</p>
</dd>
<dt><code>COMPLEX</code></dt>
<dd><p>4, 8, 10*, 16*, default: 4***
</p>
</dd>
<dt><code>DOUBLE PRECISION</code></dt>
<dd><p>4, 8, 10*, 16*, default: 8***
</p>
</dd>
<dt><code>CHARACTER</code></dt>
<dd><p>1, 4, default: 1
</p>
</dd>
</dl>

<p>* not available on all systems <br>
** unless &lsquo;<samp>-fdefault-integer-8</samp>&rsquo; is used <br>
*** unless &lsquo;<samp>-fdefault-real-8</samp>&rsquo; is used (see @ref{Fortran Dialect Options})
</p>
<p>The <code>KIND</code> value matches the storage size in bytes, except for
<code>COMPLEX</code> where the storage size is twice as much (or both real and
imaginary part are a real value of the given size).  It is recommended to use
the @ref{SELECTED_CHAR_KIND}, @ref{SELECTED_INT_KIND} and
@ref{SELECTED_REAL_KIND} intrinsics or the <code>INT8</code>, <code>INT16</code>,
<code>INT32</code>, <code>INT64</code>, <code>REAL32</code>, <code>REAL64</code>, and <code>REAL128</code>
parameters of the <code>ISO_FORTRAN_ENV</code> module instead of the concrete values.
The available kind parameters can be found in the constant arrays
<code>CHARACTER_KINDS</code>, <code>INTEGER_KINDS</code>, <code>LOGICAL_KINDS</code> and
<code>REAL_KINDS</code> in the @ref{ISO_FORTRAN_ENV} module.  For C interoperability,
the kind parameters of the @ref{ISO_C_BINDING} module should be used.
</p>

<hr>
<a name="Internal-representation-of-LOGICAL-variables"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#KIND-Type-Parameters" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Evaluation-of-logical-expressions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Internal-representation-of-LOGICAL-variables-1"></a>
<h2 class="section">4.2 Internal representation of LOGICAL variables</h2>
<a name="index-logical_002c-variable-representation"></a>

<p>The Fortran standard does not specify how variables of <code>LOGICAL</code>
type are represented, beyond requiring that <code>LOGICAL</code> variables
of default kind have the same storage size as default <code>INTEGER</code>
and <code>REAL</code> variables.  The GNU Fortran internal representation is
as follows.
</p>
<p>A <code>LOGICAL(KIND=N)</code> variable is represented as an
<code>INTEGER(KIND=N)</code> variable, however, with only two permissible
values: <code>1</code> for <code>.TRUE.</code> and <code>0</code> for
<code>.FALSE.</code>.  Any other integer value results in undefined behavior.
</p>
<p>See also <a href="#Argument-passing-conventions">Argument passing conventions</a> and <a href="#Interoperability-with-C">Interoperability with C</a>.
</p>

<hr>
<a name="Evaluation-of-logical-expressions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Internal-representation-of-LOGICAL-variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#MAX-and-MIN-intrinsics-with-REAL-NaN-arguments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Evaluation-of-logical-expressions-1"></a>
<h2 class="section">4.3 Evaluation of logical expressions</h2>

<p>The Fortran standard does not require the compiler to evaluate all parts of an
expression, if they do not contribute to the final result.  For logical
expressions with <code>.AND.</code> or <code>.OR.</code> operators, in particular, GNU
Fortran will optimize out function calls (even to impure functions) if the
result of the expression can be established without them.  However, since not
all compilers do that, and such an optimization can potentially modify the
program flow and subsequent results, GNU Fortran throws warnings for such
situations with the &lsquo;<samp>-Wfunction-elimination</samp>&rsquo; flag.
</p>

<hr>
<a name="MAX-and-MIN-intrinsics-with-REAL-NaN-arguments"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Evaluation-of-logical-expressions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Thread_002dsafety-of-the-runtime-library" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="MAX-and-MIN-intrinsics-with-REAL-NaN-arguments-1"></a>
<h2 class="section">4.4 MAX and MIN intrinsics with REAL NaN arguments</h2>
<a name="index-MAX_002c-MIN_002c-NaN"></a>

<p>The Fortran standard does not specify what the result of the
<code>MAX</code> and <code>MIN</code> intrinsics are if one of the arguments is a
<code>NaN</code>.  Accordingly, the GNU Fortran compiler does not specify
that either, as this allows for faster and more compact code to be
generated.  If the programmer wishes to take some specific action in
case one of the arguments is a <code>NaN</code>, it is necessary to
explicitly test the arguments before calling <code>MAX</code> or <code>MIN</code>,
e.g. with the <code>IEEE_IS_NAN</code> function from the intrinsic module
<code>IEEE_ARITHMETIC</code>.
</p>

<hr>
<a name="Thread_002dsafety-of-the-runtime-library"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#MAX-and-MIN-intrinsics-with-REAL-NaN-arguments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Data-consistency-and-durability" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Thread_002dsafety-of-the-runtime-library-1"></a>
<h2 class="section">4.5 Thread-safety of the runtime library</h2>
<a name="index-thread_002dsafety_002c-threads"></a>

<p>GNU Fortran can be used in programs with multiple threads, e.g. by
using OpenMP, by calling OS thread handling functions via the
<code>ISO_C_BINDING</code> facility, or by GNU Fortran compiled library code
being called from a multi-threaded program.
</p>
<p>The GNU Fortran runtime library, (<code>libgfortran</code>), supports being
called concurrently from multiple threads with the following
exceptions.
</p>
<p>During library initialization, the C <code>getenv</code> function is used,
which need not be thread-safe.  Similarly, the <code>getenv</code>
function is used to implement the <code>GET_ENVIRONMENT_VARIABLE</code> and
<code>GETENV</code> intrinsics.  It is the responsibility of the user to
ensure that the environment is not being updated concurrently when any
of these actions are taking place.
</p>
<p>The <code>EXECUTE_COMMAND_LINE</code> and <code>SYSTEM</code> intrinsics are
implemented with the <code>system</code> function, which need not be
thread-safe.  It is the responsibility of the user to ensure that
<code>system</code> is not called concurrently.
</p>
<p>For platforms not supporting thread-safe POSIX functions, further
functionality might not be thread-safe.  For details, please consult
the documentation for your operating system.
</p>
<p>The GNU Fortran runtime library uses various C library functions that
depend on the locale, such as <code>strtod</code> and <code>snprintf</code>.  In
order to work correctly in locale-aware programs that set the locale
using <code>setlocale</code>, the locale is reset to the default &ldquo;C&rdquo;
locale while executing a formatted <code>READ</code> or <code>WRITE</code>
statement.  On targets supporting the POSIX 2008 per-thread locale
functions (e.g. <code>newlocale</code>, <code>uselocale</code>,
<code>freelocale</code>), these are used and thus the global locale set
using <code>setlocale</code> or the per-thread locales in other threads are
not affected.  However, on targets lacking this functionality, the
global LC_NUMERIC locale is set to &ldquo;C&rdquo; during the formatted I/O.
Thus, on such targets it&rsquo;s not safe to call <code>setlocale</code>
concurrently from another thread while a Fortran formatted I/O
operation is in progress.  Also, other threads doing something
dependent on the LC_NUMERIC locale might not work correctly if a
formatted I/O operation is in progress in another thread.
</p>
<hr>
<a name="Data-consistency-and-durability"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Thread_002dsafety-of-the-runtime-library" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Files-opened-without-an-explicit-ACTION_003d-specifier" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Data-consistency-and-durability-1"></a>
<h2 class="section">4.6 Data consistency and durability</h2>
<a name="index-consistency_002c-durability"></a>

<p>This section contains a brief overview of data and metadata
consistency and durability issues when doing I/O.
</p>
<p>With respect to durability, GNU Fortran makes no effort to ensure that
data is committed to stable storage. If this is required, the GNU
Fortran programmer can use the intrinsic <code>FNUM</code> to retrieve the
low level file descriptor corresponding to an open Fortran unit. Then,
using e.g. the <code>ISO_C_BINDING</code> feature, one can call the
underlying system call to flush dirty data to stable storage, such as
<code>fsync</code> on POSIX, <code>_commit</code> on MingW, or <code>fcntl(fd,
F_FULLSYNC, 0)</code> on Mac OS X. The following example shows how to call
fsync:
</p>
<div class="smallexample">
<pre class="smallexample">  ! Declare the interface for POSIX fsync function
  interface
    function fsync (fd) bind(c,name=&quot;fsync&quot;)
    use iso_c_binding, only: c_int
      integer(c_int), value :: fd
      integer(c_int) :: fsync
    end function fsync
  end interface

  ! Variable declaration
  integer :: ret

  ! Opening unit 10
  open (10,file=&quot;foo&quot;)

  ! ...
  ! Perform I/O on unit 10
  ! ...

  ! Flush and sync
  flush(10)
  ret = fsync(fnum(10))

  ! Handle possible error
  if (ret /= 0) stop &quot;Error calling FSYNC&quot;
</pre></div>

<p>With respect to consistency, for regular files GNU Fortran uses
buffered I/O in order to improve performance. This buffer is flushed
automatically when full and in some other situations, e.g. when
closing a unit. It can also be explicitly flushed with the
<code>FLUSH</code> statement. Also, the buffering can be turned off with the
<code>GFORTRAN_UNBUFFERED_ALL</code> and
<code>GFORTRAN_UNBUFFERED_PRECONNECTED</code> environment variables. Special
files, such as terminals and pipes, are always unbuffered. Sometimes,
however, further things may need to be done in order to allow other
processes to see data that GNU Fortran has written, as follows.
</p>
<p>The Windows platform supports a relaxed metadata consistency model,
where file metadata is written to the directory lazily. This means
that, for instance, the <code>dir</code> command can show a stale size for a
file. One can force a directory metadata update by closing the unit,
or by calling <code>_commit</code> on the file descriptor. Note, though,
that <code>_commit</code> will force all dirty data to stable storage, which
is often a very slow operation.
</p>
<p>The Network File System (NFS) implements a relaxed consistency model
called open-to-close consistency. Closing a file forces dirty data and
metadata to be flushed to the server, and opening a file forces the
client to contact the server in order to revalidate cached
data. <code>fsync</code> will also force a flush of dirty data and metadata
to the server. Similar to <code>open</code> and <code>close</code>, acquiring and
releasing <code>fcntl</code> file locks, if the server supports them, will
also force cache validation and flushing dirty data and metadata.
</p>

<hr>
<a name="Files-opened-without-an-explicit-ACTION_003d-specifier"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Data-consistency-and-durability" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#File-operations-on-symbolic-links" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Files-opened-without-an-explicit-ACTION_003d-specifier-1"></a>
<h2 class="section">4.7 Files opened without an explicit ACTION= specifier</h2>
<a name="index-open_002c-action"></a>

<p>The Fortran standard says that if an <code>OPEN</code> statement is executed
without an explicit <code>ACTION=</code> specifier, the default value is
processor dependent.  GNU Fortran behaves as follows:
</p>
<ol>
<li> Attempt to open the file with <code>ACTION='READWRITE'</code>
</li><li> If that fails, try to open with <code>ACTION='READ'</code>
</li><li> If that fails, try to open with <code>ACTION='WRITE'</code>
</li><li> If that fails, generate an error
</li></ol>


<hr>
<a name="File-operations-on-symbolic-links"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Files-opened-without-an-explicit-ACTION_003d-specifier" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#File-format-of-unformatted-sequential-files" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="File-operations-on-symbolic-links-1"></a>
<h2 class="section">4.8 File operations on symbolic links</h2>
<a name="index-file_002c-symbolic-link"></a>

<p>This section documents the behavior of GNU Fortran for file operations on
symbolic links, on systems that support them.
</p>
<ul>
<li> Results of INQUIRE statements of the &ldquo;inquire by file&rdquo; form will
relate to the target of the symbolic link. For example,
<code>INQUIRE(FILE=&quot;foo&quot;,EXIST=ex)</code> will set <var>ex</var> to <var>.true.</var> if
<var>foo</var> is a symbolic link pointing to an existing file, and <var>.false.</var>
if <var>foo</var> points to an non-existing file (&ldquo;dangling&rdquo; symbolic link).

</li><li> Using the <code>OPEN</code> statement with a <code>STATUS=&quot;NEW&quot;</code> specifier
on a symbolic link will result in an error condition, whether the symbolic
link points to an existing target or is dangling.

</li><li> If a symbolic link was connected, using the <code>CLOSE</code> statement
with a <code>STATUS=&quot;DELETE&quot;</code> specifier will cause the symbolic link itself
to be deleted, not its target.

</li></ul>

<hr>
<a name="File-format-of-unformatted-sequential-files"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#File-operations-on-symbolic-links" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Asynchronous-I_002fO" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="File-format-of-unformatted-sequential-files-1"></a>
<h2 class="section">4.9 File format of unformatted sequential files</h2>
<a name="index-file_002c-unformatted-sequential"></a>
<a name="index-unformatted-sequential"></a>
<a name="index-sequential_002c-unformatted"></a>
<a name="index-record-marker"></a>
<a name="index-subrecord"></a>

<p>Unformatted sequential files are stored as logical records using
record markers.  Each logical record consists of one of more
subrecords.
</p>
<p>Each subrecord consists of a leading record marker, the data written
by the user program, and a trailing record marker.  The record markers
are four-byte integers by default, and eight-byte integers if the
&lsquo;<samp>-fmax-subrecord-length=8</samp>&rsquo; option (which exists for backwards
compability only) is in effect.
</p>
<p>The representation of the record markers is that of unformatted files
given with the &lsquo;<samp>-fconvert</samp>&rsquo; option, the <a href="#CONVERT-specifier"><code>CONVERT</code> specifier</a>
in an open statement or the <a href="#GFORTRAN_005fCONVERT_005fUNIT"><code>GFORTRAN_CONVERT_UNIT</code>&mdash;Set endianness for unformatted I/O</a> environment
variable.
</p>
<p>The maximum number of bytes of user data in a subrecord is 2147483639
(2 GiB - 9) for a four-byte record marker.  This limit can be lowered
with the &lsquo;<samp>-fmax-subrecord-length</samp>&rsquo; option, altough this is
rarely useful. If the length of a logical record exceeds this limit,
the data is distributed among several subrecords.
</p>
<p>The absolute of the number stored in the record markers is the number
of bytes of user data in the corresponding subrecord.  If the leading
record marker of a subrecord contains a negative number, another
subrecord follows the current one.  If the trailing record marker
contains a negative number, then there is a preceding subrecord.
</p>
<p>In the most simple case, with only one subrecord per logical record,
both record markers contain the number of bytes of user data in the
record.
</p>
<p>The format for unformatted sequential data can be duplicated using
unformatted stream, as shown in the example program for an unformatted
record containing a single subrecord:
</p>
<div class="smallexample">
<pre class="smallexample">program main
  use iso_fortran_env, only: int32
  implicit none
  integer(int32) :: i
  real, dimension(10) :: a, b
  call random_number(a)
  open (10,file='test.dat',form='unformatted',access='stream')
  inquire (iolength=i) a
  write (10) i, a, i
  close (10)
  open (10,file='test.dat',form='unformatted')
  read (10) b
  if (all (a == b)) print *,'success!'
end program main
</pre></div>

<hr>
<a name="Asynchronous-I_002fO"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#File-format-of-unformatted-sequential-files" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Asynchronous-I_002fO-1"></a>
<h2 class="section">4.10 Asynchronous I/O</h2>
<a name="index-input_002foutput_002c-asynchronous"></a>
<a name="index-asynchronous-I_002fO"></a>

<p>Asynchronous I/O is supported if the program is linked against the
POSIX thread library. If that is not the case, all I/O is performed
as synchronous. On systems which do not support pthread condition
variables, such as AIX, I/O is also performed as synchronous.
</p>
<p>On some systems, such as Darwin or Solaris, the POSIX thread library
is always linked in, so asynchronous I/O is always performed. On other
sytems, such as Linux, it is necessary to specify &lsquo;<samp>-pthread</samp>&rsquo;,
&lsquo;<samp>-lpthread</samp>&rsquo; or &lsquo;<samp>-fopenmp</samp>&rsquo; during the linking step.
</p>


<hr>
<a name="Extensions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Compiler-Characteristics" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Asynchronous-I_002fO" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extensions-1"></a>
<h1 class="chapter">5 Extensions</h1>
<a name="index-extensions"></a>

<p>The two sections below detail the extensions to standard Fortran that are
implemented in GNU Fortran, as well as some of the popular or
historically important extensions that are not (or not yet) implemented.
For the latter case, we explain the alternatives available to GNU Fortran
users, including replacement by standard-conforming code or GNU
extensions.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Extensions-implemented-in-GNU-Fortran">5.1 Extensions implemented in GNU Fortran</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Extensions-not-implemented-in-GNU-Fortran">5.2 Extensions not implemented in GNU Fortran</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<a name="Extensions-implemented-in-GNU-Fortran"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old_002dstyle-kind-specifications" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extensions-implemented-in-GNU-Fortran-1"></a>
<h2 class="section">5.1 Extensions implemented in GNU Fortran</h2>
<a name="index-extensions_002c-implemented"></a>

<p>GNU Fortran implements a number of extensions over standard Fortran.
This chapter contains information on their syntax and meaning.  There
are currently two categories of GNU Fortran extensions, those that
provide functionality beyond that provided by any standard, and those
that are supported by GNU Fortran purely for backward compatibility
with legacy compilers.  By default, &lsquo;<samp>-std=gnu</samp>&rsquo; allows the
compiler to accept both types of extensions, but to warn about the use
of the latter.  Specifying either &lsquo;<samp>-std=f95</samp>&rsquo;,
&lsquo;<samp>-std=f2003</samp>&rsquo;, &lsquo;<samp>-std=f2008</samp>&rsquo;, or &lsquo;<samp>-std=f2018</samp>&rsquo;
disables both types of extensions, and &lsquo;<samp>-std=legacy</samp>&rsquo; allows
both without warning.  The special compile flag &lsquo;<samp>-fdec</samp>&rsquo; enables
additional compatibility extensions along with those enabled by
&lsquo;<samp>-std=legacy</samp>&rsquo;.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Old_002dstyle-kind-specifications">5.1.1 Old-style kind specifications</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Old_002dstyle-variable-initialization">5.1.2 Old-style variable initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Extensions-to-namelist">5.1.3 Extensions to namelist</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#X-format-descriptor-without-count-field">5.1.4 <code>X</code> format descriptor without count field</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Commas-in-FORMAT-specifications">5.1.5 Commas in <code>FORMAT</code> specifications</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Missing-period-in-FORMAT-specifications">5.1.6 Missing period in <code>FORMAT</code> specifications</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Default-widths-for-F_002c-G-and-I-format-descriptors">5.1.7 Default widths for <code>F</code>, <code>G</code> and <code>I</code> format descriptors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#I_002fO-item-lists">5.1.8 I/O item lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Q-exponent_002dletter">5.1.9 <code>Q</code> exponent-letter</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#BOZ-literal-constants">5.1.10 BOZ literal constants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Real-array-indices">5.1.11 Real array indices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Unary-operators">5.1.12 Unary operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicitly-convert-LOGICAL-and-INTEGER-values">5.1.13 Implicitly convert <code>LOGICAL</code> and <code>INTEGER</code> values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Hollerith-constants-support">5.1.14 Hollerith constants support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Cray-pointers">5.1.15 Cray pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#CONVERT-specifier">5.1.16 <code>CONVERT</code> specifier</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#OpenMP">5.1.17 OpenMP</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#OpenACC">5.1.18 OpenACC</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Read_002fWrite-after-EOF-marker">5.1.20 Read/Write after EOF marker</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#STRUCTURE-and-RECORD">5.1.21 <code>STRUCTURE</code> and <code>RECORD</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#UNION-and-MAP">5.1.22 <code>UNION</code> and <code>MAP</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Type-variants-for-integer-intrinsics">5.1.23 Type variants for integer intrinsics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#AUTOMATIC-and-STATIC-attributes">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Extended-math-intrinsics">5.1.25 Extended math intrinsics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Form-feed-as-whitespace">5.1.26 Form feed as whitespace</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#TYPE-as-an-alias-for-PRINT">5.1.27 TYPE as an alias for PRINT</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_0025LOC-as-an-rvalue">5.1.28 %LOC as an rvalue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_002eXOR_002e-operator">5.1.29 .XOR. operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Bitwise-logical-operators">5.1.30 Bitwise logical operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Legacy-PARAMETER-statements">5.1.32 Legacy PARAMETER statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Default-exponents">5.1.33 Default exponents</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="Old_002dstyle-kind-specifications"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Old_002dstyle-variable-initialization" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Old_002dstyle-kind-specifications-1"></a>
<h3 class="subsection">5.1.1 Old-style kind specifications</h3>
<a name="index-kind_002c-old_002dstyle"></a>

<p>GNU Fortran allows old-style kind specifications in declarations.  These
look like:
</p><div class="smallexample">
<pre class="smallexample">      TYPESPEC*size x,y,z
</pre></div>
<p>where <code>TYPESPEC</code> is a basic type (<code>INTEGER</code>, <code>REAL</code>,
etc.), and where <code>size</code> is a byte count corresponding to the
storage size of a valid kind for that type.  (For <code>COMPLEX</code>
variables, <code>size</code> is the total size of the real and imaginary
parts.)  The statement then declares <code>x</code>, <code>y</code> and <code>z</code> to
be of type <code>TYPESPEC</code> with the appropriate kind.  This is
equivalent to the standard-conforming declaration
</p><div class="smallexample">
<pre class="smallexample">      TYPESPEC(k) x,y,z
</pre></div>
<p>where <code>k</code> is the kind parameter suitable for the intended precision.  As
kind parameters are implementation-dependent, use the <code>KIND</code>,
<code>SELECTED_INT_KIND</code> and <code>SELECTED_REAL_KIND</code> intrinsics to retrieve
the correct value, for instance <code>REAL*8 x</code> can be replaced by:
</p><div class="smallexample">
<pre class="smallexample">INTEGER, PARAMETER :: dbl = KIND(1.0d0)
REAL(KIND=dbl) :: x
</pre></div>

<hr>
<a name="Old_002dstyle-variable-initialization"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Old_002dstyle-kind-specifications" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-to-namelist" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Old_002dstyle-variable-initialization-1"></a>
<h3 class="subsection">5.1.2 Old-style variable initialization</h3>

<p>GNU Fortran allows old-style initialization of variables of the
form:
</p><div class="smallexample">
<pre class="smallexample">      INTEGER i/1/,j/2/
      REAL x(2,2) /3*0.,1./
</pre></div>
<p>The syntax for the initializers is as for the <code>DATA</code> statement, but
unlike in a <code>DATA</code> statement, an initializer only applies to the
variable immediately preceding the initialization.  In other words,
something like <code>INTEGER I,J/2,3/</code> is not valid.  This style of
initialization is only allowed in declarations without double colons
(<code>::</code>); the double colons were introduced in Fortran 90, which also
introduced a standard syntax for initializing variables in type
declarations.
</p>
<p>Examples of standard-conforming code equivalent to the above example
are:
</p><div class="smallexample">
<pre class="smallexample">! Fortran 90
      INTEGER :: i = 1, j = 2
      REAL :: x(2,2) = RESHAPE((/0.,0.,0.,1./),SHAPE(x))
! Fortran 77
      INTEGER i, j
      REAL x(2,2)
      DATA i/1/, j/2/, x/3*0.,1./
</pre></div>

<p>Note that variables which are explicitly initialized in declarations
or in <code>DATA</code> statements automatically acquire the <code>SAVE</code>
attribute.
</p>
<hr>
<a name="Extensions-to-namelist"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Old_002dstyle-variable-initialization" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#X-format-descriptor-without-count-field" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extensions-to-namelist-1"></a>
<h3 class="subsection">5.1.3 Extensions to namelist</h3>
<a name="index-Namelist"></a>

<p>GNU Fortran fully supports the Fortran 95 standard for namelist I/O
including array qualifiers, substrings and fully qualified derived types.
The output from a namelist write is compatible with namelist read.  The
output has all names in upper case and indentation to column 1 after the
namelist name.  Two extensions are permitted:
</p>
<p>Old-style use of &lsquo;<samp>$</samp>&rsquo; instead of &lsquo;<samp>&amp;</samp>&rsquo;
</p><div class="smallexample">
<pre class="smallexample">$MYNML
 X(:)%Y(2) = 1.0 2.0 3.0
 CH(1:4) = &quot;abcd&quot;
$END
</pre></div>

<p>It should be noted that the default terminator is &lsquo;<samp>/</samp>&rsquo; rather than
&lsquo;<samp>&amp;END</samp>&rsquo;.
</p>
<p>Querying of the namelist when inputting from stdin.  After at least
one space, entering &lsquo;<samp>?</samp>&rsquo; sends to stdout the namelist name and the names of
the variables in the namelist:
</p><div class="smallexample">
<pre class="smallexample"> ?

&amp;mynml
 x
 x%y
 ch
&amp;end
</pre></div>

<p>Entering &lsquo;<samp>=?</samp>&rsquo; outputs the namelist to stdout, as if
<code>WRITE(*,NML = mynml)</code> had been called:
</p><div class="smallexample">
<pre class="smallexample">=?

&amp;MYNML
 X(1)%Y=  0.000000    ,  1.000000    ,  0.000000    ,
 X(2)%Y=  0.000000    ,  2.000000    ,  0.000000    ,
 X(3)%Y=  0.000000    ,  3.000000    ,  0.000000    ,
 CH=abcd,  /
</pre></div>

<p>To aid this dialog, when input is from stdin, errors send their
messages to stderr and execution continues, even if <code>IOSTAT</code> is set.
</p>
<p><code>PRINT</code> namelist is permitted.  This causes an error if
&lsquo;<samp>-std=f95</samp>&rsquo; is used.
</p><div class="smallexample">
<pre class="smallexample">PROGRAM test_print
  REAL, dimension (4)  ::  x = (/1.0, 2.0, 3.0, 4.0/)
  NAMELIST /mynml/ x
  PRINT mynml
END PROGRAM test_print
</pre></div>

<p>Expanded namelist reads are permitted.  This causes an error if
&lsquo;<samp>-std=f95</samp>&rsquo; is used.  In the following example, the first element
of the array will be given the value 0.00 and the two succeeding
elements will be given the values 1.00 and 2.00.
</p><div class="smallexample">
<pre class="smallexample">&amp;MYNML
  X(1,1) = 0.00 , 1.00 , 2.00
/
</pre></div>

<p>When writing a namelist, if no <code>DELIM=</code> is specified, by default a
double quote is used to delimit character strings. If -std=F95, F2003,
or F2008, etc, the delim status is set to &rsquo;none&rsquo;.  Defaulting to
quotes ensures that namelists with character strings can be subsequently
read back in accurately.
</p>
<hr>
<a name="X-format-descriptor-without-count-field"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-to-namelist" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Commas-in-FORMAT-specifications" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="X-format-descriptor-without-count-field-1"></a>
<h3 class="subsection">5.1.4 <code>X</code> format descriptor without count field</h3>

<p>To support legacy codes, GNU Fortran permits the count field of the
<code>X</code> edit descriptor in <code>FORMAT</code> statements to be omitted.
When omitted, the count is implicitly assumed to be one.
</p>
<div class="smallexample">
<pre class="smallexample">       PRINT 10, 2, 3
10     FORMAT (I1, X, I1)
</pre></div>

<hr>
<a name="Commas-in-FORMAT-specifications"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#X-format-descriptor-without-count-field" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Missing-period-in-FORMAT-specifications" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Commas-in-FORMAT-specifications-1"></a>
<h3 class="subsection">5.1.5 Commas in <code>FORMAT</code> specifications</h3>

<p>To support legacy codes, GNU Fortran allows the comma separator
to be omitted immediately before and after character string edit
descriptors in <code>FORMAT</code> statements.  A comma with no following format
decriptor is permited if the &lsquo;<samp>-fdec-blank-format-item</samp>&rsquo; is given on
the command line. This is considered non-conforming code and is
discouraged.
</p>
<div class="smallexample">
<pre class="smallexample">       PRINT 10, 2, 3
10     FORMAT ('FOO='I1' BAR='I2)
       print 20, 5, 6
20     FORMAT (I3, I3,)
</pre></div>


<hr>
<a name="Missing-period-in-FORMAT-specifications"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Commas-in-FORMAT-specifications" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Default-widths-for-F_002c-G-and-I-format-descriptors" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Missing-period-in-FORMAT-specifications-1"></a>
<h3 class="subsection">5.1.6 Missing period in <code>FORMAT</code> specifications</h3>

<p>To support legacy codes, GNU Fortran allows missing periods in format
specifications if and only if &lsquo;<samp>-std=legacy</samp>&rsquo; is given on the
command line.  This is considered non-conforming code and is
discouraged.
</p>
<div class="smallexample">
<pre class="smallexample">       REAL :: value
       READ(*,10) value
10     FORMAT ('F4')
</pre></div>

<hr>
<a name="Default-widths-for-F_002c-G-and-I-format-descriptors"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Missing-period-in-FORMAT-specifications" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#I_002fO-item-lists" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-widths-for-F_002c-G-and-I-format-descriptors-1"></a>
<h3 class="subsection">5.1.7 Default widths for <code>F</code>, <code>G</code> and <code>I</code> format descriptors</h3>

<p>To support legacy codes, GNU Fortran allows width to be omitted from format
specifications if and only if &lsquo;<samp>-fdec-format-defaults</samp>&rsquo; is given on the
command line.  Default widths will be used. This is considered non-conforming
code and is discouraged.
</p>
<div class="smallexample">
<pre class="smallexample">       REAL :: value1
       INTEGER :: value2
       WRITE(*,10) value1, value1, value2
10     FORMAT ('F, G, I')
</pre></div>


<hr>
<a name="I_002fO-item-lists"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Default-widths-for-F_002c-G-and-I-format-descriptors" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Q-exponent_002dletter" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="I_002fO-item-lists-1"></a>
<h3 class="subsection">5.1.8 I/O item lists</h3>
<a name="index-I_002fO-item-lists"></a>

<p>To support legacy codes, GNU Fortran allows the input item list
of the <code>READ</code> statement, and the output item lists of the
<code>WRITE</code> and <code>PRINT</code> statements, to start with a comma.
</p>
<hr>
<a name="Q-exponent_002dletter"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#I_002fO-item-lists" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#BOZ-literal-constants" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Q-exponent_002dletter-1"></a>
<h3 class="subsection">5.1.9 <code>Q</code> exponent-letter</h3>
<a name="index-Q-exponent_002dletter"></a>

<p>GNU Fortran accepts real literal constants with an exponent-letter
of <code>Q</code>, for example, <code>1.23Q45</code>.  The constant is interpreted
as a <code>REAL(16)</code> entity on targets that support this type.  If
the target does not support <code>REAL(16)</code> but has a <code>REAL(10)</code>
type, then the real-literal-constant will be interpreted as a
<code>REAL(10)</code> entity.  In the absence of <code>REAL(16)</code> and
<code>REAL(10)</code>, an error will occur.
</p>
<hr>
<a name="BOZ-literal-constants"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Q-exponent_002dletter" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Real-array-indices" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="BOZ-literal-constants-1"></a>
<h3 class="subsection">5.1.10 BOZ literal constants</h3>
<a name="index-BOZ-literal-constants"></a>

<p>Besides decimal constants, Fortran also supports binary (<code>b</code>),
octal (<code>o</code>) and hexadecimal (<code>z</code>) integer constants.  The
syntax is: &lsquo;<samp>prefix quote digits quote</samp>&rsquo;, were the prefix is
either <code>b</code>, <code>o</code> or <code>z</code>, quote is either <code>'</code> or
<code>&quot;</code> and the digits are for binary <code>0</code> or <code>1</code>, for
octal between <code>0</code> and <code>7</code>, and for hexadecimal between
<code>0</code> and <code>F</code>.  (Example: <code>b'01011101'</code>.)
</p>
<p>Up to Fortran 95, BOZ literals were only allowed to initialize
integer variables in DATA statements.  Since Fortran 2003 BOZ literals
are also allowed as argument of <code>REAL</code>, <code>DBLE</code>, <code>INT</code>
and <code>CMPLX</code>; the result is the same as if the integer BOZ
literal had been converted by <code>TRANSFER</code> to, respectively,
<code>real</code>, <code>double precision</code>, <code>integer</code> or <code>complex</code>.
As GNU Fortran extension the intrinsic procedures <code>FLOAT</code>,
<code>DFLOAT</code>, <code>COMPLEX</code> and <code>DCMPLX</code> are treated alike.
</p>
<p>As an extension, GNU Fortran allows hexadecimal BOZ literal constants to
be specified using the <code>X</code> prefix, in addition to the standard
<code>Z</code> prefix.  The BOZ literal can also be specified by adding a
suffix to the string, for example, <code>Z'ABC'</code> and <code>'ABC'Z</code> are
equivalent.
</p>
<p>Furthermore, GNU Fortran allows using BOZ literal constants outside
DATA statements and the four intrinsic functions allowed by Fortran 2003.
In DATA statements, in direct assignments, where the right-hand side
only contains a BOZ literal constant, and for old-style initializers of
the form <code>integer i /o'0173'/</code>, the constant is transferred
as if <code>TRANSFER</code> had been used; for <code>COMPLEX</code> numbers, only
the real part is initialized unless <code>CMPLX</code> is used.  In all other
cases, the BOZ literal constant is converted to an <code>INTEGER</code> value with
the largest decimal representation.  This value is then converted
numerically to the type and kind of the variable in question.
(For instance, <code>real :: r = b'0000001' + 1</code> initializes <code>r</code>
with <code>2.0</code>.) As different compilers implement the extension
differently, one should be careful when doing bitwise initialization
of non-integer variables.
</p>
<p>Note that initializing an <code>INTEGER</code> variable with a statement such
as <code>DATA i/Z'FFFFFFFF'/</code> will give an integer overflow error rather
than the desired result of <em>-1</em> when <code>i</code> is a 32-bit integer
on a system that supports 64-bit integers.  The &lsquo;<samp>-fno-range-check</samp>&rsquo;
option can be used as a workaround for legacy code that initializes
integers in this manner.
</p>
<hr>
<a name="Real-array-indices"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#BOZ-literal-constants" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Unary-operators" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Real-array-indices-1"></a>
<h3 class="subsection">5.1.11 Real array indices</h3>
<a name="index-array_002c-indices-of-type-real"></a>

<p>As an extension, GNU Fortran allows the use of <code>REAL</code> expressions
or variables as array indices.
</p>
<hr>
<a name="Unary-operators"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Real-array-indices" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicitly-convert-LOGICAL-and-INTEGER-values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Unary-operators-1"></a>
<h3 class="subsection">5.1.12 Unary operators</h3>
<a name="index-operators_002c-unary"></a>

<p>As an extension, GNU Fortran allows unary plus and unary minus operators
to appear as the second operand of binary arithmetic operators without
the need for parenthesis.
</p>
<div class="smallexample">
<pre class="smallexample">       X = Y * -Z
</pre></div>

<hr>
<a name="Implicitly-convert-LOGICAL-and-INTEGER-values"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Unary-operators" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Hollerith-constants-support" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Implicitly-convert-LOGICAL-and-INTEGER-values-1"></a>
<h3 class="subsection">5.1.13 Implicitly convert <code>LOGICAL</code> and <code>INTEGER</code> values</h3>
<a name="index-conversion_002c-to-integer"></a>
<a name="index-conversion_002c-to-logical"></a>

<p>As an extension for backwards compatibility with other compilers, GNU
Fortran allows the implicit conversion of <code>LOGICAL</code> values to
<code>INTEGER</code> values and vice versa.  When converting from a
<code>LOGICAL</code> to an <code>INTEGER</code>, <code>.FALSE.</code> is interpreted as
zero, and <code>.TRUE.</code> is interpreted as one.  When converting from
<code>INTEGER</code> to <code>LOGICAL</code>, the value zero is interpreted as
<code>.FALSE.</code> and any nonzero value is interpreted as <code>.TRUE.</code>.
</p>
<div class="smallexample">
<pre class="smallexample">        LOGICAL :: l
        l = 1
</pre></div>
<div class="smallexample">
<pre class="smallexample">        INTEGER :: i
        i = .TRUE.
</pre></div>

<p>However, there is no implicit conversion of <code>INTEGER</code> values in
<code>if</code>-statements, nor of <code>LOGICAL</code> or <code>INTEGER</code> values
in I/O operations.
</p>
<hr>
<a name="Hollerith-constants-support"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicitly-convert-LOGICAL-and-INTEGER-values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Cray-pointers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Hollerith-constants-support-1"></a>
<h3 class="subsection">5.1.14 Hollerith constants support</h3>
<a name="index-Hollerith-constants"></a>

<p>GNU Fortran supports Hollerith constants in assignments, function
arguments, and <code>DATA</code> statements.  A Hollerith constant is written
as a string of characters preceded by an integer constant indicating the
character count, and the letter <code>H</code> or <code>h</code>, and stored in
bytewise fashion in a numeric (<code>INTEGER</code>, <code>REAL</code>, or
<code>COMPLEX</code>) or <code>LOGICAL</code> variable.  The constant will be padded
with spaces or truncated to fit the size of the variable in which it is
stored.
</p>
<p>Examples of valid uses of Hollerith constants:
</p><div class="smallexample">
<pre class="smallexample">      complex*16 x(2)
      data x /16Habcdefghijklmnop, 16Hqrstuvwxyz012345/
      x(1) = 16HABCDEFGHIJKLMNOP
      call foo (4h abc)
</pre></div>

<p>Examples of Hollerith constants:
</p><div class="smallexample">
<pre class="smallexample">      integer*4 a
      a = 0H         ! Invalid, at least one character is needed.
      a = 4HAB12     ! Valid
      a = 8H12345678 ! Valid, but the Hollerith constant will be truncated.
      a = 3Hxyz      ! Valid, but the Hollerith constant will be padded.
</pre></div>

<p>In general, Hollerith constants were used to provide a rudimentary
facility for handling character strings in early Fortran compilers,
prior to the introduction of <code>CHARACTER</code> variables in Fortran 77;
in those cases, the standard-compliant equivalent is to convert the
program to use proper character strings.  On occasion, there may be a
case where the intent is specifically to initialize a numeric variable
with a given byte sequence.  In these cases, the same result can be
obtained by using the <code>TRANSFER</code> statement, as in this example.
</p><div class="smallexample">
<pre class="smallexample">      INTEGER(KIND=4) :: a
      a = TRANSFER (&quot;abcd&quot;, a)     ! equivalent to: a = 4Habcd
</pre></div>


<hr>
<a name="Cray-pointers"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Hollerith-constants-support" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#CONVERT-specifier" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Cray-pointers-1"></a>
<h3 class="subsection">5.1.15 Cray pointers</h3>
<a name="index-pointer_002c-Cray"></a>

<p>Cray pointers are part of a non-standard extension that provides a
C-like pointer in Fortran.  This is accomplished through a pair of
variables: an integer &quot;pointer&quot; that holds a memory address, and a
&quot;pointee&quot; that is used to dereference the pointer.
</p>
<p>Pointer/pointee pairs are declared in statements of the form:
</p><div class="smallexample">
<pre class="smallexample">        pointer ( &lt;pointer&gt; , &lt;pointee&gt; )
</pre></div>
<p>or,
</p><div class="smallexample">
<pre class="smallexample">        pointer ( &lt;pointer1&gt; , &lt;pointee1&gt; ), ( &lt;pointer2&gt; , &lt;pointee2&gt; ), ...
</pre></div>
<p>The pointer is an integer that is intended to hold a memory address.
The pointee may be an array or scalar.
If an assumed-size array is permitted within the scoping unit, a
pointee can be an assumed-size array.
That is, the last dimension may be left unspecified by using a <code>*</code>
in place of a value. A pointee cannot be an assumed shape array.
No space is allocated for the pointee.
</p>
<p>The pointee may have its type declared before or after the pointer
statement, and its array specification (if any) may be declared
before, during, or after the pointer statement.  The pointer may be
declared as an integer prior to the pointer statement.  However, some
machines have default integer sizes that are different than the size
of a pointer, and so the following code is not portable:
</p><div class="smallexample">
<pre class="smallexample">        integer ipt
        pointer (ipt, iarr)
</pre></div>
<p>If a pointer is declared with a kind that is too small, the compiler
will issue a warning; the resulting binary will probably not work
correctly, because the memory addresses stored in the pointers may be
truncated.  It is safer to omit the first line of the above example;
if explicit declaration of ipt&rsquo;s type is omitted, then the compiler
will ensure that ipt is an integer variable large enough to hold a
pointer.
</p>
<p>Pointer arithmetic is valid with Cray pointers, but it is not the same
as C pointer arithmetic.  Cray pointers are just ordinary integers, so
the user is responsible for determining how many bytes to add to a
pointer in order to increment it.  Consider the following example:
</p><div class="smallexample">
<pre class="smallexample">        real target(10)
        real pointee(10)
        pointer (ipt, pointee)
        ipt = loc (target)
        ipt = ipt + 1
</pre></div>
<p>The last statement does not set <code>ipt</code> to the address of
<code>target(1)</code>, as it would in C pointer arithmetic.  Adding <code>1</code>
to <code>ipt</code> just adds one byte to the address stored in <code>ipt</code>.
</p>
<p>Any expression involving the pointee will be translated to use the
value stored in the pointer as the base address.
</p>
<p>To get the address of elements, this extension provides an intrinsic
function <code>LOC()</code>.  The <code>LOC()</code> function is equivalent to the
<code>&amp;</code> operator in C, except the address is cast to an integer type:
</p><div class="smallexample">
<pre class="smallexample">        real ar(10)
        pointer(ipt, arpte(10))
        real arpte
        ipt = loc(ar)  ! Makes arpte is an alias for ar
        arpte(1) = 1.0 ! Sets ar(1) to 1.0
</pre></div>
<p>The pointer can also be set by a call to the <code>MALLOC</code> intrinsic
(see @ref{MALLOC}).
</p>
<p>Cray pointees often are used to alias an existing variable.  For
example:
</p><div class="smallexample">
<pre class="smallexample">        integer target(10)
        integer iarr(10)
        pointer (ipt, iarr)
        ipt = loc(target)
</pre></div>
<p>As long as <code>ipt</code> remains unchanged, <code>iarr</code> is now an alias for
<code>target</code>.  The optimizer, however, will not detect this aliasing, so
it is unsafe to use <code>iarr</code> and <code>target</code> simultaneously.  Using
a pointee in any way that violates the Fortran aliasing rules or
assumptions is illegal.  It is the user&rsquo;s responsibility to avoid doing
this; the compiler works under the assumption that no such aliasing
occurs.
</p>
<p>Cray pointers will work correctly when there is no aliasing (i.e., when
they are used to access a dynamically allocated block of memory), and
also in any routine where a pointee is used, but any variable with which
it shares storage is not used.  Code that violates these rules may not
run as the user intends.  This is not a bug in the optimizer; any code
that violates the aliasing rules is illegal.  (Note that this is not
unique to GNU Fortran; any Fortran compiler that supports Cray pointers
will &ldquo;incorrectly&rdquo; optimize code with illegal aliasing.)
</p>
<p>There are a number of restrictions on the attributes that can be applied
to Cray pointers and pointees.  Pointees may not have the
<code>ALLOCATABLE</code>, <code>INTENT</code>, <code>OPTIONAL</code>, <code>DUMMY</code>,
<code>TARGET</code>, <code>INTRINSIC</code>, or <code>POINTER</code> attributes.  Pointers
may not have the <code>DIMENSION</code>, <code>POINTER</code>, <code>TARGET</code>,
<code>ALLOCATABLE</code>, <code>EXTERNAL</code>, or <code>INTRINSIC</code> attributes, nor
may they be function results.  Pointees may not occur in more than one
pointer statement.  A pointee cannot be a pointer.  Pointees cannot occur
in equivalence, common, or data statements.
</p>
<p>A Cray pointer may also point to a function or a subroutine.  For
example, the following excerpt is valid:
</p><div class="smallexample">
<pre class="smallexample">  implicit none
  external sub
  pointer (subptr,subpte)
  external subpte
  subptr = loc(sub)
  call subpte()
  [...]
  subroutine sub
  [...]
  end subroutine sub
</pre></div>

<p>A pointer may be modified during the course of a program, and this
will change the location to which the pointee refers.  However, when
pointees are passed as arguments, they are treated as ordinary
variables in the invoked function.  Subsequent changes to the pointer
will not change the base address of the array that was passed.
</p>
<hr>
<a name="CONVERT-specifier"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Cray-pointers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#OpenMP" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="CONVERT-specifier-1"></a>
<h3 class="subsection">5.1.16 <code>CONVERT</code> specifier</h3>
<a name="index-CONVERT-specifier"></a>

<p>GNU Fortran allows the conversion of unformatted data between little-
and big-endian representation to facilitate moving of data
between different systems.  The conversion can be indicated with
the <code>CONVERT</code> specifier on the <code>OPEN</code> statement.
See section <a href="#GFORTRAN_005fCONVERT_005fUNIT"><code>GFORTRAN_CONVERT_UNIT</code>&mdash;Set endianness for unformatted I/O</a>, for an alternative way of specifying
the data format via an environment variable.
</p>
<p>Valid values for <code>CONVERT</code> are:
</p><ul class="no-bullet">
<li> <code>CONVERT='NATIVE'</code> Use the native format.  This is the default.
</li><li> <code>CONVERT='SWAP'</code> Swap between little- and big-endian.
</li><li> <code>CONVERT='LITTLE_ENDIAN'</code> Use the little-endian representation
for unformatted files.
</li><li> <code>CONVERT='BIG_ENDIAN'</code> Use the big-endian representation for
unformatted files.
</li></ul>

<p>Using the option could look like this:
</p><div class="smallexample">
<pre class="smallexample">  open(file='big.dat',form='unformatted',access='sequential', &amp;
       convert='big_endian')
</pre></div>

<p>The value of the conversion can be queried by using
<code>INQUIRE(CONVERT=ch)</code>.  The values returned are
<code>'BIG_ENDIAN'</code> and <code>'LITTLE_ENDIAN'</code>.
</p>
<p><code>CONVERT</code> works between big- and little-endian for
<code>INTEGER</code> values of all supported kinds and for <code>REAL</code>
on IEEE systems of kinds 4 and 8.  Conversion between different
&ldquo;extended double&rdquo; types on different architectures such as
m68k and x86_64, which GNU Fortran
supports as <code>REAL(KIND=10)</code> and <code>REAL(KIND=16)</code>, will
probably not work.
</p>
<p><em>Note that the values specified via the GFORTRAN_CONVERT_UNIT
environment variable will override the CONVERT specifier in the
open statement</em>.  This is to give control over data formats to
users who do not have the source code of their program available.
</p>
<p>Using anything but the native representation for unformatted data
carries a significant speed overhead.  If speed in this area matters
to you, it is best if you use this only for data that needs to be
portable.
</p>
<hr>
<a name="OpenMP"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#CONVERT-specifier" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#OpenACC" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OpenMP-1"></a>
<h3 class="subsection">5.1.17 OpenMP</h3>
<a name="index-OpenMP"></a>

<p>OpenMP (Open Multi-Processing) is an application programming
interface (API) that supports multi-platform shared memory
multiprocessing programming in C/C++ and Fortran on many
architectures, including Unix and Microsoft Windows platforms.
It consists of a set of compiler directives, library routines,
and environment variables that influence run-time behavior.
</p>
<p>GNU Fortran strives to be compatible to the
<a href="http://openmp.org/wp/openmp-specifications/">OpenMP Application Program Interface v4.5</a>.
</p>
<p>To enable the processing of the OpenMP directive <code>!$omp</code> in
free-form source code; the <code>c$omp</code>, <code>*$omp</code> and <code>!$omp</code>
directives in fixed form; the <code>!$</code> conditional compilation sentinels
in free form; and the <code>c$</code>, <code>*$</code> and <code>!$</code> sentinels
in fixed form, <code>gfortran</code> needs to be invoked with the
&lsquo;<samp>-fopenmp</samp>&rsquo;.  This also arranges for automatic linking of the
GNU Offloading and Multi Processing Runtime Library
<a href="https://gcc.gnu.org/onlinedocs/libgomp/index.html#Top">libgomp</a> in <cite>GNU Offloading and Multi Processing Runtime Library</cite>.
</p>
<p>The OpenMP Fortran runtime library routines are provided both in a
form of a Fortran 90 module named <code>omp_lib</code> and in a form of
a Fortran <code>include</code> file named &lsquo;<tt>omp_lib.h</tt>&rsquo;.
</p>
<p>An example of a parallelized loop taken from Appendix A.1 of
the OpenMP Application Program Interface v2.5:
</p><div class="smallexample">
<pre class="smallexample">SUBROUTINE A1(N, A, B)
  INTEGER I, N
  REAL B(N), A(N)
!$OMP PARALLEL DO !I is private by default
  DO I=2,N
    B(I) = (A(I) + A(I-1)) / 2.0
  ENDDO
!$OMP END PARALLEL DO
END SUBROUTINE A1
</pre></div>

<p>Please note:
</p><ul>
<li>
&lsquo;<samp>-fopenmp</samp>&rsquo; implies &lsquo;<samp>-frecursive</samp>&rsquo;, i.e., all local arrays
will be allocated on the stack.  When porting existing code to OpenMP,
this may lead to surprising results, especially to segmentation faults
if the stacksize is limited.

</li><li>
On glibc-based systems, OpenMP enabled applications cannot be statically
linked due to limitations of the underlying pthreads-implementation.  It
might be possible to get a working solution if
<code>-Wl,--whole-archive -lpthread -Wl,--no-whole-archive</code> is added
to the command line.  However, this is not supported by <code>gcc</code> and
thus not recommended.
</li></ul>

<hr>
<a name="OpenACC"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OpenMP" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Argument-list-functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OpenACC-1"></a>
<h3 class="subsection">5.1.18 OpenACC</h3>
<a name="index-OpenACC"></a>

<p>OpenACC is an application programming interface (API) that supports
offloading of code to accelerator devices.  It consists of a set of
compiler directives, library routines, and environment variables that
influence run-time behavior.
</p>
<p>GNU Fortran strives to be compatible to the
<a href="http://www.openacc.org/">OpenACC Application Programming Interface v2.0</a>.
</p>
<p>To enable the processing of the OpenACC directive <code>!$acc</code> in
free-form source code; the <code>c$acc</code>, <code>*$acc</code> and <code>!$acc</code>
directives in fixed form; the <code>!$</code> conditional compilation
sentinels in free form; and the <code>c$</code>, <code>*$</code> and <code>!$</code>
sentinels in fixed form, <code>gfortran</code> needs to be invoked with
the &lsquo;<samp>-fopenacc</samp>&rsquo;.  This also arranges for automatic linking of
the GNU Offloading and Multi Processing Runtime Library
<a href="https://gcc.gnu.org/onlinedocs/libgomp/index.html#Top">libgomp</a> in <cite>GNU Offloading and Multi Processing Runtime Library</cite>.
</p>
<p>The OpenACC Fortran runtime library routines are provided both in a
form of a Fortran 90 module named <code>openacc</code> and in a form of a
Fortran <code>include</code> file named &lsquo;<tt>openacc_lib.h</tt>&rsquo;.
</p>
<p>Note that this is an experimental feature, incomplete, and subject to
change in future versions of GCC.  See
<a href="https://gcc.gnu.org/wiki/OpenACC">https://gcc.gnu.org/wiki/OpenACC</a> for more information.
</p>
<hr>
<a name="Argument-list-functions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OpenACC" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Read_002fWrite-after-EOF-marker" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Argument-list-functions-_0025VAL_002c-_0025REF-and-_0025LOC"></a>
<h3 class="subsection">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></h3>
<a name="index-argument-list-functions"></a>
<a name="index-_0025VAL"></a>
<a name="index-_0025REF"></a>
<a name="index-_0025LOC"></a>

<p>GNU Fortran supports argument list functions <code>%VAL</code>, <code>%REF</code>
and <code>%LOC</code> statements, for backward compatibility with g77.
It is recommended that these should be used only for code that is
accessing facilities outside of GNU Fortran, such as operating system
or windowing facilities.  It is best to constrain such uses to isolated
portions of a program&ndash;portions that deal specifically and exclusively
with low-level, system-dependent facilities.  Such portions might well
provide a portable interface for use by the program as a whole, but are
themselves not portable, and should be thoroughly tested each time they
are rebuilt using a new compiler or version of a compiler.
</p>
<p><code>%VAL</code> passes a scalar argument by value, <code>%REF</code> passes it by
reference and <code>%LOC</code> passes its memory location.  Since gfortran
already passes scalar arguments by reference, <code>%REF</code> is in effect
a do-nothing.  <code>%LOC</code> has the same effect as a Fortran pointer.
</p>
<p>An example of passing an argument by value to a C subroutine foo.:
</p><div class="smallexample">
<pre class="smallexample">C
C prototype      void foo_ (float x);
C
      external foo
      real*4 x
      x = 3.14159
      call foo (%VAL (x))
      end
</pre></div>

<p>For details refer to the g77 manual
<a href="https://gcc.gnu.org/onlinedocs/gcc-3.4.6/g77/index.html#Top">https://gcc.gnu.org/onlinedocs/gcc-3.4.6/g77/index.html#Top</a>.
</p>
<p>Also, <code>c_by_val.f</code> and its partner <code>c_by_val.c</code> of the
GNU Fortran testsuite are worth a look.
</p>
<hr>
<a name="Read_002fWrite-after-EOF-marker"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Argument-list-functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#STRUCTURE-and-RECORD" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Read_002fWrite-after-EOF-marker-1"></a>
<h3 class="subsection">5.1.20 Read/Write after EOF marker</h3>
<a name="index-EOF"></a>
<a name="index-BACKSPACE"></a>
<a name="index-REWIND"></a>

<p>Some legacy codes rely on allowing <code>READ</code> or <code>WRITE</code> after the
EOF file marker in order to find the end of a file. GNU Fortran normally
rejects these codes with a run-time error message and suggests the user
consider <code>BACKSPACE</code> or <code>REWIND</code> to properly position
the file before the EOF marker.  As an extension, the run-time error may
be disabled using -std=legacy.
</p>

<hr>
<a name="STRUCTURE-and-RECORD"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Read_002fWrite-after-EOF-marker" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#UNION-and-MAP" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="STRUCTURE-and-RECORD-1"></a>
<h3 class="subsection">5.1.21 <code>STRUCTURE</code> and <code>RECORD</code></h3>
<a name="index-STRUCTURE"></a>
<a name="index-RECORD"></a>

<p>Record structures are a pre-Fortran-90 vendor extension to create
user-defined aggregate data types.  Support for record structures in GNU
Fortran can be enabled with the &lsquo;<samp>-fdec-structure</samp>&rsquo; compile flag.
If you have a choice, you should instead use Fortran 90&rsquo;s &ldquo;derived types&rdquo;,
which have a different syntax.
</p>
<p>In many cases, record structures can easily be converted to derived types.
To convert, replace <code>STRUCTURE /</code><var>structure-name</var><code>/</code>
by <code>TYPE</code> <var>type-name</var>.  Additionally, replace
<code>RECORD /</code><var>structure-name</var><code>/</code> by
<code>TYPE(</code><var>type-name</var><code>)</code>. Finally, in the component access,
replace the period (<code>.</code>) by the percent sign (<code>%</code>).
</p>
<p>Here is an example of code using the non portable record structure syntax:
</p>
<div class="example">
<pre class="example">! Declaring a structure named ``item'' and containing three fields:
! an integer ID, an description string and a floating-point price.
STRUCTURE /item/
  INTEGER id
  CHARACTER(LEN=200) description
  REAL price
END STRUCTURE

! Define two variables, an single record of type ``item''
! named ``pear'', and an array of items named ``store_catalog''
RECORD /item/ pear, store_catalog(100)

! We can directly access the fields of both variables
pear.id = 92316
pear.description = &quot;juicy D'Anjou pear&quot;
pear.price = 0.15
store_catalog(7).id = 7831
store_catalog(7).description = &quot;milk bottle&quot;
store_catalog(7).price = 1.2

! We can also manipulate the whole structure
store_catalog(12) = pear
print *, store_catalog(12)
</pre></div>

<p>This code can easily be rewritten in the Fortran 90 syntax as following:
</p>
<div class="example">
<pre class="example">! ``STRUCTURE /name/ ... END STRUCTURE'' becomes
! ``TYPE name ... END TYPE''
TYPE item
  INTEGER id
  CHARACTER(LEN=200) description
  REAL price
END TYPE

! ``RECORD /name/ variable'' becomes ``TYPE(name) variable''
TYPE(item) pear, store_catalog(100)

! Instead of using a dot (.) to access fields of a record, the
! standard syntax uses a percent sign (%)
pear%id = 92316
pear%description = &quot;juicy D'Anjou pear&quot;
pear%price = 0.15
store_catalog(7)%id = 7831
store_catalog(7)%description = &quot;milk bottle&quot;
store_catalog(7)%price = 1.2

! Assignments of a whole variable do not change
store_catalog(12) = pear
print *, store_catalog(12)
</pre></div>

<p>GNU Fortran implements STRUCTURES like derived types with the following
rules and exceptions:
</p>
<ul>
<li> Structures act like derived types with the <code>SEQUENCE</code> attribute.
Otherwise they may contain no specifiers.

</li><li> Structures may contain a special field with the name <code>%FILL</code>.
This will create an anonymous component which cannot be accessed but occupies
space just as if a component of the same type was declared in its place, useful
for alignment purposes.  As an example, the following structure will consist
of at least sixteen bytes:

<div class="smallexample">
<pre class="smallexample">structure /padded/
  character(4) start
  character(8) %FILL
  character(4) end
end structure
</pre></div>

</li><li> Structures may share names with other symbols. For example, the following
is invalid for derived types, but valid for structures:

<div class="smallexample">
<pre class="smallexample">structure /header/
  ! ...
end structure
record /header/ header
</pre></div>

</li><li> Structure types may be declared nested within another parent structure.
The syntax is:
<div class="smallexample">
<pre class="smallexample">structure /type-name/
    ...
    structure [/&lt;type-name&gt;/] &lt;field-list&gt;
...
</pre></div>

<p>The type name may be ommitted, in which case the structure type itself is
anonymous, and other structures of the same type cannot be instantiated. The
following shows some examples:
</p>
<div class="example">
<pre class="example">structure /appointment/
  ! nested structure definition: app_time is an array of two 'time'
  structure /time/ app_time (2)
    integer(1) hour, minute
  end structure
  character(10) memo
end structure

! The 'time' structure is still usable
record /time/ now
now = time(5, 30)

...

structure /appointment/
  ! anonymous nested structure definition
  structure start, end
    integer(1) hour, minute
  end structure
  character(10) memo
end structure
</pre></div>

</li><li> Structures may contain <code>UNION</code> blocks. For more detail see the
section on <a href="#UNION-and-MAP"><code>UNION</code> and <code>MAP</code></a>.

</li><li> Structures support old-style initialization of components, like
those described in <a href="#Old_002dstyle-variable-initialization">Old-style variable initialization</a>. For array
initializers, an initializer may contain a repeat specification of the form
<code>&lt;literal-integer&gt; * &lt;constant-initializer&gt;</code>. The value of the integer
indicates the number of times to repeat the constant initializer when expanding
the initializer list.
</li></ul>

<hr>
<a name="UNION-and-MAP"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#STRUCTURE-and-RECORD" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Type-variants-for-integer-intrinsics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="UNION-and-MAP-1"></a>
<h3 class="subsection">5.1.22 <code>UNION</code> and <code>MAP</code></h3>
<a name="index-UNION"></a>
<a name="index-MAP"></a>

<p>Unions are an old vendor extension which were commonly used with the
non-standard <a href="#STRUCTURE-and-RECORD"><code>STRUCTURE</code> and <code>RECORD</code></a> extensions. Use of <code>UNION</code> and
<code>MAP</code> is automatically enabled with &lsquo;<samp>-fdec-structure</samp>&rsquo;.
</p>
<p>A <code>UNION</code> declaration occurs within a structure; within the definition of
each union is a number of <code>MAP</code> blocks. Each <code>MAP</code> shares storage
with its sibling maps (in the same union), and the size of the union is the
size of the largest map within it, just as with unions in C. The major
difference is that component references do not indicate which union or map the
component is in (the compiler gets to figure that out).
</p>
<p>Here is a small example:
</p><div class="smallexample">
<pre class="smallexample">structure /myunion/
union
  map
    character(2) w0, w1, w2
  end map
  map
    character(6) long
  end map
end union
end structure

record /myunion/ rec
! After this assignment...
rec.long = 'hello!'

! The following is true:
! rec.w0 === 'he'
! rec.w1 === 'll'
! rec.w2 === 'o!'
</pre></div>

<p>The two maps share memory, and the size of the union is ultimately six bytes:
</p>
<div class="example">
<pre class="example">0    1    2    3    4   5   6     Byte offset
-------------------------------
|    |    |    |    |    |    |
-------------------------------

^    W0   ^    W1   ^    W2   ^
 \-------/ \-------/ \-------/

^             LONG            ^
 \---------------------------/
</pre></div>

<p>Following is an example mirroring the layout of an Intel x86_64 register:
</p>
<div class="example">
<pre class="example">structure /reg/
  union ! U0                ! rax
    map
      character(16) rx
    end map
    map
      character(8) rh         ! rah
      union ! U1
        map
          character(8) rl     ! ral
        end map
        map
          character(8) ex     ! eax
        end map
        map
          character(4) eh     ! eah
          union ! U2
            map
              character(4) el ! eal
            end map
            map
              character(4) x  ! ax
            end map
            map
              character(2) h  ! ah
              character(2) l  ! al
            end map
          end union
        end map
      end union
    end map
  end union
end structure
record /reg/ a

! After this assignment...
a.rx     =     'AAAAAAAA.BBB.C.D'

! The following is true:
a.rx === 'AAAAAAAA.BBB.C.D'
a.rh === 'AAAAAAAA'
a.rl ===         '.BBB.C.D'
a.ex ===         '.BBB.C.D'
a.eh ===         '.BBB'
a.el ===             '.C.D'
a.x  ===             '.C.D'
a.h  ===             '.C'
a.l  ===               '.D'
</pre></div>

<hr>
<a name="Type-variants-for-integer-intrinsics"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#UNION-and-MAP" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#AUTOMATIC-and-STATIC-attributes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Type-variants-for-integer-intrinsics-1"></a>
<h3 class="subsection">5.1.23 Type variants for integer intrinsics</h3>
<a name="index-intrinsics_002c-integer"></a>

<p>Similar to the D/C prefixes to real functions to specify the input/output
types, GNU Fortran offers B/I/J/K prefixes to integer functions for
compatibility with DEC programs. The types implied by each are:
</p>
<div class="example">
<pre class="example"><code>B</code> - <code>INTEGER(kind=1)</code>
<code>I</code> - <code>INTEGER(kind=2)</code>
<code>J</code> - <code>INTEGER(kind=4)</code>
<code>K</code> - <code>INTEGER(kind=8)</code>
</pre></div>

<p>GNU Fortran supports these with the flag &lsquo;<samp>-fdec-intrinsic-ints</samp>&rsquo;.
Intrinsics for which prefixed versions are available and in what form are noted
in @ref{Intrinsic Procedures}. The complete list of supported intrinsics is
here:
</p>
<table>
<thead><tr><th width="20%">Intrinsic</th><th width="20%">B</th><th width="20%">I</th><th width="20%">J</th><th width="20%">K</th></tr></thead>
<tr><td width="20%"><code>@ref{ABS}</code></td><td width="20%"><code>BABS</code></td><td width="20%"><code>IIABS</code></td><td width="20%"><code>JIABS</code></td><td width="20%"><code>KIABS</code></td></tr>
<tr><td width="20%"><code>@ref{BTEST}</code></td><td width="20%"><code>BBTEST</code></td><td width="20%"><code>BITEST</code></td><td width="20%"><code>BJTEST</code></td><td width="20%"><code>BKTEST</code></td></tr>
<tr><td width="20%"><code>@ref{IAND}</code></td><td width="20%"><code>BIAND</code></td><td width="20%"><code>IIAND</code></td><td width="20%"><code>JIAND</code></td><td width="20%"><code>KIAND</code></td></tr>
<tr><td width="20%"><code>@ref{IBCLR}</code></td><td width="20%"><code>BBCLR</code></td><td width="20%"><code>IIBCLR</code></td><td width="20%"><code>JIBCLR</code></td><td width="20%"><code>KIBCLR</code></td></tr>
<tr><td width="20%"><code>@ref{IBITS}</code></td><td width="20%"><code>BBITS</code></td><td width="20%"><code>IIBITS</code></td><td width="20%"><code>JIBITS</code></td><td width="20%"><code>KIBITS</code></td></tr>
<tr><td width="20%"><code>@ref{IBSET}</code></td><td width="20%"><code>BBSET</code></td><td width="20%"><code>IIBSET</code></td><td width="20%"><code>JIBSET</code></td><td width="20%"><code>KIBSET</code></td></tr>
<tr><td width="20%"><code>@ref{IEOR}</code></td><td width="20%"><code>BIEOR</code></td><td width="20%"><code>IIEOR</code></td><td width="20%"><code>JIEOR</code></td><td width="20%"><code>KIEOR</code></td></tr>
<tr><td width="20%"><code>@ref{IOR}</code></td><td width="20%"><code>BIOR</code></td><td width="20%"><code>IIOR</code></td><td width="20%"><code>JIOR</code></td><td width="20%"><code>KIOR</code></td></tr>
<tr><td width="20%"><code>@ref{ISHFT}</code></td><td width="20%"><code>BSHFT</code></td><td width="20%"><code>IISHFT</code></td><td width="20%"><code>JISHFT</code></td><td width="20%"><code>KISHFT</code></td></tr>
<tr><td width="20%"><code>@ref{ISHFTC}</code></td><td width="20%"><code>BSHFTC</code></td><td width="20%"><code>IISHFTC</code></td><td width="20%"><code>JISHFTC</code></td><td width="20%"><code>KISHFTC</code></td></tr>
<tr><td width="20%"><code>@ref{MOD}</code></td><td width="20%"><code>BMOD</code></td><td width="20%"><code>IMOD</code></td><td width="20%"><code>JMOD</code></td><td width="20%"><code>KMOD</code></td></tr>
<tr><td width="20%"><code>@ref{NOT}</code></td><td width="20%"><code>BNOT</code></td><td width="20%"><code>INOT</code></td><td width="20%"><code>JNOT</code></td><td width="20%"><code>KNOT</code></td></tr>
<tr><td width="20%"><code>@ref{REAL}</code></td><td width="20%"><code>--</code></td><td width="20%"><code>FLOATI</code></td><td width="20%"><code>FLOATJ</code></td><td width="20%"><code>FLOATK</code></td></tr>
</table>

<hr>
<a name="AUTOMATIC-and-STATIC-attributes"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-variants-for-integer-intrinsics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extended-math-intrinsics" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="AUTOMATIC-and-STATIC-attributes-1"></a>
<h3 class="subsection">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</h3>
<a name="index-variable-attributes"></a>
<a name="index-AUTOMATIC"></a>
<a name="index-STATIC"></a>

<p>With &lsquo;<samp>-fdec-static</samp>&rsquo; GNU Fortran supports the DEC extended attributes
<code>STATIC</code> and <code>AUTOMATIC</code> to provide explicit specification of entity
storage.  These follow the syntax of the Fortran standard <code>SAVE</code> attribute.
</p>
<p><code>STATIC</code> is exactly equivalent to <code>SAVE</code>, and specifies that
an entity should be allocated in static memory.  As an example, <code>STATIC</code>
local variables will retain their values across multiple calls to a function.
</p>
<p>Entities marked <code>AUTOMATIC</code> will be stack automatic whenever possible.
<code>AUTOMATIC</code> is the default for local variables smaller than
&lsquo;<samp>-fmax-stack-var-size</samp>&rsquo;, unless &lsquo;<samp>-fno-automatic</samp>&rsquo; is given.  This
attribute overrides &lsquo;<samp>-fno-automatic</samp>&rsquo;, &lsquo;<samp>-fmax-stack-var-size</samp>&rsquo;, and
blanket <code>SAVE</code> statements.
</p>

<p>Examples:
</p>
<div class="example">
<pre class="example">subroutine f
  integer, automatic :: i  ! automatic variable
  integer x, y             ! static variables
  save
  ...
endsubroutine
</pre></div>
<div class="example">
<pre class="example">subroutine f
  integer a, b, c, x, y, z
  static :: x
  save y
  automatic z, c
  ! a, b, c, and z are automatic
  ! x and y are static
endsubroutine
</pre></div>
<div class="example">
<pre class="example">! Compiled with -fno-automatic
subroutine f
  integer a, b, c, d
  automatic :: a
  ! a is automatic; b, c, and d are static
endsubroutine
</pre></div>

<hr>
<a name="Extended-math-intrinsics"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#AUTOMATIC-and-STATIC-attributes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Form-feed-as-whitespace" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extended-math-intrinsics-1"></a>
<h3 class="subsection">5.1.25 Extended math intrinsics</h3>
<a name="index-intrinsics_002c-math"></a>
<a name="index-intrinsics_002c-trigonometric-functions"></a>

<p>GNU Fortran supports an extended list of mathematical intrinsics with the
compile flag &lsquo;<samp>-fdec-math</samp>&rsquo; for compatability with legacy code.
These intrinsics are described fully in @ref{Intrinsic Procedures} where it is
noted that they are extensions and should be avoided whenever possible.
</p>
<p>Specifically, &lsquo;<samp>-fdec-math</samp>&rsquo; enables the @ref{COTAN} intrinsic, and
trigonometric intrinsics which accept or produce values in degrees instead of
radians.  Here is a summary of the new intrinsics:
</p>
<table>
<thead><tr><th width="50%">Radians</th><th width="50%">Degrees</th></tr></thead>
<tr><td width="50%"><code>@ref{ACOS}</code></td><td width="50%"><code>@ref{ACOSD}</code>*</td></tr>
<tr><td width="50%"><code>@ref{ASIN}</code></td><td width="50%"><code>@ref{ASIND}</code>*</td></tr>
<tr><td width="50%"><code>@ref{ATAN}</code></td><td width="50%"><code>@ref{ATAND}</code>*</td></tr>
<tr><td width="50%"><code>@ref{ATAN2}</code></td><td width="50%"><code>@ref{ATAN2D}</code>*</td></tr>
<tr><td width="50%"><code>@ref{COS}</code></td><td width="50%"><code>@ref{COSD}</code>*</td></tr>
<tr><td width="50%"><code>@ref{COTAN}</code>*</td><td width="50%"><code>@ref{COTAND}</code>*</td></tr>
<tr><td width="50%"><code>@ref{SIN}</code></td><td width="50%"><code>@ref{SIND}</code>*</td></tr>
<tr><td width="50%"><code>@ref{TAN}</code></td><td width="50%"><code>@ref{TAND}</code>*</td></tr>
</table>

<p>* Enabled with &lsquo;<samp>-fdec-math</samp>&rsquo;.
</p>
<p>For advanced users, it may be important to know the implementation of these
functions. They are simply wrappers around the standard radian functions, which
have more accurate builtin versions. These functions convert their arguments
(or results) to degrees (or radians) by taking the value modulus 360 (or 2*pi)
and then multiplying it by a constant radian-to-degree (or degree-to-radian)
factor, as appropriate. The factor is computed at compile-time as 180/pi (or
pi/180).
</p>
<hr>
<a name="Form-feed-as-whitespace"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extended-math-intrinsics" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#TYPE-as-an-alias-for-PRINT" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Form-feed-as-whitespace-1"></a>
<h3 class="subsection">5.1.26 Form feed as whitespace</h3>
<a name="index-form-feed-whitespace"></a>

<p>Historically, legacy compilers allowed insertion of form feed characters (&rsquo;\f&rsquo;,
ASCII 0xC) at the beginning of lines for formatted output to line printers,
though the Fortran standard does not mention this. GNU Fortran supports the
interpretation of form feed characters in source as whitespace for
compatibility.
</p>
<hr>
<a name="TYPE-as-an-alias-for-PRINT"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Form-feed-as-whitespace" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_0025LOC-as-an-rvalue" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="TYPE-as-an-alias-for-PRINT-1"></a>
<h3 class="subsection">5.1.27 TYPE as an alias for PRINT</h3>
<a name="index-type-alias-print"></a>
<p>For compatibility, GNU Fortran will interpret <code>TYPE</code> statements as
<code>PRINT</code> statements with the flag &lsquo;<samp>-fdec</samp>&rsquo;.  With this flag asserted,
the following two examples are equivalent:
</p>
<div class="smallexample">
<pre class="smallexample">TYPE *, 'hello world'
</pre></div>

<div class="smallexample">
<pre class="smallexample">PRINT *, 'hello world'
</pre></div>

<hr>
<a name="g_t_0025LOC-as-an-rvalue"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#TYPE-as-an-alias-for-PRINT" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_002eXOR_002e-operator" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_0025LOC-as-an-rvalue-1"></a>
<h3 class="subsection">5.1.28 %LOC as an rvalue</h3>
<a name="index-LOC"></a>
<p>Normally <code>%LOC</code> is allowed only in parameter lists.  However the intrinsic
function <code>LOC</code> does the same thing, and is usable as the right-hand-side of
assignments. For compatibility, GNU Fortran supports the use of <code>%LOC</code> as
an alias for the builtin <code>LOC</code> with &lsquo;<samp>-std=legacy</samp>&rsquo;.  With this
feature enabled the following two examples are equivalent:
</p>
<div class="smallexample">
<pre class="smallexample">integer :: i, l
l = %loc(i)
call sub(l)
</pre></div>

<div class="smallexample">
<pre class="smallexample">integer :: i
call sub(%loc(i))
</pre></div>

<hr>
<a name="g_t_002eXOR_002e-operator"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_0025LOC-as-an-rvalue" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Bitwise-logical-operators" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_002eXOR_002e-operator-1"></a>
<h3 class="subsection">5.1.29 .XOR. operator</h3>
<a name="index-operators_002c-xor"></a>

<p>GNU Fortran supports <code>.XOR.</code> as a logical operator with <code>-std=legacy</code>
for compatibility with legacy code. <code>.XOR.</code> is equivalent to
<code>.NEQV.</code>. That is, the output is true if and only if the inputs differ.
</p>
<hr>
<a name="Bitwise-logical-operators"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_002eXOR_002e-operator" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extended-I_002fO-specifiers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Bitwise-logical-operators-1"></a>
<h3 class="subsection">5.1.30 Bitwise logical operators</h3>
<a name="index-logical_002c-bitwise"></a>

<p>With &lsquo;<samp>-fdec</samp>&rsquo;, GNU Fortran relaxes the type constraints on
logical operators to allow integer operands, and performs the corresponding
bitwise operation instead.  This flag is for compatibility only, and should be
avoided in new code.  Consider:
</p>
<div class="smallexample">
<pre class="smallexample">  INTEGER :: i, j
  i = z'33'
  j = z'cc'
  print *, i .AND. j
</pre></div>

<p>In this example, compiled with &lsquo;<samp>-fdec</samp>&rsquo;, GNU Fortran will
replace the <code>.AND.</code> operation with a call to the intrinsic
<code>@ref{IAND}</code> function, yielding the bitwise-and of <code>i</code> and <code>j</code>.
</p>
<p>Note that this conversion will occur if at least one operand is of integral
type.  As a result, a logical operand will be converted to an integer when the
other operand is an integer in a logical operation.  In this case,
<code>.TRUE.</code> is converted to <code>1</code> and <code>.FALSE.</code> to <code>0</code>.
</p>
<p>Here is the mapping of logical operator to bitwise intrinsic used with
&lsquo;<samp>-fdec</samp>&rsquo;:
</p>
<table>
<thead><tr><th width="25%">Operator</th><th width="25%">Intrinsic</th><th width="50%">Bitwise operation</th></tr></thead>
<tr><td width="25%"><code>.NOT.</code></td><td width="25%"><code>@ref{NOT}</code></td><td width="50%">complement</td></tr>
<tr><td width="25%"><code>.AND.</code></td><td width="25%"><code>@ref{IAND}</code></td><td width="50%">intersection</td></tr>
<tr><td width="25%"><code>.OR.</code></td><td width="25%"><code>@ref{IOR}</code></td><td width="50%">union</td></tr>
<tr><td width="25%"><code>.NEQV.</code></td><td width="25%"><code>@ref{IEOR}</code></td><td width="50%">exclusive or</td></tr>
<tr><td width="25%"><code>.EQV.</code></td><td width="25%"><code>@ref{NOT}(@ref{IEOR})</code></td><td width="50%">complement of exclusive or</td></tr>
</table>

<hr>
<a name="Extended-I_002fO-specifiers"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bitwise-logical-operators" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Legacy-PARAMETER-statements" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extended-I_002fO-specifiers-1"></a>
<h3 class="subsection">5.1.31 Extended I/O specifiers</h3>
<a name="index-CARRIAGECONTROL"></a>
<a name="index-READONLY"></a>
<a name="index-SHARE"></a>
<a name="index-SHARED"></a>
<a name="index-NOSHARED"></a>
<a name="index-I_002fO-specifiers"></a>

<p>GNU Fortran supports the additional legacy I/O specifiers
<code>CARRIAGECONTROL</code>, <code>READONLY</code>, and <code>SHARE</code> with the
compile flag &lsquo;<samp>-fdec</samp>&rsquo;, for compatibility.
</p>
<dl compact="compact">
<dt><code>CARRIAGECONTROL</code></dt>
<dd><p>The <code>CARRIAGECONTROL</code> specifier allows a user to control line
termination settings between output records for an I/O unit. The specifier has
no meaning for readonly files. When <code>CARRAIGECONTROL</code> is specified upon
opening a unit for formatted writing, the exact <code>CARRIAGECONTROL</code> setting
determines what characters to write between output records. The syntax is:
</p>
<div class="smallexample">
<pre class="smallexample">OPEN(..., CARRIAGECONTROL=cc)
</pre></div>

<p>Where <em>cc</em> is a character expression that evaluates to one of the
following values:
</p>
<table>
<tr><td width="20%"><code>'LIST'</code></td><td width="80%">One line feed between records (default)</td></tr>
<tr><td width="20%"><code>'FORTRAN'</code></td><td width="80%">Legacy interpretation of the first character (see below)</td></tr>
<tr><td width="20%"><code>'NONE'</code></td><td width="80%">No separator between records</td></tr>
</table>

<p>With <code>CARRIAGECONTROL='FORTRAN'</code>, when a record is written, the first
character of the input record is not written, and instead determines the output
record separator as follows:
</p>
<table>
<thead><tr><th width="30%">Leading character</th><th width="30%">Meaning</th><th width="40%">Output separating character(s)</th></tr></thead>
<tr><td width="30%"><code>'+'</code></td><td width="30%">Overprinting</td><td width="40%">Carriage return only</td></tr>
<tr><td width="30%"><code>'-'</code></td><td width="30%">New line</td><td width="40%">Line feed and carriage return</td></tr>
<tr><td width="30%"><code>'0'</code></td><td width="30%">Skip line</td><td width="40%">Two line feeds and carriage return</td></tr>
<tr><td width="30%"><code>'1'</code></td><td width="30%">New page</td><td width="40%">Form feed and carriage return</td></tr>
<tr><td width="30%"><code>'$'</code></td><td width="30%">Prompting</td><td width="40%">Line feed (no carriage return)</td></tr>
<tr><td width="30%"><code>CHAR(0)</code></td><td width="30%">Overprinting (no advance)</td><td width="40%">None</td></tr>
</table>

</dd>
<dt><code>READONLY</code></dt>
<dd><p>The <code>READONLY</code> specifier may be given upon opening a unit, and is
equivalent to specifying <code>ACTION='READ'</code>, except that the file may not be
deleted on close (i.e. <code>CLOSE</code> with <code>STATUS=&quot;DELETE&quot;</code>). The syntax
is:
</p>
<div class="smallexample">
<pre class="smallexample"><code>OPEN(..., READONLY)</code>
</pre></div>

</dd>
<dt><code>SHARE</code></dt>
<dd><p>The <code>SHARE</code> specifier allows system-level locking on a unit upon opening
it for controlled access from multiple processes/threads. The <code>SHARE</code>
specifier has several forms:
</p>
<div class="smallexample">
<pre class="smallexample">OPEN(..., SHARE=sh)
OPEN(..., SHARED)
OPEN(..., NOSHARED)
</pre></div>

<p>Where <em>sh</em> in the first form is a character expression that evaluates to
a value as seen in the table below. The latter two forms are aliases
for particular values of <em>sh</em>:
</p>
<table>
<thead><tr><th width="30%">Explicit form</th><th width="30%">Short form</th><th width="40%">Meaning</th></tr></thead>
<tr><td width="30%"><code>SHARE='DENYRW'</code></td><td width="30%"><code>NOSHARED</code></td><td width="40%">Exclusive (write) lock</td></tr>
<tr><td width="30%"><code>SHARE='DENYNONE'</code></td><td width="30%"><code>SHARED</code></td><td width="40%">Shared (read) lock</td></tr>
</table>

<p>In general only one process may hold an exclusive (write) lock for a given file
at a time, whereas many processes may hold shared (read) locks for the same
file.
</p>
<p>The behavior of locking may vary with your operating system. On POSIX systems,
locking is implemented with <code>fcntl</code>. Consult your corresponding operating
system&rsquo;s manual pages for further details. Locking via <code>SHARE=</code> is not
supported on other systems.
</p>
</dd>
</dl>

<hr>
<a name="Legacy-PARAMETER-statements"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extended-I_002fO-specifiers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Default-exponents" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Legacy-PARAMETER-statements-1"></a>
<h3 class="subsection">5.1.32 Legacy PARAMETER statements</h3>
<a name="index-PARAMETER"></a>

<p>For compatibility, GNU Fortran supports legacy PARAMETER statements without
parentheses with &lsquo;<samp>-std=legacy</samp>&rsquo;.  A warning is emitted if used with
&lsquo;<samp>-std=gnu</samp>&rsquo;, and an error is acknowledged with a real Fortran standard
flag (&lsquo;<samp>-std=f95</samp>&rsquo;, etc...).  These statements take the following form:
</p>
<div class="smallexample">
<pre class="smallexample">implicit real (E)
parameter e = 2.718282
real c
parameter c = 3.0e8
</pre></div>

<hr>
<a name="Default-exponents"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Legacy-PARAMETER-statements" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Default-exponents-1"></a>
<h3 class="subsection">5.1.33 Default exponents</h3>
<a name="index-exponent"></a>

<p>For compatibility, GNU Fortran supports a default exponent of zero in real
constants with &lsquo;<samp>-fdec</samp>&rsquo;.  For example, <code>9e</code> would be
interpreted as <code>9e0</code>, rather than an error.
</p>

<hr>
<a name="Extensions-not-implemented-in-GNU-Fortran"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Default-exponents" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#ENCODE-and-DECODE-statements" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extensions-not-implemented-in-GNU-Fortran-1"></a>
<h2 class="section">5.2 Extensions not implemented in GNU Fortran</h2>
<a name="index-extensions_002c-not-implemented"></a>

<p>The long history of the Fortran language, its wide use and broad
userbase, the large number of different compiler vendors and the lack of
some features crucial to users in the first standards have lead to the
existence of a number of important extensions to the language.  While
some of the most useful or popular extensions are supported by the GNU
Fortran compiler, not all existing extensions are supported.  This section
aims at listing these extensions and offering advice on how best make
code that uses them running with the GNU Fortran compiler.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#ENCODE-and-DECODE-statements">5.2.1 <code>ENCODE</code> and <code>DECODE</code> statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Variable-FORMAT-expressions">5.2.2 Variable <code>FORMAT</code> expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Alternate-complex-function-syntax">5.2.3 Alternate complex function syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Volatile-COMMON-blocks">5.2.4 Volatile <code>COMMON</code> blocks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#OPEN_0028-_002e_002e_002e-NAME_003d_0029">5.2.5 <code>OPEN( ... NAME=)</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Q-edit-descriptor">5.2.6 <code>Q</code> edit descriptor</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="ENCODE-and-DECODE-statements"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Variable-FORMAT-expressions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ENCODE-and-DECODE-statements-1"></a>
<h3 class="subsection">5.2.1 <code>ENCODE</code> and <code>DECODE</code> statements</h3>
<a name="index-ENCODE"></a>
<a name="index-DECODE"></a>

<p>GNU Fortran does not support the <code>ENCODE</code> and <code>DECODE</code>
statements.  These statements are best replaced by <code>READ</code> and
<code>WRITE</code> statements involving internal files (<code>CHARACTER</code>
variables and arrays), which have been part of the Fortran standard since
Fortran 77.  For example, replace a code fragment like
</p>
<div class="smallexample">
<pre class="smallexample">      INTEGER*1 LINE(80)
      REAL A, B, C
c     ... Code that sets LINE
      DECODE (80, 9000, LINE) A, B, C
 9000 FORMAT (1X, 3(F10.5))
</pre></div>

<p>with the following:
</p>
<div class="smallexample">
<pre class="smallexample">      CHARACTER(LEN=80) LINE
      REAL A, B, C
c     ... Code that sets LINE
      READ (UNIT=LINE, FMT=9000) A, B, C
 9000 FORMAT (1X, 3(F10.5))
</pre></div>

<p>Similarly, replace a code fragment like
</p>
<div class="smallexample">
<pre class="smallexample">      INTEGER*1 LINE(80)
      REAL A, B, C
c     ... Code that sets A, B and C
      ENCODE (80, 9000, LINE) A, B, C
 9000 FORMAT (1X, 'OUTPUT IS ', 3(F10.5))
</pre></div>

<p>with the following:
</p>
<div class="smallexample">
<pre class="smallexample">      CHARACTER(LEN=80) LINE
      REAL A, B, C
c     ... Code that sets A, B and C
      WRITE (UNIT=LINE, FMT=9000) A, B, C
 9000 FORMAT (1X, 'OUTPUT IS ', 3(F10.5))
</pre></div>


<hr>
<a name="Variable-FORMAT-expressions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ENCODE-and-DECODE-statements" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Alternate-complex-function-syntax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Variable-FORMAT-expressions-1"></a>
<h3 class="subsection">5.2.2 Variable <code>FORMAT</code> expressions</h3>
<a name="index-FORMAT"></a>

<p>A variable <code>FORMAT</code> expression is format statement which includes
angle brackets enclosing a Fortran expression: <code>FORMAT(I&lt;N&gt;)</code>.  GNU
Fortran does not support this legacy extension.  The effect of variable
format expressions can be reproduced by using the more powerful (and
standard) combination of internal output and string formats.  For example,
replace a code fragment like this:
</p>
<div class="smallexample">
<pre class="smallexample">      WRITE(6,20) INT1
 20   FORMAT(I&lt;N+1&gt;)
</pre></div>

<p>with the following:
</p>
<div class="smallexample">
<pre class="smallexample">c     Variable declaration
      CHARACTER(LEN=20) FMT
c
c     Other code here...
c
      WRITE(FMT,'(&quot;(I&quot;, I0, &quot;)&quot;)') N+1
      WRITE(6,FMT) INT1
</pre></div>

<p>or with:
</p>
<div class="smallexample">
<pre class="smallexample">c     Variable declaration
      CHARACTER(LEN=20) FMT
c
c     Other code here...
c
      WRITE(FMT,*) N+1
      WRITE(6,&quot;(I&quot; // ADJUSTL(FMT) // &quot;)&quot;) INT1
</pre></div>


<hr>
<a name="Alternate-complex-function-syntax"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Variable-FORMAT-expressions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Volatile-COMMON-blocks" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Alternate-complex-function-syntax-1"></a>
<h3 class="subsection">5.2.3 Alternate complex function syntax</h3>
<a name="index-Complex-function"></a>

<p>Some Fortran compilers, including <code>g77</code>, let the user declare
complex functions with the syntax <code>COMPLEX FUNCTION name*16()</code>, as
well as <code>COMPLEX*16 FUNCTION name()</code>.  Both are non-standard, legacy
extensions.  <code>gfortran</code> accepts the latter form, which is more
common, but not the former.
</p>

<hr>
<a name="Volatile-COMMON-blocks"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Alternate-complex-function-syntax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#OPEN_0028-_002e_002e_002e-NAME_003d_0029" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Volatile-COMMON-blocks-1"></a>
<h3 class="subsection">5.2.4 Volatile <code>COMMON</code> blocks</h3>
<a name="index-VOLATILE"></a>
<a name="index-COMMON"></a>

<p>Some Fortran compilers, including <code>g77</code>, let the user declare
<code>COMMON</code> with the <code>VOLATILE</code> attribute. This is
invalid standard Fortran syntax and is not supported by
<code>gfortran</code>.  Note that <code>gfortran</code> accepts
<code>VOLATILE</code> variables in <code>COMMON</code> blocks since revision 4.3.
</p>

<hr>
<a name="OPEN_0028-_002e_002e_002e-NAME_003d_0029"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Volatile-COMMON-blocks" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Q-edit-descriptor" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="OPEN_0028-_002e_002e_002e-NAME_003d_0029-1"></a>
<h3 class="subsection">5.2.5 <code>OPEN( ... NAME=)</code></h3>
<a name="index-NAME"></a>

<p>Some Fortran compilers, including <code>g77</code>, let the user declare
<code>OPEN( ... NAME=)</code>. This is
invalid standard Fortran syntax and is not supported by
<code>gfortran</code>.  <code>OPEN( ... NAME=)</code> should be replaced
with <code>OPEN( ... FILE=)</code>.
</p>
<hr>
<a name="Q-edit-descriptor"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#OPEN_0028-_002e_002e_002e-NAME_003d_0029" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extensions-not-implemented-in-GNU-Fortran" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Q-edit-descriptor-1"></a>
<h3 class="subsection">5.2.6 <code>Q</code> edit descriptor</h3>
<a name="index-Q-edit-descriptor"></a>

<p>Some Fortran compilers provide the <code>Q</code> edit descriptor, which
transfers the number of characters left within an input record into an
integer variable.
</p>
<p>A direct replacement of the <code>Q</code> edit descriptor is not available
in <code>gfortran</code>.  How to replicate its functionality using
standard-conforming code depends on what the intent of the original
code is.
</p>
<p>Options to replace <code>Q</code> may be to read the whole line into a
character variable and then counting the number of non-blank
characters left using <code>LEN_TRIM</code>.  Another method may be to use
formatted stream, read the data up to the position where the <code>Q</code>
descriptor occurred, use <code>INQUIRE</code> to get the file position,
count the characters up to the next <code>NEW_LINE</code> and then start
reading from the position marked previously.
</p>


<hr>
<a name="Mixed_002dLanguage-Programming"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extensions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Q-edit-descriptor" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Mixed_002dLanguage-Programming-1"></a>
<h1 class="chapter">6 Mixed-Language Programming</h1>
<a name="index-Interoperability"></a>
<a name="index-Mixed_002dlanguage-programming"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Interoperability-with-C">6.1 Interoperability with C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#GNU-Fortran-Compiler-Directives">6.2 GNU Fortran Compiler Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Non_002dFortran-Main-Program">6.3 Non-Fortran Main Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Naming-and-argument_002dpassing-conventions">6.4 Naming and argument-passing conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>This chapter is about mixed-language interoperability, but also applies
if one links Fortran code compiled by different compilers.  In most cases,
use of the C Binding features of the Fortran 2003 standard is sufficient,
and their use is highly recommended.
</p>

<hr>
<a name="Interoperability-with-C"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Intrinsic-Types" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interoperability-with-C-1"></a>
<h2 class="section">6.1 Interoperability with C</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Intrinsic-Types">6.1.1 Intrinsic Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Derived-Types-and-struct">6.1.2 Derived Types and struct</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Interoperable-Global-Variables">6.1.3 Interoperable Global Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Interoperable-Subroutines-and-Functions">6.1.4 Interoperable Subroutines and Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Working-with-Pointers">6.1.5 Working with Pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Further-Interoperability-of-Fortran-with-C">6.1.6 Further Interoperability of Fortran with C</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>Since Fortran 2003 (ISO/IEC 1539-1:2004(E)) there is a
standardized way to generate procedure and derived-type
declarations and global variables which are interoperable with C
(ISO/IEC 9899:1999).  The <code>bind(C)</code> attribute has been added
to inform the compiler that a symbol shall be interoperable with C;
also, some constraints are added.  Note, however, that not
all C features have a Fortran equivalent or vice versa.  For instance,
neither C&rsquo;s unsigned integers nor C&rsquo;s functions with variable number
of arguments have an equivalent in Fortran.
</p>
<p>Note that array dimensions are reversely ordered in C and that arrays in
C always start with index 0 while in Fortran they start by default with
1.  Thus, an array declaration <code>A(n,m)</code> in Fortran matches
<code>A[m][n]</code> in C and accessing the element <code>A(i,j)</code> matches
<code>A[j-1][i-1]</code>.  The element following <code>A(i,j)</code> (C: <code>A[j-1][i-1]</code>;
assuming <em>i &lt; n</em>) in memory is <code>A(i+1,j)</code> (C: <code>A[j-1][i]</code>).
</p>
<hr>
<a name="Intrinsic-Types"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Derived-Types-and-struct" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Intrinsic-Types-1"></a>
<h3 class="subsection">6.1.1 Intrinsic Types</h3>

<p>In order to ensure that exactly the same variable type and kind is used
in C and Fortran, the named constants shall be used which are defined in the
<code>ISO_C_BINDING</code> intrinsic module.  That module contains named constants
for kind parameters and character named constants for the escape sequences
in C.  For a list of the constants, see @ref{ISO_C_BINDING}.
</p>
<p>For logical types, please note that the Fortran standard only guarantees
interoperability between C99&rsquo;s <code>_Bool</code> and Fortran&rsquo;s <code>C_Bool</code>-kind
logicals and C99 defines that <code>true</code> has the value 1 and <code>false</code>
the value 0.  Using any other integer value with GNU Fortran&rsquo;s <code>LOGICAL</code>
(with any kind parameter) gives an undefined result.  (Passing other integer
values than 0 and 1 to GCC&rsquo;s <code>_Bool</code> is also undefined, unless the
integer is explicitly or implicitly casted to <code>_Bool</code>.)
</p>


<hr>
<a name="Derived-Types-and-struct"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Intrinsic-Types" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperable-Global-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Derived-Types-and-struct-1"></a>
<h3 class="subsection">6.1.2 Derived Types and struct</h3>

<p>For compatibility of derived types with <code>struct</code>, one needs to use
the <code>BIND(C)</code> attribute in the type declaration.  For instance, the
following type declaration
</p>
<div class="smallexample">
<pre class="smallexample"> USE ISO_C_BINDING
 TYPE, BIND(C) :: myType
   INTEGER(C_INT) :: i1, i2
   INTEGER(C_SIGNED_CHAR) :: i3
   REAL(C_DOUBLE) :: d1
   COMPLEX(C_FLOAT_COMPLEX) :: c1
   CHARACTER(KIND=C_CHAR) :: str(5)
 END TYPE
</pre></div>

<p>matches the following <code>struct</code> declaration in C
</p>
<div class="smallexample">
<pre class="smallexample"> struct {
   int i1, i2;
   /* Note: &quot;char&quot; might be signed or unsigned.  */
   signed char i3;
   double d1;
   float _Complex c1;
   char str[5];
 } myType;
</pre></div>

<p>Derived types with the C binding attribute shall not have the <code>sequence</code>
attribute, type parameters, the <code>extends</code> attribute, nor type-bound
procedures.  Every component must be of interoperable type and kind and may not
have the <code>pointer</code> or <code>allocatable</code> attribute.  The names of the
components are irrelevant for interoperability.
</p>
<p>As there exist no direct Fortran equivalents, neither unions nor structs
with bit field or variable-length array members are interoperable.
</p>
<hr>
<a name="Interoperable-Global-Variables"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Derived-Types-and-struct" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperable-Subroutines-and-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interoperable-Global-Variables-1"></a>
<h3 class="subsection">6.1.3 Interoperable Global Variables</h3>

<p>Variables can be made accessible from C using the C binding attribute,
optionally together with specifying a binding name.  Those variables
have to be declared in the declaration part of a <code>MODULE</code>,
be of interoperable type, and have neither the <code>pointer</code> nor
the <code>allocatable</code> attribute.
</p>
<div class="smallexample">
<pre class="smallexample">  MODULE m
    USE myType_module
    USE ISO_C_BINDING
    integer(C_INT), bind(C, name=&quot;_MyProject_flags&quot;) :: global_flag
    type(myType), bind(C) :: tp
  END MODULE
</pre></div>

<p>Here, <code>_MyProject_flags</code> is the case-sensitive name of the variable
as seen from C programs while <code>global_flag</code> is the case-insensitive
name as seen from Fortran.  If no binding name is specified, as for
<var>tp</var>, the C binding name is the (lowercase) Fortran binding name.
If a binding name is specified, only a single variable may be after the
double colon.  Note of warning: You cannot use a global variable to
access <var>errno</var> of the C library as the C standard allows it to be
a macro.  Use the <code>IERRNO</code> intrinsic (GNU extension) instead.
</p>
<hr>
<a name="Interoperable-Subroutines-and-Functions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperable-Global-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Working-with-Pointers" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interoperable-Subroutines-and-Functions-1"></a>
<h3 class="subsection">6.1.4 Interoperable Subroutines and Functions</h3>

<p>Subroutines and functions have to have the <code>BIND(C)</code> attribute to
be compatible with C.  The dummy argument declaration is relatively
straightforward.  However, one needs to be careful because C uses
call-by-value by default while Fortran behaves usually similar to
call-by-reference.  Furthermore, strings and pointers are handled
differently.  Note that in Fortran 2003 and 2008 only explicit size
and assumed-size arrays are supported but not assumed-shape or
deferred-shape (i.e. allocatable or pointer) arrays.  However, those
are allowed since the Technical Specification 29113, see
<a href="#Further-Interoperability-of-Fortran-with-C">Further Interoperability of Fortran with C</a>
</p>
<p>To pass a variable by value, use the <code>VALUE</code> attribute.
Thus, the following C prototype
</p>
<div class="smallexample">
<pre class="smallexample"><code>int func(int i, int *j)</code>
</pre></div>

<p>matches the Fortran declaration
</p>
<div class="smallexample">
<pre class="smallexample">  integer(c_int) function func(i,j)
    use iso_c_binding, only: c_int
    integer(c_int), VALUE :: i
    integer(c_int) :: j
</pre></div>

<p>Note that pointer arguments also frequently need the <code>VALUE</code> attribute,
see <a href="#Working-with-Pointers">Working with Pointers</a>.
</p>
<p>Strings are handled quite differently in C and Fortran.  In C a string
is a <code>NUL</code>-terminated array of characters while in Fortran each string
has a length associated with it and is thus not terminated (by e.g.
<code>NUL</code>).  For example, if one wants to use the following C function,
</p>
<div class="smallexample">
<pre class="smallexample">  #include &lt;stdio.h&gt;
  void print_C(char *string) /* equivalent: char string[]  */
  {
     printf(&quot;%s\n&quot;, string);
  }
</pre></div>

<p>to print &ldquo;Hello World&rdquo; from Fortran, one can call it using
</p>
<div class="smallexample">
<pre class="smallexample">  use iso_c_binding, only: C_CHAR, C_NULL_CHAR
  interface
    subroutine print_c(string) bind(C, name=&quot;print_C&quot;)
      use iso_c_binding, only: c_char
      character(kind=c_char) :: string(*)
    end subroutine print_c
  end interface
  call print_c(C_CHAR_&quot;Hello World&quot;//C_NULL_CHAR)
</pre></div>

<p>As the example shows, one needs to ensure that the
string is <code>NUL</code> terminated.  Additionally, the dummy argument
<var>string</var> of <code>print_C</code> is a length-one assumed-size
array; using <code>character(len=*)</code> is not allowed.  The example
above uses <code>c_char_&quot;Hello World&quot;</code> to ensure the string
literal has the right type; typically the default character
kind and <code>c_char</code> are the same and thus <code>&quot;Hello World&quot;</code>
is equivalent.  However, the standard does not guarantee this.
</p>
<p>The use of strings is now further illustrated using the C library
function <code>strncpy</code>, whose prototype is
</p>
<div class="smallexample">
<pre class="smallexample">  char *strncpy(char *restrict s1, const char *restrict s2, size_t n);
</pre></div>

<p>The function <code>strncpy</code> copies at most <var>n</var> characters from
string <var>s2</var> to <var>s1</var> and returns <var>s1</var>.  In the following
example, we ignore the return value:
</p>
<div class="smallexample">
<pre class="smallexample">  use iso_c_binding
  implicit none
  character(len=30) :: str,str2
  interface
    ! Ignore the return value of strncpy -&gt; subroutine
    ! &quot;restrict&quot; is always assumed if we do not pass a pointer
    subroutine strncpy(dest, src, n) bind(C)
      import
      character(kind=c_char),  intent(out) :: dest(*)
      character(kind=c_char),  intent(in)  :: src(*)
      integer(c_size_t), value, intent(in) :: n
    end subroutine strncpy
  end interface
  str = repeat('X',30) ! Initialize whole string with 'X'
  call strncpy(str, c_char_&quot;Hello World&quot;//C_NULL_CHAR, &amp;
               len(c_char_&quot;Hello World&quot;,kind=c_size_t))
  print '(a)', str ! prints: &quot;Hello WorldXXXXXXXXXXXXXXXXXXX&quot;
  end
</pre></div>

<p>The intrinsic procedures are described in @ref{Intrinsic Procedures}.
</p>
<hr>
<a name="Working-with-Pointers"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperable-Subroutines-and-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Further-Interoperability-of-Fortran-with-C" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Working-with-Pointers-1"></a>
<h3 class="subsection">6.1.5 Working with Pointers</h3>

<p>C pointers are represented in Fortran via the special opaque derived type
<code>type(c_ptr)</code> (with private components).  Thus one needs to
use intrinsic conversion procedures to convert from or to C pointers.
</p>
<p>For some applications, using an assumed type (<code>TYPE(*)</code>) can be an
alternative to a C pointer; see
<a href="#Further-Interoperability-of-Fortran-with-C">Further Interoperability of Fortran with C</a>.
</p>
<p>For example,
</p>
<div class="smallexample">
<pre class="smallexample">  use iso_c_binding
  type(c_ptr) :: cptr1, cptr2
  integer, target :: array(7), scalar
  integer, pointer :: pa(:), ps
  cptr1 = c_loc(array(1)) ! The programmer needs to ensure that the
                          ! array is contiguous if required by the C
                          ! procedure
  cptr2 = c_loc(scalar)
  call c_f_pointer(cptr2, ps)
  call c_f_pointer(cptr2, pa, shape=[7])
</pre></div>

<p>When converting C to Fortran arrays, the one-dimensional <code>SHAPE</code> argument
has to be passed.
</p>
<p>If a pointer is a dummy-argument of an interoperable procedure, it usually
has to be declared using the <code>VALUE</code> attribute.  <code>void*</code>
matches <code>TYPE(C_PTR), VALUE</code>, while <code>TYPE(C_PTR)</code> alone
matches <code>void**</code>.
</p>
<p>Procedure pointers are handled analogously to pointers; the C type is
<code>TYPE(C_FUNPTR)</code> and the intrinsic conversion procedures are
<code>C_F_PROCPOINTER</code> and <code>C_FUNLOC</code>.
</p>
<p>Let us consider two examples of actually passing a procedure pointer from
C to Fortran and vice versa.  Note that these examples are also very
similar to passing ordinary pointers between both languages. First,
consider this code in C:
</p>
<div class="smallexample">
<pre class="smallexample">/* Procedure implemented in Fortran.  */
void get_values (void (*)(double));

/* Call-back routine we want called from Fortran.  */
void
print_it (double x)
{
  printf (&quot;Number is %f.\n&quot;, x);
}

/* Call Fortran routine and pass call-back to it.  */
void
foobar ()
{
  get_values (&amp;print_it);
}
</pre></div>

<p>A matching implementation for <code>get_values</code> in Fortran, that correctly
receives the procedure pointer from C and is able to call it, is given
in the following <code>MODULE</code>:
</p>
<div class="smallexample">
<pre class="smallexample">MODULE m
  IMPLICIT NONE

  ! Define interface of call-back routine.
  ABSTRACT INTERFACE
    SUBROUTINE callback (x)
      USE, INTRINSIC :: ISO_C_BINDING
      REAL(KIND=C_DOUBLE), INTENT(IN), VALUE :: x
    END SUBROUTINE callback
  END INTERFACE

CONTAINS

  ! Define C-bound procedure.
  SUBROUTINE get_values (cproc) BIND(C)
    USE, INTRINSIC :: ISO_C_BINDING
    TYPE(C_FUNPTR), INTENT(IN), VALUE :: cproc

    PROCEDURE(callback), POINTER :: proc

    ! Convert C to Fortran procedure pointer.
    CALL C_F_PROCPOINTER (cproc, proc)

    ! Call it.
    CALL proc (1.0_C_DOUBLE)
    CALL proc (-42.0_C_DOUBLE)
    CALL proc (18.12_C_DOUBLE)
  END SUBROUTINE get_values

END MODULE m
</pre></div>

<p>Next, we want to call a C routine that expects a procedure pointer argument
and pass it a Fortran procedure (which clearly must be interoperable!).
Again, the C function may be:
</p>
<div class="smallexample">
<pre class="smallexample">int
call_it (int (*func)(int), int arg)
{
  return func (arg);
}
</pre></div>

<p>It can be used as in the following Fortran code:
</p>
<div class="smallexample">
<pre class="smallexample">MODULE m
  USE, INTRINSIC :: ISO_C_BINDING
  IMPLICIT NONE

  ! Define interface of C function.
  INTERFACE
    INTEGER(KIND=C_INT) FUNCTION call_it (func, arg) BIND(C)
      USE, INTRINSIC :: ISO_C_BINDING
      TYPE(C_FUNPTR), INTENT(IN), VALUE :: func
      INTEGER(KIND=C_INT), INTENT(IN), VALUE :: arg
    END FUNCTION call_it
  END INTERFACE

CONTAINS

  ! Define procedure passed to C function.
  ! It must be interoperable!
  INTEGER(KIND=C_INT) FUNCTION double_it (arg) BIND(C)
    INTEGER(KIND=C_INT), INTENT(IN), VALUE :: arg
    double_it = arg + arg
  END FUNCTION double_it

  ! Call C function.
  SUBROUTINE foobar ()
    TYPE(C_FUNPTR) :: cproc
    INTEGER(KIND=C_INT) :: i

    ! Get C procedure pointer.
    cproc = C_FUNLOC (double_it)

    ! Use it.
    DO i = 1_C_INT, 10_C_INT
      PRINT *, call_it (cproc, i)
    END DO
  END SUBROUTINE foobar

END MODULE m
</pre></div>

<hr>
<a name="Further-Interoperability-of-Fortran-with-C"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Working-with-Pointers" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interoperability-with-C" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-Compiler-Directives" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Further-Interoperability-of-Fortran-with-C-1"></a>
<h3 class="subsection">6.1.6 Further Interoperability of Fortran with C</h3>

<p>The Technical Specification ISO/IEC TS 29113:2012 on further
interoperability of Fortran with C extends the interoperability support
of Fortran 2003 and Fortran 2008. Besides removing some restrictions
and constraints, it adds assumed-type (<code>TYPE(*)</code>) and assumed-rank
(<code>dimension</code>) variables and allows for interoperability of
assumed-shape, assumed-rank and deferred-shape arrays, including
allocatables and pointers.
</p>
<p>Note: Currently, GNU Fortran does not use internally the array descriptor
(dope vector) as specified in the Technical Specification, but uses
an array descriptor with different fields. Assumed type and assumed rank
formal arguments are converted in the library to the specified form. The
ISO_Fortran_binding API functions (also Fortran 2018 18.4) are implemented
in libgfortran. Alternatively, the Chasm Language Interoperability Tools,
<a href="http://chasm-interop.sourceforge.net/">http://chasm-interop.sourceforge.net/</a>, provide an interface to GNU
Fortran&rsquo;s array descriptor.
</p>
<p>The Technical Specification adds the following new features, which
are supported by GNU Fortran:
</p>
<ul>
<li> The <code>ASYNCHRONOUS</code> attribute has been clarified and
extended to allow its use with asynchronous communication in
user-provided libraries such as in implementations of the
Message Passing Interface specification.

</li><li> Many constraints have been relaxed, in particular for
the <code>C_LOC</code> and <code>C_F_POINTER</code> intrinsics.

</li><li> The <code>OPTIONAL</code> attribute is now allowed for dummy
arguments; an absent argument matches a <code>NULL</code> pointer.

</li><li> Assumed types (<code>TYPE(*)</code>) have been added, which may
only be used for dummy arguments.  They are unlimited polymorphic
but contrary to <code>CLASS(*)</code> they do not contain any type
information, similar to C&rsquo;s <code>void *</code> pointers.  Expressions
of any type and kind can be passed; thus, it can be used as
replacement for <code>TYPE(C_PTR)</code>, avoiding the use of
<code>C_LOC</code> in the caller.

<p>Note, however, that <code>TYPE(*)</code> only accepts scalar arguments,
unless the <code>DIMENSION</code> is explicitly specified.  As
<code>DIMENSION(*)</code> only supports array (including array elements) but
no scalars, it is not a full replacement for <code>C_LOC</code>.  On the
other hand, assumed-type assumed-rank dummy arguments
(<code>TYPE(*), DIMENSION(..)</code>) allow for both scalars and arrays, but
require special code on the callee side to handle the array descriptor.
</p>
</li><li> Assumed-rank arrays (<code>DIMENSION(..)</code>) as dummy argument
allow that scalars and arrays of any rank can be passed as actual
argument. As the Technical Specification does not provide for direct
means to operate with them, they have to be used either from the C side
or be converted using <code>C_LOC</code> and <code>C_F_POINTER</code> to scalars
or arrays of a specific rank. The rank can be determined using the
<code>RANK</code> intrinisic.
</li></ul>


<p>Currently unimplemented:
</p>
<ul>
<li> GNU Fortran always uses an array descriptor, which does not
match the one of the Technical Specification. The
<code>ISO_Fortran_binding.h</code> header file and the C functions it
specifies are not available.

</li><li> Using assumed-shape, assumed-rank and deferred-shape arrays in
<code>BIND(C)</code> procedures is not fully supported. In particular,
C interoperable strings of other length than one are not supported
as this requires the new array descriptor.
</li></ul>


<hr>
<a name="GNU-Fortran-Compiler-Directives"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Further-Interoperability-of-Fortran-with-C" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#ATTRIBUTES-directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Fortran-Compiler-Directives-1"></a>
<h2 class="section">6.2 GNU Fortran Compiler Directives</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#ATTRIBUTES-directive">6.2.1 ATTRIBUTES directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#UNROLL-directive">6.2.2 UNROLL directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#BUILTIN-directive">6.2.3 BUILTIN directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="ATTRIBUTES-directive"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-Compiler-Directives" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-Compiler-Directives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#UNROLL-directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="ATTRIBUTES-directive-1"></a>
<h3 class="subsection">6.2.1 ATTRIBUTES directive</h3>

<p>The Fortran standard describes how a conforming program shall
behave; however, the exact implementation is not standardized.  In order
to allow the user to choose specific implementation details, compiler
directives can be used to set attributes of variables and procedures
which are not part of the standard.  Whether a given attribute is
supported and its exact effects depend on both the operating system and
on the processor; see
<a href="https://gcc.gnu.org/onlinedocs/gcc/index.html#Top">C Extensions</a> in <cite>Using the GNU Compiler Collection (GCC)</cite>
for details.
</p>
<p>For procedures and procedure pointers, the following attributes can
be used to change the calling convention:
</p>
<ul>
<li> <code>CDECL</code> &ndash; standard C calling convention
</li><li> <code>STDCALL</code> &ndash; convention where the called procedure pops the stack
</li><li> <code>FASTCALL</code> &ndash; part of the arguments are passed via registers
instead using the stack
</li></ul>

<p>Besides changing the calling convention, the attributes also influence
the decoration of the symbol name, e.g., by a leading underscore or by
a trailing at-sign followed by the number of bytes on the stack.  When
assigning a procedure to a procedure pointer, both should use the same
calling convention.
</p>
<p>On some systems, procedures and global variables (module variables and
<code>COMMON</code> blocks) need special handling to be accessible when they
are in a shared library.  The following attributes are available:
</p>
<ul>
<li> <code>DLLEXPORT</code> &ndash; provide a global pointer to a pointer in the DLL
</li><li> <code>DLLIMPORT</code> &ndash; reference the function or variable using a
global pointer
</li></ul>

<p>For dummy arguments, the <code>NO_ARG_CHECK</code> attribute can be used; in
other compilers, it is also known as <code>IGNORE_TKR</code>.  For dummy arguments
with this attribute actual arguments of any type and kind (similar to
<code>TYPE(*)</code>), scalars and arrays of any rank (no equivalent
in Fortran standard) are accepted.  As with <code>TYPE(*)</code>, the argument
is unlimited polymorphic and no type information is available.
Additionally, the argument may only be passed to dummy arguments
with the <code>NO_ARG_CHECK</code> attribute and as argument to the
<code>PRESENT</code> intrinsic function and to <code>C_LOC</code> of the
<code>ISO_C_BINDING</code> module.
</p>
<p>Variables with <code>NO_ARG_CHECK</code> attribute shall be of assumed-type
(<code>TYPE(*)</code>; recommended) or of type <code>INTEGER</code>, <code>LOGICAL</code>,
<code>REAL</code> or <code>COMPLEX</code>. They shall not have the <code>ALLOCATE</code>,
<code>CODIMENSION</code>, <code>INTENT(OUT)</code>, <code>POINTER</code> or <code>VALUE</code>
attribute; furthermore, they shall be either scalar or of assumed-size
(<code>dimension(*)</code>). As <code>TYPE(*)</code>, the <code>NO_ARG_CHECK</code> attribute
requires an explicit interface.
</p>
<ul>
<li> <code>NO_ARG_CHECK</code> &ndash; disable the type, kind and rank checking
</li></ul>


<p>The attributes are specified using the syntax
</p>
<p><code>!GCC$ ATTRIBUTES</code> <var>attribute-list</var> <code>::</code> <var>variable-list</var>
</p>
<p>where in free-form source code only whitespace is allowed before <code>!GCC$</code>
and in fixed-form source code <code>!GCC$</code>, <code>cGCC$</code> or <code>*GCC$</code> shall
start in the first column.
</p>
<p>For procedures, the compiler directives shall be placed into the body
of the procedure; for variables and procedure pointers, they shall be in
the same declaration part as the variable or procedure pointer.
</p>

<hr>
<a name="UNROLL-directive"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#ATTRIBUTES-directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-Compiler-Directives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#BUILTIN-directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="UNROLL-directive-1"></a>
<h3 class="subsection">6.2.2 UNROLL directive</h3>

<p>The syntax of the directive is
</p>
<p><code>!GCC$ unroll N</code>
</p>
<p>You can use this directive to control how many times a loop should be unrolled.
It must be placed immediately before a <code>DO</code> loop and applies only to the
loop that follows.  N is an integer constant specifying the unrolling factor.
The values of 0 and 1 block any unrolling of the loop.
</p>

<hr>
<a name="BUILTIN-directive"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#UNROLL-directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Fortran-Compiler-Directives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="BUILTIN-directive-1"></a>
<h3 class="subsection">6.2.3 BUILTIN directive</h3>

<p>The syntax of the directive is
</p>
<p><code>!GCC$ BUILTIN (B) attributes simd FLAGS IF('target')</code>
</p>
<p>You can use this directive to define which middle-end built-ins provide vector
implementations.  <code>B</code> is name of the middle-end built-in.  <code>FLAGS</code>
are optional and must be either &quot;(inbranch)&quot; or &quot;(notinbranch)&quot;.
<code>IF</code> statement is optional and is used to filter multilib ABIs
for the built-in that should be vectorized.  Example usage:
</p>
<div class="smallexample">
<pre class="smallexample">!GCC$ builtin (sinf) attributes simd (notinbranch) if('x86_64')
</pre></div>

<p>The purpose of the directive is to provide an API among the GCC compiler and
the GNU C Library which would define vector implementations of math routines.
</p>
<hr>
<a name="Non_002dFortran-Main-Program"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#BUILTIN-directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fargs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Non_002dFortran-Main-Program-1"></a>
<h2 class="section">6.3 Non-Fortran Main Program</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005fargs">6.3.1 <code>_gfortran_set_args</code> &mdash; Save command-line arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Save command-line arguments
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005foptions">6.3.2 <code>_gfortran_set_options</code> &mdash; Set library option flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Set library option flags
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005fconvert">6.3.3 <code>_gfortran_set_convert</code> &mdash; Set endian conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Set endian conversion
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005frecord_005fmarker">6.3.4 <code>_gfortran_set_record_marker</code> &mdash; Set length of record markers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Set length of record markers
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005ffpe">6.3.5 <code>_gfortran_set_fpe</code> &mdash; Enable floating point exception traps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Set when a Floating Point Exception should be raised
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength">6.3.6 <code>_gfortran_set_max_subrecord_length</code> &mdash; Set subrecord length</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Set subrecord length
</td></tr>
</table>

<p>Even if you are doing mixed-language programming, it is very
likely that you do not need to know or use the information in this
section.  Since it is about the internal structure of GNU Fortran,
it may also change in GCC minor releases.
</p>
<p>When you compile a <code>PROGRAM</code> with GNU Fortran, a function
with the name <code>main</code> (in the symbol table of the object file)
is generated, which initializes the libgfortran library and then
calls the actual program which uses the name <code>MAIN__</code>, for
historic reasons.  If you link GNU Fortran compiled procedures
to, e.g., a C or C++ program or to a Fortran program compiled by
a different compiler, the libgfortran library is not initialized
and thus a few intrinsic procedures do not work properly, e.g.
those for obtaining the command-line arguments.
</p>
<p>Therefore, if your <code>PROGRAM</code> is not compiled with
GNU Fortran and the GNU Fortran compiled procedures require
intrinsics relying on the library initialization, you need to
initialize the library yourself.  Using the default options,
gfortran calls <code>_gfortran_set_args</code> and
<code>_gfortran_set_options</code>.  The initialization of the former
is needed if the called procedures access the command line
(and for backtracing); the latter sets some flags based on the
standard chosen or to enable backtracing.  In typical programs,
it is not necessary to call any initialization function.
</p>
<p>If your <code>PROGRAM</code> is compiled with GNU Fortran, you shall
not call any of the following functions.  The libgfortran
initialization functions are shown in C syntax but using C
bindings they are also accessible from Fortran.
</p>

<hr>
<a name="g_t_005fgfortran_005fset_005fargs"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005foptions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005fargs-_002d_002d_002d-Save-command_002dline-arguments"></a>
<h3 class="subsection">6.3.1 <code>_gfortran_set_args</code> &mdash; Save command-line arguments</h3>
<a name="index-_005fgfortran_005fset_005fargs"></a>
<a name="index-libgfortran-initialization_002c-set_005fargs"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_args</code> saves the command-line arguments; this
initialization is required if any of the command-line intrinsics
is called.  Additionally, it shall be called if backtracing is
enabled (see <code>_gfortran_set_options</code>).
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_args (int argc, char *argv[])</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>argc</var></td><td width="70%">number of command line argument strings</td></tr>
<tr><td width="15%"><var>argv</var></td><td width="70%">the command-line argument strings; argv[0]
is the pathname of the executable itself.</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">int main (int argc, char *argv[])
{
  /* Initialize libgfortran.  */
  _gfortran_set_args (argc, argv);
  return 0;
}
</pre></div>
</dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fset_005foptions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fargs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fconvert" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005foptions-_002d_002d_002d-Set-library-option-flags"></a>
<h3 class="subsection">6.3.2 <code>_gfortran_set_options</code> &mdash; Set library option flags</h3>
<a name="index-_005fgfortran_005fset_005foptions"></a>
<a name="index-libgfortran-initialization_002c-set_005foptions"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_options</code> sets several flags related to the Fortran
standard to be used, whether backtracing should be enabled
and whether range checks should be performed.  The syntax allows for
upward compatibility since the number of passed flags is specified; for
non-passed flags, the default value is used.  See also
@pxref{Code Gen Options}.  Please note that not all flags are actually
used.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_options (int num, int options[])</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>num</var></td><td width="70%">number of options passed</td></tr>
<tr><td width="15%"><var>argv</var></td><td width="70%">The list of flag values</td></tr>
</table>

</dd>
<dt><em>option flag list</em>:</dt>
<dd><table>
<tr><td width="15%"><var>option</var>[0]</td><td width="70%">Allowed standard; can give run-time errors
if e.g. an input-output edit descriptor is invalid in a given
standard.  Possible values are (bitwise or-ed) <code>GFC_STD_F77</code> (1),
<code>GFC_STD_F95_OBS</code> (2), <code>GFC_STD_F95_DEL</code> (4),
<code>GFC_STD_F95</code> (8), <code>GFC_STD_F2003</code> (16), <code>GFC_STD_GNU</code>
(32), <code>GFC_STD_LEGACY</code> (64), <code>GFC_STD_F2008</code> (128),
<code>GFC_STD_F2008_OBS</code> (256), <code>GFC_STD_F2008_TS</code> (512),
<code>GFC_STD_F2018</code> (1024), <code>GFC_STD_F2018_OBS</code> (2048), and
<code>GFC_STD=F2018_DEL</code> (4096). Default: <code>GFC_STD_F95_OBS |
GFC_STD_F95_DEL | GFC_STD_F95 | GFC_STD_F2003 | GFC_STD_F2008 |
GFC_STD_F2008_TS | GFC_STD_F2008_OBS | GFC_STD_F77 | GFC_STD_F2018 |
GFC_STD_F2018_OBS | GFC_STD_F2018_DEL | GFC_STD_GNU | GFC_STD_LEGACY</code>.</td></tr>
<tr><td width="15%"><var>option</var>[1]</td><td width="70%">Standard-warning flag; prints a warning to
standard error.  Default: <code>GFC_STD_F95_DEL | GFC_STD_LEGACY</code>.</td></tr>
<tr><td width="15%"><var>option</var>[2]</td><td width="70%">If non zero, enable pedantic checking.
Default: off.</td></tr>
<tr><td width="15%"><var>option</var>[3]</td><td width="70%">Unused.</td></tr>
<tr><td width="15%"><var>option</var>[4]</td><td width="70%">If non zero, enable backtracing on run-time
errors.  Default: off. (Default in the compiler: on.)
Note: Installs a signal handler and requires command-line
initialization using <code>_gfortran_set_args</code>.</td></tr>
<tr><td width="15%"><var>option</var>[5]</td><td width="70%">If non zero, supports signed zeros.
Default: enabled.</td></tr>
<tr><td width="15%"><var>option</var>[6]</td><td width="70%">Enables run-time checking.  Possible values
are (bitwise or-ed): GFC_RTCHECK_BOUNDS (1), GFC_RTCHECK_ARRAY_TEMPS (2),
GFC_RTCHECK_RECURSION (4), GFC_RTCHECK_DO (16), GFC_RTCHECK_POINTER (32).
Default: disabled.</td></tr>
<tr><td width="15%"><var>option</var>[7]</td><td width="70%">Unused.</td></tr>
<tr><td width="15%"><var>option</var>[8]</td><td width="70%">Show a warning when invoking <code>STOP</code> and
<code>ERROR STOP</code> if a floating-point exception occurred. Possible values
are (bitwise or-ed) <code>GFC_FPE_INVALID</code> (1), <code>GFC_FPE_DENORMAL</code> (2),
<code>GFC_FPE_ZERO</code> (4), <code>GFC_FPE_OVERFLOW</code> (8),
<code>GFC_FPE_UNDERFLOW</code> (16), <code>GFC_FPE_INEXACT</code> (32). Default: None (0).
(Default in the compiler: <code>GFC_FPE_INVALID | GFC_FPE_DENORMAL |
GFC_FPE_ZERO | GFC_FPE_OVERFLOW | GFC_FPE_UNDERFLOW</code>.)</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">  /* Use gfortran 4.9 default options.  */
  static int options[] = {68, 511, 0, 0, 1, 1, 0, 0, 31};
  _gfortran_set_options (9, &amp;options);
</pre></div>
</dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fset_005fconvert"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005foptions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005frecord_005fmarker" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005fconvert-_002d_002d_002d-Set-endian-conversion"></a>
<h3 class="subsection">6.3.3 <code>_gfortran_set_convert</code> &mdash; Set endian conversion</h3>
<a name="index-_005fgfortran_005fset_005fconvert"></a>
<a name="index-libgfortran-initialization_002c-set_005fconvert"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_convert</code> set the representation of data for
unformatted files.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_convert (int conv)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>conv</var></td><td width="70%">Endian conversion, possible values:
GFC_CONVERT_NATIVE (0, default), GFC_CONVERT_SWAP (1),
GFC_CONVERT_BIG (2), GFC_CONVERT_LITTLE (3).</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">int main (int argc, char *argv[])
{
  /* Initialize libgfortran.  */
  _gfortran_set_args (argc, argv);
  _gfortran_set_convert (1);
  return 0;
}
</pre></div>
</dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fset_005frecord_005fmarker"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fconvert" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005ffpe" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005frecord_005fmarker-_002d_002d_002d-Set-length-of-record-markers"></a>
<h3 class="subsection">6.3.4 <code>_gfortran_set_record_marker</code> &mdash; Set length of record markers</h3>
<a name="index-_005fgfortran_005fset_005frecord_005fmarker"></a>
<a name="index-libgfortran-initialization_002c-set_005frecord_005fmarker"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_record_marker</code> sets the length of record markers
for unformatted files.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_record_marker (int val)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>val</var></td><td width="70%">Length of the record marker; valid values
are 4 and 8.  Default is 4.</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">int main (int argc, char *argv[])
{
  /* Initialize libgfortran.  */
  _gfortran_set_args (argc, argv);
  _gfortran_set_record_marker (8);
  return 0;
}
</pre></div>
</dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fset_005ffpe"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005frecord_005fmarker" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005ffpe-_002d_002d_002d-Enable-floating-point-exception-traps"></a>
<h3 class="subsection">6.3.5 <code>_gfortran_set_fpe</code> &mdash; Enable floating point exception traps</h3>
<a name="index-_005fgfortran_005fset_005ffpe"></a>
<a name="index-libgfortran-initialization_002c-set_005ffpe"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_fpe</code> enables floating point exception traps for
the specified exceptions.  On most systems, this will result in a
SIGFPE signal being sent and the program being aborted.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_fpe (int val)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>option</var>[0]</td><td width="70%">IEEE exceptions.  Possible values are
(bitwise or-ed) zero (0, default) no trapping,
<code>GFC_FPE_INVALID</code> (1), <code>GFC_FPE_DENORMAL</code> (2),
<code>GFC_FPE_ZERO</code> (4), <code>GFC_FPE_OVERFLOW</code> (8),
<code>GFC_FPE_UNDERFLOW</code> (16), and <code>GFC_FPE_INEXACT</code> (32).</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">int main (int argc, char *argv[])
{
  /* Initialize libgfortran.  */
  _gfortran_set_args (argc, argv);
  /* FPE for invalid operations such as SQRT(-1.0).  */
  _gfortran_set_fpe (1);
  return 0;
}
</pre></div>
</dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005ffpe" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Non_002dFortran-Main-Program" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-and-argument_002dpassing-conventions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength-_002d_002d_002d-Set-subrecord-length"></a>
<h3 class="subsection">6.3.6 <code>_gfortran_set_max_subrecord_length</code> &mdash; Set subrecord length</h3>
<a name="index-_005fgfortran_005fset_005fmax_005fsubrecord_005flength"></a>
<a name="index-libgfortran-initialization_002c-set_005fmax_005fsubrecord_005flength"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p><code>_gfortran_set_max_subrecord_length</code> set the maximum length
for a subrecord.  This option only makes sense for testing and
debugging of unformatted I/O.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_set_max_subrecord_length (int val)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>val</var></td><td width="70%">the maximum length for a subrecord;
the maximum permitted value is 2147483639, which is also
the default.</td></tr>
</table>

</dd>
<dt><em>Example</em>:</dt>
<dd><div class="smallexample">
<pre class="smallexample">int main (int argc, char *argv[])
{
  /* Initialize libgfortran.  */
  _gfortran_set_args (argc, argv);
  _gfortran_set_max_subrecord_length (8);
  return 0;
}
</pre></div>
</dd>
</dl>


<hr>
<a name="Naming-and-argument_002dpassing-conventions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-conventions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Naming-and-argument_002dpassing-conventions-1"></a>
<h2 class="section">6.4 Naming and argument-passing conventions</h2>

<p>This section gives an overview about the naming convention of procedures
and global variables and about the argument passing conventions used by
GNU Fortran.  If a C binding has been specified, the naming convention
and some of the argument-passing conventions change.  If possible,
mixed-language and mixed-compiler projects should use the better defined
C binding for interoperability.  See see section <a href="#Interoperability-with-C">Interoperability with C</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Naming-conventions">6.4.1 Naming conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Argument-passing-conventions">6.4.2 Argument passing conventions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<a name="Naming-conventions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-and-argument_002dpassing-conventions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-and-argument_002dpassing-conventions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Argument-passing-conventions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Naming-conventions-1"></a>
<h3 class="subsection">6.4.1 Naming conventions</h3>

<p>According the Fortran standard, valid Fortran names consist of a letter
between <code>A</code> to <code>Z</code>, <code>a</code> to <code>z</code>, digits <code>0</code>,
<code>1</code> to <code>9</code> and underscores (<code>_</code>) with the restriction
that names may only start with a letter.  As vendor extension, the
dollar sign (<code>$</code>) is additionally permitted with the option
&lsquo;<samp>-fdollar-ok</samp>&rsquo;, but not as first character and only if the
target system supports it.
</p>
<p>By default, the procedure name is the lower-cased Fortran name with an
appended underscore (<code>_</code>); using &lsquo;<samp>-fno-underscoring</samp>&rsquo; no
underscore is appended while <code>-fsecond-underscore</code> appends two
underscores.  Depending on the target system and the calling convention,
the procedure might be additionally dressed; for instance, on 32bit
Windows with <code>stdcall</code>, an at-sign <code>@</code> followed by an integer
number is appended.  For the changing the calling convention, see
see section <a href="#GNU-Fortran-Compiler-Directives">GNU Fortran Compiler Directives</a>.
</p>
<p>For common blocks, the same convention is used, i.e. by default an
underscore is appended to the lower-cased Fortran name.  Blank commons
have the name <code>__BLNK__</code>.
</p>
<p>For procedures and variables declared in the specification space of a
module, the name is formed by <code>__</code>, followed by the lower-cased
module name, <code>_MOD_</code>, and the lower-cased Fortran name.  Note that
no underscore is appended.
</p>

<hr>
<a name="Argument-passing-conventions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-conventions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Naming-and-argument_002dpassing-conventions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Argument-passing-conventions-1"></a>
<h3 class="subsection">6.4.2 Argument passing conventions</h3>

<p>Subroutines do not return a value (matching C99&rsquo;s <code>void</code>) while
functions either return a value as specified in the platform ABI or
the result variable is passed as hidden argument to the function and
no result is returned.  A hidden result variable is used when the
result variable is an array or of type <code>CHARACTER</code>.
</p>
<p>Arguments are passed according to the platform ABI. In particular,
complex arguments might not be compatible to a struct with two real
components for the real and imaginary part. The argument passing
matches the one of C99&rsquo;s <code>_Complex</code>.  Functions with scalar
complex result variables return their value and do not use a
by-reference argument.  Note that with the &lsquo;<samp>-ff2c</samp>&rsquo; option,
the argument passing is modified and no longer completely matches
the platform ABI.  Some other Fortran compilers use <code>f2c</code>
semantic by default; this might cause problems with
interoperablility.
</p>
<p>GNU Fortran passes most arguments by reference, i.e. by passing a
pointer to the data.  Note that the compiler might use a temporary
variable into which the actual argument has been copied, if required
semantically (copy-in/copy-out).
</p>
<p>For arguments with <code>ALLOCATABLE</code> and <code>POINTER</code>
attribute (including procedure pointers), a pointer to the pointer
is passed such that the pointer address can be modified in the
procedure.
</p>
<p>For dummy arguments with the <code>VALUE</code> attribute: Scalar arguments
of the type <code>INTEGER</code>, <code>LOGICAL</code>, <code>REAL</code> and
<code>COMPLEX</code> are passed by value according to the platform ABI.
(As vendor extension and not recommended, using <code>%VAL()</code> in the
call to a procedure has the same effect.) For <code>TYPE(C_PTR)</code> and
procedure pointers, the pointer itself is passed such that it can be
modified without affecting the caller.
</p>
<p>For Boolean (<code>LOGICAL</code>) arguments, please note that GCC expects
only the integer value 0 and 1.  If a GNU Fortran <code>LOGICAL</code>
variable contains another integer value, the result is undefined.
As some other Fortran compilers use <em>-1</em> for <code>.TRUE.</code>,
extra care has to be taken &ndash; such as passing the value as
<code>INTEGER</code>.  (The same value restriction also applies to other
front ends of GCC, e.g. to GCC&rsquo;s C99 compiler for <code>_Bool</code>
or GCC&rsquo;s Ada compiler for <code>Boolean</code>.)
</p>
<p>For arguments of <code>CHARACTER</code> type, the character length is passed
as a hidden argument at the end of the argument list.  For
deferred-length strings, the value is passed by reference, otherwise
by value.  The character length has the C type <code>size_t</code> (or
<code>INTEGER(kind=C_SIZE_T)</code> in Fortran).  Note that this is
different to older versions of the GNU Fortran compiler, where the
type of the hidden character length argument was a C <code>int</code>.  In
order to retain compatibility with older versions, one can e.g. for
the following Fortran procedure
</p>
<div class="smallexample">
<pre class="smallexample">subroutine fstrlen (s, a)
   character(len=*) :: s
   integer :: a
   print*, len(s)
end subroutine fstrlen
</pre></div>

<p>define the corresponding C prototype as follows:
</p>
<div class="smallexample">
<pre class="smallexample">#if __GNUC__ &gt; 7
typedef size_t fortran_charlen_t;
#else
typedef int fortran_charlen_t;
#endif

void fstrlen_ (char*, int*, fortran_charlen_t);
</pre></div>

<p>In order to avoid such compiler-specific details, for new code it is
instead recommended to use the ISO_C_BINDING feature.
</p>
<p>Note with C binding, <code>CHARACTER(len=1)</code> result variables are
returned according to the platform ABI and no hidden length argument
is used for dummy arguments; with <code>VALUE</code>, those variables are
passed by value.
</p>
<p>For <code>OPTIONAL</code> dummy arguments, an absent argument is denoted
by a NULL pointer, except for scalar dummy arguments of type
<code>INTEGER</code>, <code>LOGICAL</code>, <code>REAL</code> and <code>COMPLEX</code>
which have the <code>VALUE</code> attribute.  For those, a hidden Boolean
argument (<code>logical(kind=C_bool),value</code>) is used to indicate
whether the argument is present.
</p>
<p>Arguments which are assumed-shape, assumed-rank or deferred-rank
arrays or, with &lsquo;<samp>-fcoarray=lib</samp>&rsquo;, allocatable scalar coarrays use
an array descriptor.  All other arrays pass the address of the
first element of the array.  With &lsquo;<samp>-fcoarray=lib</samp>&rsquo;, the token
and the offset belonging to nonallocatable coarrays dummy arguments
are passed as hidden argument along the character length hidden
arguments.  The token is an oparque pointer identifying the coarray
and the offset is a passed-by-value integer of kind <code>C_PTRDIFF_T</code>,
denoting the byte offset between the base address of the coarray and
the passed scalar or first element of the passed array.
</p>
<p>The arguments are passed in the following order
</p><ul>
<li> Result variable, when the function result is passed by reference
</li><li> Character length of the function result, if it is a of type
<code>CHARACTER</code> and no C binding is used
</li><li> The arguments in the order in which they appear in the Fortran
declaration
</li><li> The the present status for optional arguments with value attribute,
which are internally passed by value
</li><li> The character length and/or coarray token and offset for the first
argument which is a <code>CHARACTER</code> or a nonallocatable coarray dummy
argument, followed by the hidden arguments of the next dummy argument
of such a type
</li></ul>



<hr>
<a name="Coarray-Programming"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Mixed_002dLanguage-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Argument-passing-conventions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Coarray-Programming-1"></a>
<h1 class="chapter">7 Coarray Programming</h1>
<a name="index-Coarrays"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Type-and-enum-ABI-Documentation">7.1 Type and enum ABI Documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Function-ABI-Documentation">7.2 Function ABI Documentation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<a name="Type-and-enum-ABI-Documentation"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005ftoken_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Type-and-enum-ABI-Documentation-1"></a>
<h2 class="section">7.1 Type and enum ABI Documentation</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#caf_005ftoken_005ft">7.1.1 <code>caf_token_t</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#caf_005fregister_005ft">7.1.2 <code>caf_register_t</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#caf_005fderegister_005ft">7.1.3 <code>caf_deregister_t</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#caf_005freference_005ft">7.1.4 <code>caf_reference_t</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#caf_005fteam_005ft">7.1.5 <code>caf_team_t</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="caf_005ftoken_005ft"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fregister_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="caf_005ftoken_005ft-1"></a>
<h3 class="subsection">7.1.1 <code>caf_token_t</code></h3>

<p>Typedef of type <code>void *</code> on the compiler side. Can be any data
type on the library side.
</p>
<hr>
<a name="caf_005fregister_005ft"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005ftoken_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fderegister_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="caf_005fregister_005ft-1"></a>
<h3 class="subsection">7.1.2 <code>caf_register_t</code></h3>

<p>Indicates which kind of coarray variable should be registered.
</p>
<pre class="verbatim">typedef enum caf_register_t {
  CAF_REGTYPE_COARRAY_STATIC,
  CAF_REGTYPE_COARRAY_ALLOC,
  CAF_REGTYPE_LOCK_STATIC,
  CAF_REGTYPE_LOCK_ALLOC,
  CAF_REGTYPE_CRITICAL,
  CAF_REGTYPE_EVENT_STATIC,
  CAF_REGTYPE_EVENT_ALLOC,
  CAF_REGTYPE_COARRAY_ALLOC_REGISTER_ONLY,
  CAF_REGTYPE_COARRAY_ALLOC_ALLOCATE_ONLY
}
caf_register_t;
</pre>
<p>The values <code>CAF_REGTYPE_COARRAY_ALLOC_REGISTER_ONLY</code> and
<code>CAF_REGTYPE_COARRAY_ALLOC_ALLOCATE_ONLY</code> are for allocatable components
in derived type coarrays only.  The first one sets up the token without
allocating memory for allocatable component.  The latter one only allocates the
memory for an allocatable component in a derived type coarray.  The token
needs to be setup previously by the REGISTER_ONLY.  This allows to have
allocatable components un-allocated on some images.  The status whether an
allocatable component is allocated on a remote image can be queried by
<code>_caf_is_present</code> which used internally by the <code>ALLOCATED</code>
intrinsic.
</p>
<hr>
<a name="caf_005fderegister_005ft"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fregister_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005freference_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="caf_005fderegister_005ft-1"></a>
<h3 class="subsection">7.1.3 <code>caf_deregister_t</code></h3>

<pre class="verbatim">typedef enum caf_deregister_t {
  CAF_DEREGTYPE_COARRAY_DEREGISTER,
  CAF_DEREGTYPE_COARRAY_DEALLOCATE_ONLY
}
caf_deregister_t;
</pre>
<p>Allows to specifiy the type of deregistration of a coarray object.  The
<code>CAF_DEREGTYPE_COARRAY_DEALLOCATE_ONLY</code> flag is only allowed for
allocatable components in derived type coarrays.
</p>
<hr>
<a name="caf_005freference_005ft"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fderegister_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fteam_005ft" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="caf_005freference_005ft-1"></a>
<h3 class="subsection">7.1.4 <code>caf_reference_t</code></h3>

<p>The structure used for implementing arbitrary reference chains.
A <code>CAF_REFERENCE_T</code> allows to specify a component reference or any kind
of array reference of any rank supported by gfortran.  For array references all
kinds as known by the compiler/Fortran standard are supported indicated by
a <code>MODE</code>.
</p>
<pre class="verbatim">typedef enum caf_ref_type_t {
  /* Reference a component of a derived type, either regular one or an
     allocatable or pointer type.  For regular ones idx in caf_reference_t is
     set to -1.  */
  CAF_REF_COMPONENT,
  /* Reference an allocatable array.  */
  CAF_REF_ARRAY,
  /* Reference a non-allocatable/non-pointer array.  I.e., the coarray object
     has no array descriptor associated and the addressing is done
     completely using the ref.  */
  CAF_REF_STATIC_ARRAY
} caf_ref_type_t;
</pre>
<pre class="verbatim">typedef enum caf_array_ref_t {
  /* No array ref.  This terminates the array ref.  */
  CAF_ARR_REF_NONE = 0,
  /* Reference array elements given by a vector.  Only for this mode
     caf_reference_t.u.a.dim[i].v is valid.  */
  CAF_ARR_REF_VECTOR,
  /* A full array ref (:).  */
  CAF_ARR_REF_FULL,
  /* Reference a range on elements given by start, end and stride.  */
  CAF_ARR_REF_RANGE,
  /* Only a single item is referenced given in the start member.  */
  CAF_ARR_REF_SINGLE,
  /* An array ref of the kind (i:), where i is an arbitrary valid index in the
     array.  The index i is given in the start member.  */
  CAF_ARR_REF_OPEN_END,
  /* An array ref of the kind (:i), where the lower bound of the array ref
     is given by the remote side.  The index i is given in the end member.  */
  CAF_ARR_REF_OPEN_START
} caf_array_ref_t;
</pre>
<pre class="verbatim">/* References to remote components of a derived type.  */
typedef struct caf_reference_t {
  /* A pointer to the next ref or NULL.  */
  struct caf_reference_t *next;
  /* The type of the reference.  */
  /* caf_ref_type_t, replaced by int to allow specification in fortran FE.  */
  int type;
  /* The size of an item referenced in bytes.  I.e. in an array ref this is
     the factor to advance the array pointer with to get to the next item.
     For component refs this gives just the size of the element referenced.  */
  size_t item_size;
  union {
    struct {
      /* The offset (in bytes) of the component in the derived type.
         Unused for allocatable or pointer components.  */
      ptrdiff_t offset;
      /* The offset (in bytes) to the caf_token associated with this
         component.  NULL, when not allocatable/pointer ref.  */
      ptrdiff_t caf_token_offset;
    } c;
    struct {
      /* The mode of the array ref.  See CAF_ARR_REF_*.  */
      /* caf_array_ref_t, replaced by unsigend char to allow specification in
         fortran FE.  */
     unsigned char mode[GFC_MAX_DIMENSIONS];
      /* The type of a static array.  Unset for array's with descriptors.  */
      int static_array_type;
      /* Subscript refs (s) or vector refs (v).  */
      union {
        struct {
          /* The start and end boundary of the ref and the stride.  */
          index_type start, end, stride;
        } s;
        struct {
          /* nvec entries of kind giving the elements to reference.  */
          void *vector;
          /* The number of entries in vector.  */
          size_t nvec;
          /* The integer kind used for the elements in vector.  */
          int kind;
        } v;
      } dim[GFC_MAX_DIMENSIONS];
    } a;
  } u;
} caf_reference_t;
</pre>
<p>The references make up a single linked list of reference operations.  The
<code>NEXT</code> member links to the next reference or NULL to indicate the end of
the chain.  Component and array refs can be arbitrarly mixed as long as they
comply to the Fortran standard.
</p>
<p><em>NOTES</em>
The member <code>STATIC_ARRAY_TYPE</code> is used only when the <code>TYPE</code> is
<code>CAF_REF_STATIC_ARRAY</code>.  The member gives the type of the data referenced.
Because no array descriptor is available for a descriptor-less array and
type conversion still needs to take place the type is transported here.
</p>
<p>At the moment <code>CAF_ARR_REF_VECTOR</code> is not implemented in the front end for
descriptor-less arrays.  The library caf_single has untested support for it.
</p>
<hr>
<a name="caf_005fteam_005ft"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005freference_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Type-and-enum-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="caf_005fteam_005ft-1"></a>
<h3 class="subsection">7.1.5 <code>caf_team_t</code></h3>

<p>Opaque pointer to represent a team-handle.  This type is a stand-in for the
future implementation of teams.  It is about to change without further notice.
</p>
<hr>
<a name="Function-ABI-Documentation"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#caf_005fteam_005ft" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Coarray-Programming" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005finit" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Function-ABI-Documentation-1"></a>
<h2 class="section">7.2 Function ABI Documentation</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005finit">7.2.1 <code>_gfortran_caf_init</code> &mdash; Initialiation function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Initialiation function
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffinish">7.2.2 <code>_gfortran_caf_finish</code> &mdash; Finalization function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Finalization function
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fthis_005fimage">7.2.3 <code>_gfortran_caf_this_image</code> &mdash; Querying the image number</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Querying the image number
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fnum_005fimages">7.2.4 <code>_gfortran_caf_num_images</code> &mdash; Querying the maximal number of images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Querying the maximal number of images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fimage_005fstatus">7.2.5 <code>_gfortran_caf_image_status</code> &mdash; Query the status of an image</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Query the status of an image
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffailed_005fimages">7.2.6 <code>_gfortran_caf_failed_images</code> &mdash; Get an array of the indexes of the failed images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Get an array of the indexes of the failed images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fstopped_005fimages">7.2.7 <code>_gfortran_caf_stopped_images</code> &mdash; Get an array of the indexes of the stopped images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Get an array of the indexes of the stopped images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fregister">7.2.8 <code>_gfortran_caf_register</code> &mdash; Registering coarrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Registering coarrays
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fderegister">7.2.9 <code>_gfortran_caf_deregister</code> &mdash; Deregistering coarrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Deregistering coarrays
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fis_005fpresent">7.2.10 <code>_gfortran_caf_is_present</code> &mdash; Query whether an allocatable or pointer component in a derived type coarray is allocated</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Query whether an allocatable or pointer component in a derived type coarray is allocated
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsend">7.2.11 <code>_gfortran_caf_send</code> &mdash; Sending data from a local image to a remote image</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sending data from a local image to a remote image
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fget">7.2.12 <code>_gfortran_caf_get</code> &mdash; Getting data from a remote image</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Getting data from a remote image
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsendget">7.2.13 <code>_gfortran_caf_sendget</code> &mdash; Sending data between remote images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sending data between remote images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsend_005fby_005fref">7.2.14 <code>_gfortran_caf_send_by_ref</code> &mdash; Sending data from a local image to a remote image with enhanced referencing options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sending data from a local image to a remote image using enhanced references
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fget_005fby_005fref">7.2.15 <code>_gfortran_caf_get_by_ref</code> &mdash; Getting data from a remote image using enhanced references</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Getting data from a remote image using enhanced references
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref">7.2.16 <code>_gfortran_caf_sendget_by_ref</code> &mdash; Sending data between remote images using enhanced references on both sides</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sending data between remote images using enhanced references
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005flock">7.2.17 <code>_gfortran_caf_lock</code> &mdash; Locking a lock variable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Locking a lock variable
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005funlock">7.2.18 <code>_gfortran_caf_lock</code> &mdash; Unlocking a lock variable</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Unlocking a lock variable
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fpost">7.2.19 <code>_gfortran_caf_event_post</code> &mdash; Post an event</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Post an event
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fwait">7.2.20 <code>_gfortran_caf_event_wait</code> &mdash; Wait that an event occurred</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Wait that an event occurred
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fquery">7.2.21 <code>_gfortran_caf_event_query</code> &mdash; Query event count</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Query event count
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fall">7.2.22 <code>_gfortran_caf_sync_all</code> &mdash; All-image barrier</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> All-image barrier
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fimages">7.2.23 <code>_gfortran_caf_sync_images</code> &mdash; Barrier for selected images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Barrier for selected images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fmemory">7.2.24 <code>_gfortran_caf_sync_memory</code> &mdash; Wait for completion of segment-memory operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Wait for completion of segment-memory operations
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop">7.2.25 <code>_gfortran_caf_error_stop</code> &mdash; Error termination with exit code</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Error termination with exit code
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr">7.2.26 <code>_gfortran_caf_error_stop_str</code> &mdash; Error termination with string</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Error termination with string
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffail_005fimage">7.2.27 <code>_gfortran_caf_fail_image</code> &mdash; Mark the image failed and end its execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Mark the image failed and end its execution
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fdefine">7.2.28 <code>_gfortran_caf_atomic_define</code> &mdash; Atomic variable assignment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic variable assignment
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fref">7.2.29 <code>_gfortran_caf_atomic_ref</code> &mdash; Atomic variable reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic variable reference
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fcas">7.2.30 <code>_gfortran_caf_atomic_cas</code> &mdash; Atomic compare and swap</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic compare and swap
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fop">7.2.31 <code>_gfortran_caf_atomic_op</code> &mdash; Atomic operation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Atomic operation
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fbroadcast">7.2.32 <code>_gfortran_caf_co_broadcast</code> &mdash; Sending data to all images</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Sending data to all images
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fmax">7.2.33 <code>_gfortran_caf_co_max</code> &mdash; Collective maximum reduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Collective maximum reduction
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fmin">7.2.34 <code>_gfortran_caf_co_min</code> &mdash; Collective minimum reduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Collective minimum reduction
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fsum">7.2.35 <code>_gfortran_caf_co_sum</code> &mdash; Collective summing reduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Collective summing reduction
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005freduce">7.2.36 <code>_gfortran_caf_co_reduce</code> &mdash; Generic collective reduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Generic collective reduction
</td></tr>
</table>


<hr>
<a name="g_t_005fgfortran_005fcaf_005finit"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffinish" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005finit-_002d_002d_002d-Initialiation-function"></a>
<h3 class="subsection">7.2.1 <code>_gfortran_caf_init</code> &mdash; Initialiation function</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005finit"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>This function is called at startup of the program before the Fortran main
program, if the latter has been compiled with &lsquo;<samp>-fcoarray=lib</samp>&rsquo;.
It takes as arguments the command-line arguments of the program.  It is
permitted to pass two <code>NULL</code> pointers as argument; if non-<code>NULL</code>,
the library is permitted to modify the arguments.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_init (int *argc, char ***argv)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>argc</var></td><td width="70%">intent(inout) An integer pointer with the number of
arguments passed to the program or <code>NULL</code>.</td></tr>
<tr><td width="15%"><var>argv</var></td><td width="70%">intent(inout) A pointer to an array of strings with the
command-line arguments or <code>NULL</code>.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>The function is modelled after the initialization function of the Message
Passing Interface (MPI) specification.  Due to the way coarray registration
works, it might not be the first call to the library.  If the main program is
not written in Fortran and only a library uses coarrays, it can happen that
this function is never called.  Therefore, it is recommended that the library
does not rely on the passed arguments and whether the call has been done.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005ffinish"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005finit" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fthis_005fimage" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005ffinish-_002d_002d_002d-Finalization-function"></a>
<h3 class="subsection">7.2.2 <code>_gfortran_caf_finish</code> &mdash; Finalization function</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005ffinish"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>This function is called at the end of the Fortran main program, if it has
been compiled with the &lsquo;<samp>-fcoarray=lib</samp>&rsquo; option.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_finish (void)</code>
</p>
</dd>
<dt><em>NOTES</em></dt>
<dd><p>For non-Fortran programs, it is recommended to call the function at the end
of the main program.  To ensure that the shutdown is also performed for
programs where this function is not explicitly invoked, for instance
non-Fortran programs or calls to the system&rsquo;s exit() function, the library
can use a destructor function.  Note that programs can also be terminated
using the STOP and ERROR STOP statements; those use different library calls.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fthis_005fimage"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffinish" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fnum_005fimages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fthis_005fimage-_002d_002d_002d-Querying-the-image-number"></a>
<h3 class="subsection">7.2.3 <code>_gfortran_caf_this_image</code> &mdash; Querying the image number</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fthis_005fimage"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>This function returns the current image number, which is a positive number.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>int _gfortran_caf_this_image (int distance)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>distance</var></td><td width="70%">As specified for the <code>this_image</code> intrinsic
in TS18508.  Shall be a non-negative number.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>If the Fortran intrinsic <code>this_image</code> is invoked without an argument, which
is the only permitted form in Fortran 2008, GCC passes <code>0</code> as
first argument.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fnum_005fimages"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fthis_005fimage" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fimage_005fstatus" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fnum_005fimages-_002d_002d_002d-Querying-the-maximal-number-of-images"></a>
<h3 class="subsection">7.2.4 <code>_gfortran_caf_num_images</code> &mdash; Querying the maximal number of images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fnum_005fimages"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>This function returns the number of images in the current team, if
<var>distance</var> is 0 or the number of images in the parent team at the specified
distance. If failed is -1, the function returns the number of all images at
the specified distance; if it is 0, the function returns the number of
nonfailed images, and if it is 1, it returns the number of failed images.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>int _gfortran_caf_num_images(int distance, int failed)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>distance</var></td><td width="70%">the distance from this image to the ancestor.
Shall be positive.</td></tr>
<tr><td width="15%"><var>failed</var></td><td width="70%">shall be -1, 0, or 1</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function follows TS18508. If the num_image intrinsic has no arguments,
then the compiler passes <code>distance=0</code> and <code>failed=-1</code> to the function.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fimage_005fstatus"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fnum_005fimages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffailed_005fimages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fimage_005fstatus-_002d_002d_002d-Query-the-status-of-an-image"></a>
<h3 class="subsection">7.2.5 <code>_gfortran_caf_image_status</code> &mdash; Query the status of an image</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fimage_005fstatus"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Get the status of the image given by the id <var>image</var> of the team given by
<var>team</var>.  Valid results are zero, for image is ok, <code>STAT_STOPPED_IMAGE</code>
from the ISO_FORTRAN_ENV module to indicate that the image has been stopped and
<code>STAT_FAILED_IMAGE</code> also from ISO_FORTRAN_ENV to indicate that the image
has executed a <code>FAIL IMAGE</code> statement.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>int _gfortran_caf_image_status (int image, caf_team_t * team)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>image</var></td><td width="70%">the positive scalar id of the image in the current TEAM.</td></tr>
<tr><td width="15%"><var>team</var></td><td width="70%">optional; team on the which the inquiry is to be
performed.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function follows TS18508.  Because team-functionality is not yet
implemented a null-pointer is passed for the <var>team</var> argument at the moment.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005ffailed_005fimages"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fimage_005fstatus" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fstopped_005fimages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005ffailed_005fimages-_002d_002d_002d-Get-an-array-of-the-indexes-of-the-failed-images"></a>
<h3 class="subsection">7.2.6 <code>_gfortran_caf_failed_images</code> &mdash; Get an array of the indexes of the failed images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005ffailed_005fimages"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Get an array of image indexes in the current <var>team</var> that have failed.  The
array is sorted ascendingly.  When <var>team</var> is not provided the current team
is to be used.  When <var>kind</var> is provided then the resulting array is of that
integer kind else it is of default integer kind.  The returns an unallocated
size zero array when no images have failed.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>int _gfortran_caf_failed_images (caf_team_t * team, int * kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>team</var></td><td width="70%">optional; team on the which the inquiry is to be
performed.</td></tr>
<tr><td width="15%"><var>image</var></td><td width="70%">optional; the kind of the resulting integer array.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function follows TS18508.  Because team-functionality is not yet
implemented a null-pointer is passed for the <var>team</var> argument at the moment.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fstopped_005fimages"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffailed_005fimages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fregister" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fstopped_005fimages-_002d_002d_002d-Get-an-array-of-the-indexes-of-the-stopped-images"></a>
<h3 class="subsection">7.2.7 <code>_gfortran_caf_stopped_images</code> &mdash; Get an array of the indexes of the stopped images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fstopped_005fimages"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Get an array of image indexes in the current <var>team</var> that have stopped.  The
array is sorted ascendingly.  When <var>team</var> is not provided the current team
is to be used.  When <var>kind</var> is provided then the resulting array is of that
integer kind else it is of default integer kind.  The returns an unallocated
size zero array when no images have failed.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>int _gfortran_caf_stopped_images (caf_team_t * team, int * kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>team</var></td><td width="70%">optional; team on the which the inquiry is to be
performed.</td></tr>
<tr><td width="15%"><var>image</var></td><td width="70%">optional; the kind of the resulting integer array.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function follows TS18508.  Because team-functionality is not yet
implemented a null-pointer is passed for the <var>team</var> argument at the moment.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fregister"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fstopped_005fimages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fderegister" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fregister-_002d_002d_002d-Registering-coarrays"></a>
<h3 class="subsection">7.2.8 <code>_gfortran_caf_register</code> &mdash; Registering coarrays</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fregister"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Registers memory for a coarray and creates a token to identify the coarray.  The
routine is called for both coarrays with <code>SAVE</code> attribute and using an
explicit <code>ALLOCATE</code> statement.  If an error occurs and <var>STAT</var> is a
<code>NULL</code> pointer, the function shall abort with printing an error message
and starting the error termination.  If no error occurs and <var>STAT</var> is
present, it shall be set to zero.  Otherwise, it shall be set to a positive
value and, if not-<code>NULL</code>, <var>ERRMSG</var> shall be set to a string describing
the failure.  The routine shall register the memory provided in the
<code>DATA</code>-component of the array descriptor <var>DESC</var>, when that component
is non-<code>NULL</code>, else it shall allocate sufficient memory and provide a
pointer to it in the <code>DATA</code>-component of <var>DESC</var>.  The array descriptor
has rank zero, when a scalar object is to be registered and the array
descriptor may be invalid after the call to <code>_gfortran_caf_register</code>.
When an array is to be allocated the descriptor persists.
</p>
<p>For <code>CAF_REGTYPE_COARRAY_STATIC</code> and <code>CAF_REGTYPE_COARRAY_ALLOC</code>,
the passed size is the byte size requested.  For <code>CAF_REGTYPE_LOCK_STATIC</code>,
<code>CAF_REGTYPE_LOCK_ALLOC</code> and <code>CAF_REGTYPE_CRITICAL</code> it is the array
size or one for a scalar.
</p>
<p>When <code>CAF_REGTYPE_COARRAY_ALLOC_REGISTER_ONLY</code> is used, then only a token
for an allocatable or pointer component is created.  The <code>SIZE</code> parameter
is not used then.  On the contrary when
<code>CAF_REGTYPE_COARRAY_ALLOC_ALLOCATE_ONLY</code> is specified, then the
<var>token</var> needs to be registered by a previous call with regtype
<code>CAF_REGTYPE_COARRAY_ALLOC_REGISTER_ONLY</code> and either the memory specified
in the <var>DESC</var>&rsquo;s data-ptr is registered or allocate when the data-ptr is
<code>NULL</code>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void caf_register (size_t size, caf_register_t type, caf_token_t *token,
gfc_descriptor_t *desc, int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>size</var></td><td width="70%">For normal coarrays, the byte size of the coarray to be
allocated; for lock types and event types, the number of elements.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">one of the caf_register_t types.</td></tr>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(out) An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>desc</var></td><td width="70%">intent(inout) The (pseudo) array descriptor.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) For allocatable coarrays, stores the STAT=;
may be <code>NULL</code></td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out) When an error occurs, this will be set to
an error message; may be <code>NULL</code></td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">the buffer size of errmsg.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>Nonallocatable coarrays have to be registered prior use from remote images.
In order to guarantee this, they have to be registered before the main
program. This can be achieved by creating constructor functions. That is what
GCC does such that also for nonallocatable coarrays the memory is allocated and
no static memory is used.  The token permits to identify the coarray; to the
processor, the token is a nonaliasing pointer. The library can, for instance,
store the base address of the coarray in the token, some handle or a more
complicated struct.  The library may also store the array descriptor
<var>DESC</var> when its rank is non-zero.
</p>
<p>For lock types, the value shall only be used for checking the allocation
status. Note that for critical blocks, the locking is only required on one
image; in the locking statement, the processor shall always pass an
image index of one for critical-block lock variables
(<code>CAF_REGTYPE_CRITICAL</code>). For lock types and critical-block variables,
the initial value shall be unlocked (or, respecitively, not in critical
section) such as the value false; for event types, the initial state should
be no event, e.g. zero.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fderegister"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fregister" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fis_005fpresent" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fderegister-_002d_002d_002d-Deregistering-coarrays"></a>
<h3 class="subsection">7.2.9 <code>_gfortran_caf_deregister</code> &mdash; Deregistering coarrays</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fderegister"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to free or deregister the memory of a coarray; the processor calls this
function for automatic and explicit deallocation.  In case of an error, this
function shall fail with an error message, unless the <var>STAT</var> variable is
not null.  The library is only expected to free memory it allocated itself
during a call to <code>_gfortran_caf_register</code>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void caf_deregister (caf_token_t *token, caf_deregister_t type,
int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">the token to free.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">the type of action to take for the coarray.  A
<code>CAF_DEREGTYPE_COARRAY_DEALLOCATE_ONLY</code> is allowed only for allocatable or
pointer components of derived type coarrays.  The action only deallocates the
local memory without deleting the token.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) Stores the STAT=; may be NULL</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out) When an error occurs, this will be set
to an error message; may be NULL</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">the buffer size of errmsg.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>For nonalloatable coarrays this function is never called.  If a cleanup is
required, it has to be handled via the finish, stop and error stop functions,
and via destructors.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fis_005fpresent"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fderegister" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsend" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fis_005fpresent-_002d_002d_002d-Query-whether-an-allocatable-or-pointer-component-in-a-derived-type-coarray-is-allocated"></a>
<h3 class="subsection">7.2.10 <code>_gfortran_caf_is_present</code> &mdash; Query whether an allocatable or pointer component in a derived type coarray is allocated</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fis_005fpresent"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Used to query the coarray library whether an allocatable component in a derived
type coarray is allocated on a remote image.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_is_present (caf_token_t token, int image_index,
gfc_reference_t *ref)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">The ID of the remote image; must be a positive
number.</td></tr>
<tr><td width="15%"><var>ref</var></td><td width="70%">A chain of references to address the allocatable or
pointer component in the derived type coarray.  The object reference needs to be
a scalar or a full array reference, respectively.</td></tr>
</table>

</dd>
</dl>

<hr>
<a name="g_t_005fgfortran_005fcaf_005fsend"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fis_005fpresent" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fget" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsend-_002d_002d_002d-Sending-data-from-a-local-image-to-a-remote-image"></a>
<h3 class="subsection">7.2.11 <code>_gfortran_caf_send</code> &mdash; Sending data from a local image to a remote image</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsend"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to send a scalar, an array section or a whole array from a local
to a remote image identified by the image_index.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_send (caf_token_t token, size_t offset,
int image_index, gfc_descriptor_t *dest, caf_vector_t *dst_vector,
gfc_descriptor_t *src, int dst_kind, int src_kind, bool may_require_tmp,
int *stat)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>dest</var></td><td width="70%">intent(in)  Array descriptor for the remote image for the
bounds and the size.  The <code>base_addr</code> shall not be accessed.</td></tr>
<tr><td width="15%"><var>dst_vector</var></td><td width="70%">intent(in)  If not NULL, it contains the vector
subscript of the destination array; the values are relative to the dimension
triplet of the dest argument.</td></tr>
<tr><td width="15%"><var>src</var></td><td width="70%">intent(in)  Array descriptor of the local array to be
transferred to the remote image</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) when non-NULL give the result of the
operation, i.e., zero on success and non-zero on error.  When NULL and an error
occurs, then an error message is printed and the program is terminated.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have <var>image_index</var> equal the current image; the memory
of the send-to and the send-from might (partially) overlap in that case.  The
implementation has to take care that it handles this case, e.g. using
<code>memmove</code> which handles (partially) overlapping memory. If
<var>may_require_tmp</var> is true, the library might additionally create a
temporary variable, unless additional checks show that this is not required
(e.g. because walking backward is possible or because both arrays are
contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the assignment of a scalar to an array is permitted. In addition,
the library has to handle numeric-type conversion and for strings, padding
and different character kinds.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fget"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsend" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsendget" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fget-_002d_002d_002d-Getting-data-from-a-remote-image"></a>
<h3 class="subsection">7.2.12 <code>_gfortran_caf_get</code> &mdash; Getting data from a remote image</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fget"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to get an array section or a whole array from a remote,
image identified by the image_index.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_get (caf_token_t token, size_t offset,
int image_index, gfc_descriptor_t *src, caf_vector_t *src_vector,
gfc_descriptor_t *dest, int src_kind, int dst_kind, bool may_require_tmp,
int *stat)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>dest</var></td><td width="70%">intent(out) Array descriptor of the local array to store
the data retrieved from the remote image</td></tr>
<tr><td width="15%"><var>src</var></td><td width="70%">intent(in) Array descriptor for the remote image for the
bounds and the size.  The <code>base_addr</code> shall not be accessed.</td></tr>
<tr><td width="15%"><var>src_vector</var></td><td width="70%">intent(in)  If not NULL, it contains the vector
subscript of the source array; the values are relative to the dimension
triplet of the <var>src</var> argument.</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) When non-NULL give the result of the
operation, i.e., zero on success and non-zero on error.  When NULL and an error
occurs, then an error message is printed and the program is terminated.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have <var>image_index</var> equal the current image; the memory of
the send-to and the send-from might (partially) overlap in that case.  The
implementation has to take care that it handles this case, e.g. using
<code>memmove</code> which handles (partially) overlapping memory. If
<var>may_require_tmp</var> is true, the library might additionally create a
temporary variable, unless additional checks show that this is not required
(e.g. because walking backward is possible or because both arrays are
contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the library has to handle numeric-type conversion and for strings,
padding and different character kinds.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fsendget"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fget" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsend_005fby_005fref" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsendget-_002d_002d_002d-Sending-data-between-remote-images"></a>
<h3 class="subsection">7.2.13 <code>_gfortran_caf_sendget</code> &mdash; Sending data between remote images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsendget"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to send a scalar, an array section or a whole array from a remote image
identified by the <var>src_image_index</var> to a remote image identified by the
<var>dst_image_index</var>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_sendget (caf_token_t dst_token, size_t dst_offset,
int dst_image_index, gfc_descriptor_t *dest, caf_vector_t *dst_vector,
caf_token_t src_token, size_t src_offset, int src_image_index,
gfc_descriptor_t *src, caf_vector_t *src_vector, int dst_kind, int src_kind,
bool may_require_tmp, int *stat)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>dst_token</var></td><td width="70%">intent(in)  An opaque pointer identifying the
destination coarray.</td></tr>
<tr><td width="15%"><var>dst_offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data
is shifted compared to the base address of the destination coarray.</td></tr>
<tr><td width="15%"><var>dst_image_index</var></td><td width="70%">intent(in)  The ID of the destination remote
image; must be a positive number.</td></tr>
<tr><td width="15%"><var>dest</var></td><td width="70%">intent(in) Array descriptor for the destination
remote image for the bounds and the size.  The <code>base_addr</code> shall not be
accessed.</td></tr>
<tr><td width="15%"><var>dst_vector</var></td><td width="70%">intent(int)  If not NULL, it contains the vector
subscript of the destination array; the values are relative to the dimension
triplet of the <var>dest</var> argument.</td></tr>
<tr><td width="15%"><var>src_token</var></td><td width="70%">intent(in)  An opaque pointer identifying the source
coarray.</td></tr>
<tr><td width="15%"><var>src_offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data
is shifted compared to the base address of the source coarray.</td></tr>
<tr><td width="15%"><var>src_image_index</var></td><td width="70%">intent(in)  The ID of the source remote image;
must be a positive number.</td></tr>
<tr><td width="15%"><var>src</var></td><td width="70%">intent(in) Array descriptor of the local array to be
transferred to the remote image.</td></tr>
<tr><td width="15%"><var>src_vector</var></td><td width="70%">intent(in) Array descriptor of the local array to
be transferred to the remote image</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) when non-NULL give the result of the
operation, i.e., zero on success and non-zero on error.  When NULL and an error
occurs, then an error message is printed and the program is terminated.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have the same image index for both <var>src_image_index</var> and
<var>dst_image_index</var>; the memory of the send-to and the send-from might
(partially) overlap in that case.  The implementation has to take care that it
handles this case, e.g. using <code>memmove</code> which handles (partially)
overlapping memory.  If <var>may_require_tmp</var> is true, the library
might additionally create a temporary variable, unless additional checks show
that this is not required (e.g. because walking backward is possible or because
both arrays are contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the assignment of a scalar to an array is permitted. In addition,
the library has to handle numeric-type conversion and for strings, padding and
different character kinds.
</p></dd>
</dl>

<hr>
<a name="g_t_005fgfortran_005fcaf_005fsend_005fby_005fref"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsendget" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fget_005fby_005fref" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsend_005fby_005fref-_002d_002d_002d-Sending-data-from-a-local-image-to-a-remote-image-with-enhanced-referencing-options"></a>
<h3 class="subsection">7.2.14 <code>_gfortran_caf_send_by_ref</code> &mdash; Sending data from a local image to a remote image with enhanced referencing options</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsend_005fby_005fref"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to send a scalar, an array section or a whole array from a local to a
remote image identified by the <var>image_index</var>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_send_by_ref (caf_token_t token, int image_index,
gfc_descriptor_t *src, caf_reference_t *refs, int dst_kind, int src_kind,
bool may_require_tmp, bool dst_reallocatable, int *stat, int dst_type)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>src</var></td><td width="70%">intent(in) Array descriptor of the local array to be
transferred to the remote image</td></tr>
<tr><td width="15%"><var>refs</var></td><td width="70%">intent(in) The references on the remote array to store
the data given by src.  Guaranteed to have at least one entry.</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>dst_reallocatable</var></td><td width="70%">intent(in)  Set when the destination is of
allocatable or pointer type and the refs will allow reallocation, i.e., the ref
is a full array or component ref.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) When non-<code>NULL</code> give the result of the
operation, i.e., zero on success and non-zero on error.  When <code>NULL</code> and
an error occurs, then an error message is printed and the program is terminated.</td></tr>
<tr><td width="15%"><var>dst_type</var></td><td width="70%">intent(in)  Give the type of the destination.  When
the destination is not an array, than the precise type, e.g. of a component in
a derived type, is not known, but provided here.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have <var>image_index</var> equal the current image; the memory of
the send-to and the send-from might (partially) overlap in that case.  The
implementation has to take care that it handles this case, e.g. using
<code>memmove</code> which handles (partially) overlapping memory.  If
<var>may_require_tmp</var> is true, the library might additionally create a
temporary variable, unless additional checks show that this is not required
(e.g. because walking backward is possible or because both arrays are
contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the assignment of a scalar to an array is permitted.  In addition,
the library has to handle numeric-type conversion and for strings, padding
and different character kinds.
</p>
<p>Because of the more complicated references possible some operations may be
unsupported by certain libraries.  The library is expected to issue a precise
error message why the operation is not permitted.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fget_005fby_005fref"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsend_005fby_005fref" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fget_005fby_005fref-_002d_002d_002d-Getting-data-from-a-remote-image-using-enhanced-references"></a>
<h3 class="subsection">7.2.15 <code>_gfortran_caf_get_by_ref</code> &mdash; Getting data from a remote image using enhanced references</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fget_005fby_005fref"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to get a scalar, an array section or a whole array from a remote image
identified by the <var>image_index</var>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_get_by_ref (caf_token_t token, int image_index,
caf_reference_t *refs, gfc_descriptor_t *dst, int dst_kind, int src_kind,
bool may_require_tmp, bool dst_reallocatable, int *stat, int src_type)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>refs</var></td><td width="70%">intent(in) The references to apply to the remote structure
to get the data.</td></tr>
<tr><td width="15%"><var>dst</var></td><td width="70%">intent(in) Array descriptor of the local array to store
the data transferred from the remote image.  May be reallocated where needed
and when <var>DST_REALLOCATABLE</var> allows it.</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>dst_reallocatable</var></td><td width="70%">intent(in)  Set when <var>DST</var> is of
allocatable or pointer type and its refs allow reallocation, i.e., the full
array or a component is referenced.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) When non-<code>NULL</code> give the result of the
operation, i.e., zero on success and non-zero on error.  When <code>NULL</code> and an
error occurs, then an error message is printed and the program is terminated.</td></tr>
<tr><td width="15%"><var>src_type</var></td><td width="70%">intent(in)  Give the type of the source.  When the
source is not an array, than the precise type, e.g. of a component in a
derived type, is not known, but provided here.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have <code>image_index</code> equal the current image; the memory
of the send-to and the send-from might (partially) overlap in that case.  The
implementation has to take care that it handles this case, e.g. using
<code>memmove</code> which handles (partially) overlapping memory.  If
<var>may_require_tmp</var> is true, the library might additionally create a
temporary variable, unless additional checks show that this is not required
(e.g. because walking backward is possible or because both arrays are
contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the library has to handle numeric-type conversion and for strings,
padding and different character kinds.
</p>
<p>Because of the more complicated references possible some operations may be
unsupported by certain libraries.  The library is expected to issue a precise
error message why the operation is not permitted.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fget_005fby_005fref" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005flock" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref-_002d_002d_002d-Sending-data-between-remote-images-using-enhanced-references-on-both-sides"></a>
<h3 class="subsection">7.2.16 <code>_gfortran_caf_sendget_by_ref</code> &mdash; Sending data between remote images using enhanced references on both sides</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsendget_005fby_005fref"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Called to send a scalar, an array section or a whole array from a remote image
identified by the <var>src_image_index</var> to a remote image identified by the
<var>dst_image_index</var>.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_sendget_by_ref (caf_token_t dst_token,
int dst_image_index, caf_reference_t *dst_refs,
caf_token_t src_token, int src_image_index, caf_reference_t *src_refs,
int dst_kind, int src_kind, bool may_require_tmp, int *dst_stat,
int *src_stat, int dst_type, int src_type)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>dst_token</var></td><td width="70%">intent(in)  An opaque pointer identifying the
destination coarray.</td></tr>
<tr><td width="15%"><var>dst_image_index</var></td><td width="70%">intent(in)  The ID of the destination remote
image; must be a positive number.</td></tr>
<tr><td width="15%"><var>dst_refs</var></td><td width="70%">intent(in) The references on the remote array to store
the data given by the source.  Guaranteed to have at least one entry.</td></tr>
<tr><td width="15%"><var>src_token</var></td><td width="70%">intent(in)  An opaque pointer identifying the source
coarray.</td></tr>
<tr><td width="15%"><var>src_image_index</var></td><td width="70%">intent(in)  The ID of the source remote image;
must be a positive number.</td></tr>
<tr><td width="15%"><var>src_refs</var></td><td width="70%">intent(in) The references to apply to the remote
structure to get the data.</td></tr>
<tr><td width="15%"><var>dst_kind</var></td><td width="70%">intent(in)  Kind of the destination argument</td></tr>
<tr><td width="15%"><var>src_kind</var></td><td width="70%">intent(in)  Kind of the source argument</td></tr>
<tr><td width="15%"><var>may_require_tmp</var></td><td width="70%">intent(in)  The variable is <code>false</code> when
it is known at compile time that the <var>dest</var> and <var>src</var> either cannot
overlap or overlap (fully or partially) such that walking <var>src</var> and
<var>dest</var> in element wise element order (honoring the stride value) will not
lead to wrong results.  Otherwise, the value is <code>true</code>.</td></tr>
<tr><td width="15%"><var>dst_stat</var></td><td width="70%">intent(out) when non-<code>NULL</code> give the result of
the send-operation, i.e., zero on success and non-zero on error.  When
<code>NULL</code> and an error occurs, then an error message is printed and the
program is terminated.</td></tr>
<tr><td width="15%"><var>src_stat</var></td><td width="70%">intent(out) When non-<code>NULL</code> give the result of
the get-operation, i.e., zero on success and non-zero on error.  When
<code>NULL</code> and an error occurs, then an error message is printed and the
program is terminated.</td></tr>
<tr><td width="15%"><var>dst_type</var></td><td width="70%">intent(in)  Give the type of the destination.  When
the destination is not an array, than the precise type, e.g. of a component in
a derived type, is not known, but provided here.</td></tr>
<tr><td width="15%"><var>src_type</var></td><td width="70%">intent(in)  Give the type of the source.  When the
source is not an array, than the precise type, e.g. of a component in a
derived type, is not known, but provided here.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>It is permitted to have the same image index for both <var>src_image_index</var> and
<var>dst_image_index</var>; the memory of the send-to and the send-from might
(partially) overlap in that case.  The implementation has to take care that it
handles this case, e.g. using <code>memmove</code> which handles (partially)
overlapping memory.  If <var>may_require_tmp</var> is true, the library
might additionally create a temporary variable, unless additional checks show
that this is not required (e.g. because walking backward is possible or because
both arrays are contiguous and <code>memmove</code> takes care of overlap issues).
</p>
<p>Note that the assignment of a scalar to an array is permitted.  In addition,
the library has to handle numeric-type conversion and for strings, padding and
different character kinds.
</p>
<p>Because of the more complicated references possible some operations may be
unsupported by certain libraries.  The library is expected to issue a precise
error message why the operation is not permitted.
</p></dd>
</dl>


<hr>
<a name="g_t_005fgfortran_005fcaf_005flock"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005funlock" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005flock-_002d_002d_002d-Locking-a-lock-variable"></a>
<h3 class="subsection">7.2.17 <code>_gfortran_caf_lock</code> &mdash; Locking a lock variable</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005flock"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Acquire a lock on the given image on a scalar locking variable or for the
given array element for an array-valued variable.  If the <var>aquired_lock</var>
is <code>NULL</code>, the function returns after having obtained the lock.  If it is
non-<code>NULL</code>, then <var>acquired_lock</var> is assigned the value true (one) when
the lock could be obtained and false (zero) otherwise.  Locking a lock variable
which has already been locked by the same image is an error.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_lock (caf_token_t token, size_t index, int image_index,
int *aquired_lock, int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>index</var></td><td width="70%">intent(in)  Array index; first array index is 0.  For
scalars, it is always 0.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>aquired_lock</var></td><td width="70%">intent(out) If not NULL, it returns whether lock
could be obtained.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) Stores the STAT=; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out) When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function is also called for critical blocks; for those, the array index
is always zero and the image index is one.  Libraries are permitted to use other
images for critical-block locking variables.
</p></dd>
</dl>

<hr>
<a name="g_t_005fgfortran_005fcaf_005funlock"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005flock" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fpost" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005flock-_002d_002d_002d-Unlocking-a-lock-variable"></a>
<h3 class="subsection">7.2.18 <code>_gfortran_caf_lock</code> &mdash; Unlocking a lock variable</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005funlock"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Release a lock on the given image on a scalar locking variable or for the
given array element for an array-valued variable. Unlocking a lock variable
which is unlocked or has been locked by a different image is an error.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_unlock (caf_token_t token, size_t index, int image_index,
int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>index</var></td><td width="70%">intent(in)  Array index; first array index is 0.  For
scalars, it is always 0.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) For allocatable coarrays, stores the STAT=;
may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out) When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function is also called for critical block; for those, the array index
is always zero and the image index is one.  Libraries are permitted to use other
images for critical-block locking variables.
</p></dd>
</dl>

<hr>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fpost"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005funlock" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fwait" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fpost-_002d_002d_002d-Post-an-event"></a>
<h3 class="subsection">7.2.19 <code>_gfortran_caf_event_post</code> &mdash; Post an event</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fpost"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Increment the event count of the specified event variable.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_event_post (caf_token_t token, size_t index,
int image_index, int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>index</var></td><td width="70%">intent(in)  Array index; first array index is 0.  For
scalars, it is always 0.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image, when accessed noncoindexed.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the STAT=; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This acts like an atomic add of one to the remote image&rsquo;s event variable.
The statement is an image-control statement but does not imply sync memory.
Still, all preceeding push communications of this image to the specified
remote image have to be completed before <code>event_wait</code> on the remote
image returns.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fwait"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fpost" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fquery" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fwait-_002d_002d_002d-Wait-that-an-event-occurred"></a>
<h3 class="subsection">7.2.20 <code>_gfortran_caf_event_wait</code> &mdash; Wait that an event occurred</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fwait"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Wait until the event count has reached at least the specified
<var>until_count</var>; if so, atomically decrement the event variable by this
amount and return.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_event_wait (caf_token_t token, size_t index,
int until_count, int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>index</var></td><td width="70%">intent(in)  Array index; first array index is 0.  For
scalars, it is always 0.</td></tr>
<tr><td width="15%"><var>until_count</var></td><td width="70%">intent(in)  The number of events which have to be
available before the function returns.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the STAT=; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function only operates on a local coarray. It acts like a loop checking
atomically the value of the event variable, breaking if the value is greater
or equal the requested number of counts. Before the function returns, the
event variable has to be decremented by the requested <var>until_count</var> value.
A possible implementation would be a busy loop for a certain number of spins
(possibly depending on the number of threads relative to the number of available
cores) followed by another waiting strategy such as a sleeping wait (possibly
with an increasing number of sleep time) or, if possible, a futex wait.
</p>
<p>The statement is an image-control statement but does not imply sync memory.
Still, all preceeding push communications of this image to the specified
remote image have to be completed before <code>event_wait</code> on the remote
image returns.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fquery"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fwait" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fall" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fevent_005fquery-_002d_002d_002d-Query-event-count"></a>
<h3 class="subsection">7.2.21 <code>_gfortran_caf_event_query</code> &mdash; Query event count</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fquery"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Return the event count of the specified event variable.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_event_query (caf_token_t token, size_t index,
int image_index, int *count, int *stat)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>index</var></td><td width="70%">intent(in)  Array index; first array index is 0.  For
scalars, it is always 0.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image when accessed noncoindexed.</td></tr>
<tr><td width="15%"><var>count</var></td><td width="70%">intent(out)  The number of events currently posted to
the event variable.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the STAT=; may be NULL.</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>The typical use is to check the local event variable to only call
<code>event_wait</code> when the data is available. However, a coindexed variable
is permitted; there is no ordering or synchronization implied.  It acts like
an atomic fetch of the value of the event variable.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fall"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fevent_005fquery" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fimages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fall-_002d_002d_002d-All_002dimage-barrier"></a>
<h3 class="subsection">7.2.22 <code>_gfortran_caf_sync_all</code> &mdash; All-image barrier</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fall"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Synchronization of all images in the current team; the program only continues
on a given image after this function has been called on all images of the
current team.  Additionally, it ensures that all pending data transfers of
previous segment have completed.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_sync_all (int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fimages"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fall" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fmemory" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fimages-_002d_002d_002d-Barrier-for-selected-images"></a>
<h3 class="subsection">7.2.23 <code>_gfortran_caf_sync_images</code> &mdash; Barrier for selected images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fimages"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Synchronization between the specified images; the program only continues on a
given image after this function has been called on all images specified for
that image. Note that one image can wait for all other images in the current
team (e.g. via <code>sync images(*)</code>) while those only wait for that specific
image.  Additionally, <code>sync images</code> ensures that all pending data
transfers of previous segments have completed.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_sync_images (int count, int images[], int *stat,
char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>count</var></td><td width="70%">intent(in)  The number of images which are provided in
the next argument.  For a zero-sized array, the value is zero.  For
<code>sync images (*)</code>, the value is <em>-1</em>.</td></tr>
<tr><td width="15%"><var>images</var></td><td width="70%">intent(in)  An array with the images provided by the
user.  If <var>count</var> is zero, a NULL pointer is passed.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fmemory"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fimages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fsync_005fmemory-_002d_002d_002d-Wait-for-completion-of-segment_002dmemory-operations"></a>
<h3 class="subsection">7.2.24 <code>_gfortran_caf_sync_memory</code> &mdash; Wait for completion of segment-memory operations</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fmemory"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Acts as optimization barrier between different segments. It also ensures that
all pending memory operations of this image have been completed.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_sync_memory (int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTE</em> A simple implementation could be</dt>
<dd><p><code>__asm__ __volatile__ (&quot;&quot;:::&quot;memory&quot;)</code> to prevent code movements.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005ferror_005fstop"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fsync_005fmemory" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005ferror_005fstop-_002d_002d_002d-Error-termination-with-exit-code"></a>
<h3 class="subsection">7.2.25 <code>_gfortran_caf_error_stop</code> &mdash; Error termination with exit code</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005ferror_005fstop"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Invoked for an <code>ERROR STOP</code> statement which has an integer argument.  The
function should terminate the program with the specified exit code.
</p>

</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_error_stop (int error)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>error</var></td><td width="70%">intent(in)  The exit status to be used.</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffail_005fimage" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr-_002d_002d_002d-Error-termination-with-string"></a>
<h3 class="subsection">7.2.26 <code>_gfortran_caf_error_stop_str</code> &mdash; Error termination with string</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005ferror_005fstop_005fstr"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Invoked for an <code>ERROR STOP</code> statement which has a string as argument.  The
function should terminate the program with a nonzero-exit code.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_error_stop (const char *string, size_t len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>string</var></td><td width="70%">intent(in)  the error message (not zero terminated)</td></tr>
<tr><td width="15%"><var>len</var></td><td width="70%">intent(in)  the length of the string</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005ffail_005fimage"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fdefine" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005ffail_005fimage-_002d_002d_002d-Mark-the-image-failed-and-end-its-execution"></a>
<h3 class="subsection">7.2.27 <code>_gfortran_caf_fail_image</code> &mdash; Mark the image failed and end its execution</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005ffail_005fimage"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Invoked for an <code>FAIL IMAGE</code> statement.  The function should terminate the
current image.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_fail_image ()</code>
</p>
</dd>
<dt><em>NOTES</em></dt>
<dd><p>This function follows TS18508.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fdefine"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005ffail_005fimage" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fref" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fdefine-_002d_002d_002d-Atomic-variable-assignment"></a>
<h3 class="subsection">7.2.28 <code>_gfortran_caf_atomic_define</code> &mdash; Atomic variable assignment</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fdefine"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Assign atomically a value to an integer or logical variable.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_atomic_define (caf_token_t token, size_t offset,
int image_index, void *value, int *stat, int type, int kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image when used noncoindexed.</td></tr>
<tr><td width="15%"><var>value</var></td><td width="70%">intent(in)  the value to be assigned, passed by reference</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">intent(in)  The data type, i.e. <code>BT_INTEGER</code> (1) or
<code>BT_LOGICAL</code> (2).</td></tr>
<tr><td width="15%"><var>kind</var></td><td width="70%">intent(in)  The kind value (only 4; always <code>int</code>)</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fref"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fdefine" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fcas" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fref-_002d_002d_002d-Atomic-variable-reference"></a>
<h3 class="subsection">7.2.29 <code>_gfortran_caf_atomic_ref</code> &mdash; Atomic variable reference</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fref"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Reference atomically a value of a kind-4 integer or logical variable.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_atomic_ref (caf_token_t token, size_t offset,
int image_index, void *value, int *stat, int type, int kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image when used noncoindexed.</td></tr>
<tr><td width="15%"><var>value</var></td><td width="70%">intent(out)  The variable assigned the atomically
referenced variable.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out) Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">the data type, i.e. <code>BT_INTEGER</code> (1) or
<code>BT_LOGICAL</code> (2).</td></tr>
<tr><td width="15%"><var>kind</var></td><td width="70%">The kind value (only 4; always <code>int</code>)</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fcas"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fref" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fop" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fcas-_002d_002d_002d-Atomic-compare-and-swap"></a>
<h3 class="subsection">7.2.30 <code>_gfortran_caf_atomic_cas</code> &mdash; Atomic compare and swap</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fcas"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Atomic compare and swap of a kind-4 integer or logical variable. Assigns
atomically the specified value to the atomic variable, if the latter has
the value specified by the passed condition value.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_atomic_cas (caf_token_t token, size_t offset,
int image_index, void *old, void *compare, void *new_val, int *stat,
int type, int kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image when used noncoindexed.</td></tr>
<tr><td width="15%"><var>old</var></td><td width="70%">intent(out)  The value which the atomic variable had
just before the cas operation.</td></tr>
<tr><td width="15%"><var>compare</var></td><td width="70%">intent(in)  The value used for comparision.</td></tr>
<tr><td width="15%"><var>new_val</var></td><td width="70%">intent(in)  The new value for the atomic variable,
assigned to the atomic variable, if <code>compare</code> equals the value of the
atomic variable.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">intent(in)  the data type, i.e. <code>BT_INTEGER</code> (1) or
<code>BT_LOGICAL</code> (2).</td></tr>
<tr><td width="15%"><var>kind</var></td><td width="70%">intent(in)  The kind value (only 4; always <code>int</code>)</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fop"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fcas" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fbroadcast" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fatomic_005fop-_002d_002d_002d-Atomic-operation"></a>
<h3 class="subsection">7.2.31 <code>_gfortran_caf_atomic_op</code> &mdash; Atomic operation</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fop"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Apply an operation atomically to an atomic integer or logical variable.
After the operation, <var>old</var> contains the value just before the operation,
which, respectively, adds (GFC_CAF_ATOMIC_ADD) atomically the <code>value</code> to
the atomic integer variable or does a bitwise AND, OR or exclusive OR
between the atomic variable and <var>value</var>; the result is then stored in the
atomic variable.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_atomic_op (int op, caf_token_t token, size_t offset,
int image_index, void *value, void *old, int *stat, int type, int kind)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>op</var></td><td width="70%">intent(in)  the operation to be performed; possible values
<code>GFC_CAF_ATOMIC_ADD</code> (1), <code>GFC_CAF_ATOMIC_AND</code> (2),
<code>GFC_CAF_ATOMIC_OR</code> (3), <code>GFC_CAF_ATOMIC_XOR</code> (4).</td></tr>
<tr><td width="15%"><var>token</var></td><td width="70%">intent(in)  An opaque pointer identifying the coarray.</td></tr>
<tr><td width="15%"><var>offset</var></td><td width="70%">intent(in)  By which amount of bytes the actual data is
shifted compared to the base address of the coarray.</td></tr>
<tr><td width="15%"><var>image_index</var></td><td width="70%">intent(in)  The ID of the remote image; must be a
positive number; zero indicates the current image when used noncoindexed.</td></tr>
<tr><td width="15%"><var>old</var></td><td width="70%">intent(out)  The value which the atomic variable had
just before the atomic operation.</td></tr>
<tr><td width="15%"><var>val</var></td><td width="70%">intent(in)  The new value for the atomic variable,
assigned to the atomic variable, if <code>compare</code> equals the value of the
atomic variable.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>type</var></td><td width="70%">intent(in)  the data type, i.e. <code>BT_INTEGER</code> (1) or
<code>BT_LOGICAL</code> (2)</td></tr>
<tr><td width="15%"><var>kind</var></td><td width="70%">intent(in)  the kind value (only 4; always <code>int</code>)</td></tr>
</table>
</dd>
</dl>




<hr>
<a name="g_t_005fgfortran_005fcaf_005fco_005fbroadcast"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fatomic_005fop" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fmax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fco_005fbroadcast-_002d_002d_002d-Sending-data-to-all-images"></a>
<h3 class="subsection">7.2.32 <code>_gfortran_caf_co_broadcast</code> &mdash; Sending data to all images</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fbroadcast"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Distribute a value from a given image to all other images in the team. Has to
be called collectively.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_co_broadcast (gfc_descriptor_t *a,
int source_image, int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>a</var></td><td width="70%">intent(inout)  An array descriptor with the data to be
broadcasted (on <var>source_image</var>) or to be received (other images).</td></tr>
<tr><td width="15%"><var>source_image</var></td><td width="70%">intent(in)  The ID of the image from which the
data should be broadcasted.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg.</td></tr>
</table>
</dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fco_005fmax"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fbroadcast" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fmin" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fco_005fmax-_002d_002d_002d-Collective-maximum-reduction"></a>
<h3 class="subsection">7.2.33 <code>_gfortran_caf_co_max</code> &mdash; Collective maximum reduction</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fmax"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Calculates for each array element of the variable <var>a</var> the maximum
value for that element in the current team; if <var>result_image</var> has the
value 0, the result shall be stored on all images, otherwise, only on the
specified image. This function operates on numeric values and character
strings.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_co_max (gfc_descriptor_t *a, int result_image,
int *stat, char *errmsg, int a_len, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>a</var></td><td width="70%">intent(inout)  An array descriptor for the data to be
processed.  On the destination image(s) the result overwrites the old content.</td></tr>
<tr><td width="15%"><var>result_image</var></td><td width="70%">intent(in)  The ID of the image to which the
reduced value should be copied to; if zero, it has to be copied to all images.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>a_len</var></td><td width="70%">intent(in)  the string length of argument <var>a</var></td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>If <var>result_image</var> is nonzero, the data in the array descriptor <var>a</var> on
all images except of the specified one become undefined; hence, the library may
make use of this.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fco_005fmin"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fmax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fsum" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fco_005fmin-_002d_002d_002d-Collective-minimum-reduction"></a>
<h3 class="subsection">7.2.34 <code>_gfortran_caf_co_min</code> &mdash; Collective minimum reduction</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fmin"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Calculates for each array element of the variable <var>a</var> the minimum
value for that element in the current team; if <var>result_image</var> has the
value 0, the result shall be stored on all images, otherwise, only on the
specified image. This function operates on numeric values and character
strings.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_co_min (gfc_descriptor_t *a, int result_image,
int *stat, char *errmsg, int a_len, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>a</var></td><td width="70%">intent(inout)  An array descriptor for the data to be
processed.  On the destination image(s) the result overwrites the old content.</td></tr>
<tr><td width="15%"><var>result_image</var></td><td width="70%">intent(in)  The ID of the image to which the
reduced value should be copied to; if zero, it has to be copied to all images.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>a_len</var></td><td width="70%">intent(in)  the string length of argument <var>a</var></td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>If <var>result_image</var> is nonzero, the data in the array descriptor <var>a</var> on
all images except of the specified one become undefined; hence, the library may
make use of this.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fco_005fsum"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fmin" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005freduce" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fco_005fsum-_002d_002d_002d-Collective-summing-reduction"></a>
<h3 class="subsection">7.2.35 <code>_gfortran_caf_co_sum</code> &mdash; Collective summing reduction</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fsum"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Calculates for each array element of the variable <var>a</var> the sum of all
values for that element in the current team; if <var>result_image</var> has the
value 0, the result shall be stored on all images, otherwise, only on the
specified image.  This function operates on numeric values only.
</p>
</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_co_sum (gfc_descriptor_t *a, int result_image,
int *stat, char *errmsg, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>a</var></td><td width="70%">intent(inout)  An array descriptor with the data to be
processed.  On the destination image(s) the result overwrites the old content.</td></tr>
<tr><td width="15%"><var>result_image</var></td><td width="70%">intent(in)  The ID of the image to which the
reduced value should be copied to; if zero, it has to be copied to all images.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>If <var>result_image</var> is nonzero, the data in the array descriptor <var>a</var> on
all images except of the specified one become undefined; hence, the library may
make use of this.
</p></dd>
</dl>



<hr>
<a name="g_t_005fgfortran_005fcaf_005fco_005freduce"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005fsum" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Function-ABI-Documentation" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="g_t_005fgfortran_005fcaf_005fco_005freduce-_002d_002d_002d-Generic-collective-reduction"></a>
<h3 class="subsection">7.2.36 <code>_gfortran_caf_co_reduce</code> &mdash; Generic collective reduction</h3>
<a name="index-Coarray_002c-_005fgfortran_005fcaf_005fco_005freduce"></a>

<dl compact="compact">
<dt><em>Description</em>:</dt>
<dd><p>Calculates for each array element of the variable <var>a</var> the reduction
value for that element in the current team; if <var>result_image</var> has the
value 0, the result shall be stored on all images, otherwise, only on the
specified image.  The <var>opr</var> is a pure function doing a mathematically
commutative and associative operation.
</p>
<p>The <var>opr_flags</var> denote the following; the values are bitwise ored.
<code>GFC_CAF_BYREF</code> (1) if the result should be returned
by reference; <code>GFC_CAF_HIDDENLEN</code> (2) whether the result and argument
string lengths shall be specified as hidden arguments;
<code>GFC_CAF_ARG_VALUE</code> (4) whether the arguments shall be passed by value,
<code>GFC_CAF_ARG_DESC</code> (8) whether the arguments shall be passed by descriptor.
</p>

</dd>
<dt><em>Syntax</em>:</dt>
<dd><p><code>void _gfortran_caf_co_reduce (gfc_descriptor_t *a,
void * (*opr) (void *, void *), int opr_flags, int result_image,
int *stat, char *errmsg, int a_len, size_t errmsg_len)</code>
</p>
</dd>
<dt><em>Arguments</em>:</dt>
<dd><table>
<tr><td width="15%"><var>a</var></td><td width="70%">intent(inout)  An array descriptor with the data to be
processed.  On the destination image(s) the result overwrites the old content.</td></tr>
<tr><td width="15%"><var>opr</var></td><td width="70%">intent(in)  Function pointer to the reduction function</td></tr>
<tr><td width="15%"><var>opr_flags</var></td><td width="70%">intent(in)  Flags regarding the reduction function</td></tr>
<tr><td width="15%"><var>result_image</var></td><td width="70%">intent(in)  The ID of the image to which the
reduced value should be copied to; if zero, it has to be copied to all images.</td></tr>
<tr><td width="15%"><var>stat</var></td><td width="70%">intent(out)  Stores the status STAT= and may be NULL.</td></tr>
<tr><td width="15%"><var>errmsg</var></td><td width="70%">intent(out)  When an error occurs, this will be set to
an error message; may be NULL.</td></tr>
<tr><td width="15%"><var>a_len</var></td><td width="70%">intent(in)  the string length of argument <var>a</var></td></tr>
<tr><td width="15%"><var>errmsg_len</var></td><td width="70%">intent(in)  the buffer size of errmsg</td></tr>
</table>

</dd>
<dt><em>NOTES</em></dt>
<dd><p>If <var>result_image</var> is nonzero, the data in the array descriptor <var>a</var> on
all images except of the specified one become undefined; hence, the library may
make use of this.
</p>
<p>For character arguments, the result is passed as first argument, followed
by the result string length, next come the two string arguments, followed
by the two hidden string length arguments.  With C binding, there are no hidden
arguments and by-reference passing and either only a single character is passed
or an array descriptor.
</p></dd>
</dl>







<hr>
<a name="Contributing"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Coarray-Programming" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_005fgfortran_005fcaf_005fco_005freduce" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Contributors" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Contributing-1"></a>
<h1 class="unnumbered">Contributing</h1>
<a name="index-Contributing"></a>

<p>Free software is only possible if people contribute to efforts
to create it.
We&rsquo;re always in need of more people helping out with ideas
and comments, writing documentation and contributing code.
</p>
<p>If you want to contribute to GNU Fortran,
have a look at the long lists of projects you can take on.
Some of these projects are small,
some of them are large;
some are completely orthogonal to the rest of what is
happening on GNU Fortran,
but others are &ldquo;mainstream&rdquo; projects in need of enthusiastic hackers.
All of these projects are important!
We will eventually get around to the things here,
but they are also things doable by someone who is willing and able.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Contributors">7.3 Contributors to GNU Fortran</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Projects">7.4 Projects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Proposed-Extensions">7.5 Proposed Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr>
<a name="Contributors"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Projects" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Contributors-to-GNU-Fortran"></a>
<h2 class="section">7.3 Contributors to GNU Fortran</h2>
<a name="index-Contributors"></a>
<a name="index-Credits"></a>
<a name="index-Authors"></a>

<p>Most of the parser was hand-crafted by <em>Andy Vaught</em>, who is
also the initiator of the whole project.  Thanks Andy!
Most of the interface with GCC was written by <em>Paul Brook</em>.
</p>
<p>The following individuals have contributed code and/or
ideas and significant help to the GNU Fortran project
(in alphabetical order):
</p>
<ul class="no-bullet">
<li>- Janne Blomqvist
</li><li>- Steven Bosscher
</li><li>- Paul Brook
</li><li>- Tobias Burnus
</li><li>- Fran&ccedil;ois-Xavier Coudert
</li><li>- Bud Davis
</li><li>- Jerry DeLisle
</li><li>- Erik Edelmann
</li><li>- Bernhard Fischer
</li><li>- Daniel Franke
</li><li>- Richard Guenther
</li><li>- Richard Henderson
</li><li>- Katherine Holcomb
</li><li>- Jakub Jelinek
</li><li>- Niels Kristian Bech Jensen
</li><li>- Steven Johnson
</li><li>- Steven G. Kargl
</li><li>- Thomas Koenig
</li><li>- Asher Langton
</li><li>- H. J. Lu
</li><li>- Toon Moene
</li><li>- Brooks Moses
</li><li>- Andrew Pinski
</li><li>- Tim Prince
</li><li>- Christopher D. Rickett
</li><li>- Richard Sandiford
</li><li>- Tobias Schl&uuml;ter
</li><li>- Roger Sayle
</li><li>- Paul Thomas
</li><li>- Andy Vaught
</li><li>- Feng Wang
</li><li>- Janus Weil
</li><li>- Daniel Kraft
</li></ul>

<p>The following people have contributed bug reports,
smaller or larger patches,
and much needed feedback and encouragement for the
GNU Fortran project:
</p>
<ul class="no-bullet">
<li>- Bill Clodius
</li><li>- Dominique d&rsquo;Humi&egrave;res
</li><li>- Kate Hedstrom
</li><li>- Erik Schnetter
</li><li>- Joost VandeVondele
</li></ul>

<p>Many other individuals have helped debug,
test and improve the GNU Fortran compiler over the past few years,
and we welcome you to do the same!
If you already have done so,
and you would like to see your name listed in the
list above, please contact us.
</p>

<hr>
<a name="Projects"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributors" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Proposed-Extensions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Projects-1"></a>
<h2 class="section">7.4 Projects</h2>

<dl compact="compact">
<dt><em>Help build the test suite</em></dt>
<dd><p>Solicit more code for donation to the test suite: the more extensive the
testsuite, the smaller the risk of breaking things in the future! We can
keep code private on request.
</p>
</dd>
<dt><em>Bug hunting/squishing</em></dt>
<dd><p>Find bugs and write more test cases! Test cases are especially very
welcome, because it allows us to concentrate on fixing bugs instead of
isolating them.  Going through the bugzilla database at
<a href="https://gcc.gnu.org/bugzilla/">https://gcc.gnu.org/bugzilla/</a> to reduce testcases posted there and
add more information (for example, for which version does the testcase
work, for which versions does it fail?) is also very helpful.
</p>
</dd>
</dl>


<hr>
<a name="Proposed-Extensions"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Projects" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Contributing" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-extensions_003a" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Proposed-Extensions-1"></a>
<h2 class="section">7.5 Proposed Extensions</h2>

<p>Here&rsquo;s a list of proposed extensions for the GNU Fortran compiler, in no particular
order.  Most of these are necessary to be fully compatible with
existing Fortran compilers, but they are not part of the official
J3 Fortran 95 standard.
</p>
<hr>
<a name="Compiler-extensions_003a"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Proposed-Extensions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Proposed-Extensions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Options" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">7.5.1 Compiler extensions:</h3>
<ul>
<li>
User-specified alignment rules for structures.

</li><li>
Automatically extend single precision constants to double.

</li><li>
Compile code that conserves memory by dynamically allocating common and
module storage either on stack or heap.

</li><li>
Compile flag to generate code for array conformance checking (suggest -CC).

</li><li>
User control of symbol names (underscores, etc).

</li><li>
Compile setting for maximum size of stack frame size before spilling
parts to static or heap.

</li><li>
Flag to force local variables into static space.

</li><li>
Flag to force local variables onto stack.
</li></ul>


<hr>
<a name="Environment-Options"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Compiler-extensions_003a" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Proposed-Extensions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection">7.5.2 Environment Options</h3>
<ul>
<li>
Pluggable library modules for random numbers, linear algebra.
LA should use BLAS calling conventions.

</li><li>
Environment variables controlling actions on arithmetic exceptions like
overflow, underflow, precision loss&mdash;Generate NaN, abort, default.
action.

</li><li>
Set precision for fp units that support it (i387).

</li><li>
Variable for setting fp rounding mode.

</li><li>
Variable to fill uninitialized variables with a user-defined bit
pattern.

</li><li>
Environment variable controlling filename that is opened for that unit
number.

</li><li>
Environment variable to clear/trash memory being freed.

</li><li>
Environment variable to control tracing of allocations and frees.

</li><li>
Environment variable to display allocated memory at normal program end.

</li><li>
Environment variable for filename for * IO-unit.

</li><li>
Environment variable for temporary file directory.

</li><li>
Environment variable forcing standard output to be line buffered (Unix).

</li></ul>













<hr>
<a name="Option-Index"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Contributing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Environment-Options" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Keyword-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left">[<a href="#Keyword-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Option-Index-1"></a>
<h1 class="unnumbered">Option Index</h1>
<p><code>gfortran</code>&rsquo;s command line options are indexed here without any
initial &lsquo;<samp>-</samp>&rsquo; or &lsquo;<samp>--</samp>&rsquo;.  Where an option has both positive and
negative forms (such as -foption and -fno-option), relevant entries in
the manual are indexed under the most appropriate form; it may sometimes
be useful to look up both forms.
</p><table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Option-Index-1_op_letter-F"><b>F</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-op" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Option-Index-1_op_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-fshort_002denums"><code><code>fshort-enums</code></code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Option-Index-1_op_letter-F"><b>F</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<a name="Keyword-Index"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Option-Index" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Keyword-Index-1"></a>
<h1 class="unnumbered">Keyword Index</h1>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Keyword-Index-1_cp_symbol-1"><b>%</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_symbol-2"><b>[</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_symbol-3"><b>_</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-V"><b>V</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-cp" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_symbol-1">%</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025LOC"><code>%LOC</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025REF"><code>%REF</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025VAL"><code>%VAL</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_symbol-2">[</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005b_002e_002e_002e_005d"><code>[...]</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_symbol-3">_</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005fargs"><code>_gfortran_set_args</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fargs">6.3.1 <code>_gfortran_set_args</code> &mdash; Save command-line arguments</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005fconvert"><code>_gfortran_set_convert</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fconvert">6.3.3 <code>_gfortran_set_convert</code> &mdash; Set endian conversion</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005ffpe"><code>_gfortran_set_fpe</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005ffpe">6.3.5 <code>_gfortran_set_fpe</code> &mdash; Enable floating point exception traps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005fmax_005fsubrecord_005flength"><code>_gfortran_set_max_subrecord_length</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength">6.3.6 <code>_gfortran_set_max_subrecord_length</code> &mdash; Set subrecord length</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005foptions"><code>_gfortran_set_options</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005foptions">6.3.2 <code>_gfortran_set_options</code> &mdash; Set library option flags</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005fgfortran_005fset_005frecord_005fmarker"><code>_gfortran_set_record_marker</code></a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005frecord_005fmarker">6.3.4 <code>_gfortran_set_record_marker</code> &mdash; Set length of record markers</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ACCESS_003d_0027STREAM_0027-I_002fO"><code>ACCESS='STREAM'</code> I/O</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ALLOCATABLE-components-of-derived-types"><code>ALLOCATABLE</code> components of derived types</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ALLOCATABLE-dummy-arguments"><code>ALLOCATABLE</code> dummy arguments</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ALLOCATABLE-function-results"><code>ALLOCATABLE</code> function results</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-argument-list-functions">argument list functions</a></td><td>&nbsp;</td><td valign="top"><a href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-array_002c-constructors">array, constructors</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-array_002c-indices-of-type-real">array, indices of type real</a></td><td>&nbsp;</td><td valign="top"><a href="#Real-array-indices">5.1.11 Real array indices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-asynchronous-I_002fO">asynchronous I/O</a></td><td>&nbsp;</td><td valign="top"><a href="#Asynchronous-I_002fO">4.10 Asynchronous I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Authors">Authors</a></td><td>&nbsp;</td><td valign="top"><a href="#Contributors">7.3 Contributors to GNU Fortran</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AUTOMATIC"><code>AUTOMATIC</code></a></td><td>&nbsp;</td><td valign="top"><a href="#AUTOMATIC-and-STATIC-attributes">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-BACKSPACE"><code>BACKSPACE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Read_002fWrite-after-EOF-marker">5.1.20 Read/Write after EOF marker</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-BOZ-literal-constants">BOZ literal constants</a></td><td>&nbsp;</td><td valign="top"><a href="#BOZ-literal-constants">5.1.10 BOZ literal constants</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CARRIAGECONTROL"><code>CARRIAGECONTROL</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fcas">Coarray, _gfortran_caf_atomic_cas</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fcas">7.2.30 <code>_gfortran_caf_atomic_cas</code> &mdash; Atomic compare and swap</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fdefine">Coarray, _gfortran_caf_atomic_define</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fdefine">7.2.28 <code>_gfortran_caf_atomic_define</code> &mdash; Atomic variable assignment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fop">Coarray, _gfortran_caf_atomic_op</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fop">7.2.31 <code>_gfortran_caf_atomic_op</code> &mdash; Atomic operation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fatomic_005fref">Coarray, _gfortran_caf_atomic_ref</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fatomic_005fref">7.2.29 <code>_gfortran_caf_atomic_ref</code> &mdash; Atomic variable reference</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fbroadcast">Coarray, _gfortran_caf_co_broadcast</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fbroadcast">7.2.32 <code>_gfortran_caf_co_broadcast</code> &mdash; Sending data to all images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fmax">Coarray, _gfortran_caf_co_max</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fmax">7.2.33 <code>_gfortran_caf_co_max</code> &mdash; Collective maximum reduction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fmin">Coarray, _gfortran_caf_co_min</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fmin">7.2.34 <code>_gfortran_caf_co_min</code> &mdash; Collective minimum reduction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fco_005freduce">Coarray, _gfortran_caf_co_reduce</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005freduce">7.2.36 <code>_gfortran_caf_co_reduce</code> &mdash; Generic collective reduction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fco_005fsum">Coarray, _gfortran_caf_co_sum</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fco_005fsum">7.2.35 <code>_gfortran_caf_co_sum</code> &mdash; Collective summing reduction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fderegister">Coarray, _gfortran_caf_deregister</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fderegister">7.2.9 <code>_gfortran_caf_deregister</code> &mdash; Deregistering coarrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005ferror_005fstop">Coarray, _gfortran_caf_error_stop</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop">7.2.25 <code>_gfortran_caf_error_stop</code> &mdash; Error termination with exit code</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005ferror_005fstop_005fstr">Coarray, _gfortran_caf_error_stop_str</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr">7.2.26 <code>_gfortran_caf_error_stop_str</code> &mdash; Error termination with string</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fpost">Coarray, _gfortran_caf_event_post</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fpost">7.2.19 <code>_gfortran_caf_event_post</code> &mdash; Post an event</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fquery">Coarray, _gfortran_caf_event_query</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fquery">7.2.21 <code>_gfortran_caf_event_query</code> &mdash; Query event count</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fwait">Coarray, _gfortran_caf_event_wait</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fevent_005fwait">7.2.20 <code>_gfortran_caf_event_wait</code> &mdash; Wait that an event occurred</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005ffailed_005fimages">Coarray, _gfortran_caf_failed_images</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffailed_005fimages">7.2.6 <code>_gfortran_caf_failed_images</code> &mdash; Get an array of the indexes of the failed images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005ffail_005fimage">Coarray, _gfortran_caf_fail_image</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffail_005fimage">7.2.27 <code>_gfortran_caf_fail_image</code> &mdash; Mark the image failed and end its execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005ffinish">Coarray, _gfortran_caf_finish</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005ffinish">7.2.2 <code>_gfortran_caf_finish</code> &mdash; Finalization function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fget">Coarray, _gfortran_caf_get</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fget">7.2.12 <code>_gfortran_caf_get</code> &mdash; Getting data from a remote image</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fget_005fby_005fref">Coarray, _gfortran_caf_get_by_ref</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fget_005fby_005fref">7.2.15 <code>_gfortran_caf_get_by_ref</code> &mdash; Getting data from a remote image using enhanced references</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fimage_005fstatus">Coarray, _gfortran_caf_image_status</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fimage_005fstatus">7.2.5 <code>_gfortran_caf_image_status</code> &mdash; Query the status of an image</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005finit">Coarray, _gfortran_caf_init</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005finit">7.2.1 <code>_gfortran_caf_init</code> &mdash; Initialiation function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fis_005fpresent">Coarray, _gfortran_caf_is_present</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fis_005fpresent">7.2.10 <code>_gfortran_caf_is_present</code> &mdash; Query whether an allocatable or pointer component in a derived type coarray is allocated</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005flock">Coarray, _gfortran_caf_lock</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005flock">7.2.17 <code>_gfortran_caf_lock</code> &mdash; Locking a lock variable</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fnum_005fimages">Coarray, _gfortran_caf_num_images</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fnum_005fimages">7.2.4 <code>_gfortran_caf_num_images</code> &mdash; Querying the maximal number of images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fregister">Coarray, _gfortran_caf_register</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fregister">7.2.8 <code>_gfortran_caf_register</code> &mdash; Registering coarrays</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsend">Coarray, _gfortran_caf_send</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsend">7.2.11 <code>_gfortran_caf_send</code> &mdash; Sending data from a local image to a remote image</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsendget">Coarray, _gfortran_caf_sendget</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsendget">7.2.13 <code>_gfortran_caf_sendget</code> &mdash; Sending data between remote images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsendget_005fby_005fref">Coarray, _gfortran_caf_sendget_by_ref</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref">7.2.16 <code>_gfortran_caf_sendget_by_ref</code> &mdash; Sending data between remote images using enhanced references on both sides</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsend_005fby_005fref">Coarray, _gfortran_caf_send_by_ref</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsend_005fby_005fref">7.2.14 <code>_gfortran_caf_send_by_ref</code> &mdash; Sending data from a local image to a remote image with enhanced referencing options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fstopped_005fimages">Coarray, _gfortran_caf_stopped_images</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fstopped_005fimages">7.2.7 <code>_gfortran_caf_stopped_images</code> &mdash; Get an array of the indexes of the stopped images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fall">Coarray, _gfortran_caf_sync_all</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fall">7.2.22 <code>_gfortran_caf_sync_all</code> &mdash; All-image barrier</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fimages">Coarray, _gfortran_caf_sync_images</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fimages">7.2.23 <code>_gfortran_caf_sync_images</code> &mdash; Barrier for selected images</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fsync_005fmemory">Coarray, _gfortran_caf_sync_memory</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fsync_005fmemory">7.2.24 <code>_gfortran_caf_sync_memory</code> &mdash; Wait for completion of segment-memory operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005fthis_005fimage">Coarray, _gfortran_caf_this_image</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005fthis_005fimage">7.2.3 <code>_gfortran_caf_this_image</code> &mdash; Querying the image number</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarray_002c-_005fgfortran_005fcaf_005funlock">Coarray, _gfortran_caf_unlock</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fcaf_005funlock">7.2.18 <code>_gfortran_caf_lock</code> &mdash; Unlocking a lock variable</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coarrays">Coarrays</a></td><td>&nbsp;</td><td valign="top"><a href="#Coarray-Programming">7 Coarray Programming</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-COMMON"><code>COMMON</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Volatile-COMMON-blocks">5.2.4 Volatile <code>COMMON</code> blocks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Complex-function">Complex function</a></td><td>&nbsp;</td><td valign="top"><a href="#Alternate-complex-function-syntax">5.2.3 Alternate complex function syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Conditional-compilation">Conditional compilation</a></td><td>&nbsp;</td><td valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-consistency_002c-durability">consistency, durability</a></td><td>&nbsp;</td><td valign="top"><a href="#Data-consistency-and-durability">4.6 Data consistency and durability</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Contributing">Contributing</a></td><td>&nbsp;</td><td valign="top"><a href="#Contributing">Contributing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Contributors">Contributors</a></td><td>&nbsp;</td><td valign="top"><a href="#Contributors">7.3 Contributors to GNU Fortran</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-conversion_002c-to-integer">conversion, to integer</a></td><td>&nbsp;</td><td valign="top"><a href="#Implicitly-convert-LOGICAL-and-INTEGER-values">5.1.13 Implicitly convert <code>LOGICAL</code> and <code>INTEGER</code> values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-conversion_002c-to-logical">conversion, to logical</a></td><td>&nbsp;</td><td valign="top"><a href="#Implicitly-convert-LOGICAL-and-INTEGER-values">5.1.13 Implicitly convert <code>LOGICAL</code> and <code>INTEGER</code> values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONVERT-specifier"><code>CONVERT</code> specifier</a></td><td>&nbsp;</td><td valign="top"><a href="#CONVERT-specifier">5.1.16 <code>CONVERT</code> specifier</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPP">CPP</a></td><td>&nbsp;</td><td valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Credits">Credits</a></td><td>&nbsp;</td><td valign="top"><a href="#Contributors">7.3 Contributors to GNU Fortran</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-DECODE"><code>DECODE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#ENCODE-and-DECODE-statements">5.2.1 <code>ENCODE</code> and <code>DECODE</code> statements</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ENCODE"><code>ENCODE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#ENCODE-and-DECODE-statements">5.2.1 <code>ENCODE</code> and <code>DECODE</code> statements</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ENUM-statement"><code>ENUM</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ENUMERATOR-statement"><code>ENUMERATOR</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environment-variable">environment variable</a></td><td>&nbsp;</td><td valign="top"><a href="#Runtime">2 Runtime: Influencing runtime behavior with environment variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-EOF"><code>EOF</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Read_002fWrite-after-EOF-marker">5.1.20 Read/Write after EOF marker</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exponent">exponent</a></td><td>&nbsp;</td><td valign="top"><a href="#Default-exponents">5.1.33 Default exponents</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions">extensions</a></td><td>&nbsp;</td><td valign="top"><a href="#Extensions">5 Extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions_002c-implemented">extensions, implemented</a></td><td>&nbsp;</td><td valign="top"><a href="#Extensions-implemented-in-GNU-Fortran">5.1 Extensions implemented in GNU Fortran</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions_002c-not-implemented">extensions, not implemented</a></td><td>&nbsp;</td><td valign="top"><a href="#Extensions-not-implemented-in-GNU-Fortran">5.2 Extensions not implemented in GNU Fortran</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002c-symbolic-link">file, symbolic link</a></td><td>&nbsp;</td><td valign="top"><a href="#File-operations-on-symbolic-links">4.8 File operations on symbolic links</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002c-unformatted-sequential">file, unformatted sequential</a></td><td>&nbsp;</td><td valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FLUSH-statement"><code>FLUSH</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-form-feed-whitespace">form feed whitespace</a></td><td>&nbsp;</td><td valign="top"><a href="#Form-feed-as-whitespace">5.1.26 Form feed as whitespace</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FORMAT"><code>FORMAT</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Variable-FORMAT-expressions">5.2.2 Variable <code>FORMAT</code> expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Fortran-77">Fortran 77</a></td><td>&nbsp;</td><td valign="top"><a href="#GNU-Fortran-and-G77">1.4 GNU Fortran and G77</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FPP">FPP</a></td><td>&nbsp;</td><td valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-g77"><code>g77</code></a></td><td>&nbsp;</td><td valign="top"><a href="#GNU-Fortran-and-G77">1.4 GNU Fortran and G77</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GCC">GCC</a></td><td>&nbsp;</td><td valign="top"><a href="#GNU-Fortran-and-GCC">1.2 GNU Fortran and GCC</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNU-Compiler-Collection">GNU Compiler Collection</a></td><td>&nbsp;</td><td valign="top"><a href="#GNU-Fortran-and-GCC">1.2 GNU Fortran and GCC</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Hollerith-constants">Hollerith constants</a></td><td>&nbsp;</td><td valign="top"><a href="#Hollerith-constants-support">5.1.14 Hollerith constants support</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-I_002fO-item-lists">I/O item lists</a></td><td>&nbsp;</td><td valign="top"><a href="#I_002fO-item-lists">5.1.8 I/O item lists</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-I_002fO-specifiers">I/O specifiers</a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-IMPORT-statement"><code>IMPORT</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002foutput_002c-asynchronous">input/output, asynchronous</a></td><td>&nbsp;</td><td valign="top"><a href="#Asynchronous-I_002fO">4.10 Asynchronous I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Interoperability">Interoperability</a></td><td>&nbsp;</td><td valign="top"><a href="#Mixed_002dLanguage-Programming">6 Mixed-Language Programming</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intrinsics_002c-integer">intrinsics, integer</a></td><td>&nbsp;</td><td valign="top"><a href="#Type-variants-for-integer-intrinsics">5.1.23 Type variants for integer intrinsics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intrinsics_002c-math">intrinsics, math</a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-math-intrinsics">5.1.25 Extended math intrinsics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intrinsics_002c-trigonometric-functions">intrinsics, trigonometric functions</a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-math-intrinsics">5.1.25 Extended math intrinsics</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Introduction">Introduction</a></td><td>&nbsp;</td><td valign="top"><a href="#Top">Introduction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-IOMSG_003d-specifier"><code>IOMSG=</code> specifier</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ISO_005fFORTRAN_005fENV-statement"><code>ISO_FORTRAN_ENV</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-kind">kind</a></td><td>&nbsp;</td><td valign="top"><a href="#KIND-Type-Parameters">4.1 KIND Type Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-kind_002c-old_002dstyle">kind, old-style</a></td><td>&nbsp;</td><td valign="top"><a href="#Old_002dstyle-kind-specifications">5.1.1 Old-style kind specifications</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005fargs">libgfortran initialization, set_args</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fargs">6.3.1 <code>_gfortran_set_args</code> &mdash; Save command-line arguments</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005fconvert">libgfortran initialization, set_convert</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fconvert">6.3.3 <code>_gfortran_set_convert</code> &mdash; Set endian conversion</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005ffpe">libgfortran initialization, set_fpe</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005ffpe">6.3.5 <code>_gfortran_set_fpe</code> &mdash; Enable floating point exception traps</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005fmax_005fsubrecord_005flength">libgfortran initialization, set_max_subrecord_length</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength">6.3.6 <code>_gfortran_set_max_subrecord_length</code> &mdash; Set subrecord length</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005foptions">libgfortran initialization, set_options</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005foptions">6.3.2 <code>_gfortran_set_options</code> &mdash; Set library option flags</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libgfortran-initialization_002c-set_005frecord_005fmarker">libgfortran initialization, set_record_marker</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_005fgfortran_005fset_005frecord_005fmarker">6.3.4 <code>_gfortran_set_record_marker</code> &mdash; Set length of record markers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LOC">LOC</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_0025LOC-as-an-rvalue">5.1.28 %LOC as an rvalue</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-logical_002c-bitwise">logical, bitwise</a></td><td>&nbsp;</td><td valign="top"><a href="#Bitwise-logical-operators">5.1.30 Bitwise logical operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-logical_002c-variable-representation">logical, variable representation</a></td><td>&nbsp;</td><td valign="top"><a href="#Internal-representation-of-LOGICAL-variables">4.2 Internal representation of LOGICAL variables</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAP"><code>MAP</code></a></td><td>&nbsp;</td><td valign="top"><a href="#UNION-and-MAP">5.1.22 <code>UNION</code> and <code>MAP</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAX_002c-MIN_002c-NaN">MAX, MIN, NaN</a></td><td>&nbsp;</td><td valign="top"><a href="#MAX-and-MIN-intrinsics-with-REAL-NaN-arguments">4.4 MAX and MIN intrinsics with REAL NaN arguments</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Mixed_002dlanguage-programming">Mixed-language programming</a></td><td>&nbsp;</td><td valign="top"><a href="#Mixed_002dLanguage-Programming">6 Mixed-Language Programming</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-NAME"><code>NAME</code></a></td><td>&nbsp;</td><td valign="top"><a href="#OPEN_0028-_002e_002e_002e-NAME_003d_0029">5.2.5 <code>OPEN( ... NAME=)</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Namelist">Namelist</a></td><td>&nbsp;</td><td valign="top"><a href="#Extensions-to-namelist">5.1.3 Extensions to namelist</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NOSHARED"><code>NOSHARED</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002c-action">open, action</a></td><td>&nbsp;</td><td valign="top"><a href="#Files-opened-without-an-explicit-ACTION_003d-specifier">4.7 Files opened without an explicit ACTION= specifier</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenACC">OpenACC</a></td><td>&nbsp;</td><td valign="top"><a href="#OpenACC">5.1.18 OpenACC</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenMP">OpenMP</a></td><td>&nbsp;</td><td valign="top"><a href="#OpenMP">5.1.17 OpenMP</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-operators_002c-unary">operators, unary</a></td><td>&nbsp;</td><td valign="top"><a href="#Unary-operators">5.1.12 Unary operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-operators_002c-xor">operators, xor</a></td><td>&nbsp;</td><td valign="top"><a href="#g_t_002eXOR_002e-operator">5.1.29 .XOR. operator</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-PARAMETER">PARAMETER</a></td><td>&nbsp;</td><td valign="top"><a href="#Legacy-PARAMETER-statements">5.1.32 Legacy PARAMETER statements</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pointer_002c-Cray">pointer, Cray</a></td><td>&nbsp;</td><td valign="top"><a href="#Cray-pointers">5.1.15 Cray pointers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Preprocessing">Preprocessing</a></td><td>&nbsp;</td><td valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preprocessor_002c-include-file-handling">preprocessor, include file handling</a></td><td>&nbsp;</td><td valign="top"><a href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PROTECTED-statement"><code>PROTECTED</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Q-edit-descriptor"><code>Q</code> edit descriptor</a></td><td>&nbsp;</td><td valign="top"><a href="#Q-edit-descriptor">5.2.6 <code>Q</code> edit descriptor</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Q-exponent_002dletter"><code>Q</code> exponent-letter</a></td><td>&nbsp;</td><td valign="top"><a href="#Q-exponent_002dletter">5.1.9 <code>Q</code> exponent-letter</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-READONLY"><code>READONLY</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RECORD"><code>RECORD</code></a></td><td>&nbsp;</td><td valign="top"><a href="#STRUCTURE-and-RECORD">5.1.21 <code>STRUCTURE</code> and <code>RECORD</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-record-marker">record marker</a></td><td>&nbsp;</td><td valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-REWIND"><code>REWIND</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Read_002fWrite-after-EOF-marker">5.1.20 Read/Write after EOF marker</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-sequential_002c-unformatted">sequential, unformatted</a></td><td>&nbsp;</td><td valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHARE"><code>SHARE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHARED"><code>SHARED</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Standards">Standards</a></td><td>&nbsp;</td><td valign="top"><a href="#Standards">1.6 Standards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-ENUM">statement, <code>ENUM</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-ENUMERATOR">statement, <code>ENUMERATOR</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-FLUSH">statement, <code>FLUSH</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-IMPORT">statement, <code>IMPORT</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-ISO_005fFORTRAN_005fENV">statement, <code>ISO_FORTRAN_ENV</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-PROTECTED">statement, <code>PROTECTED</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-USE_002c-INTRINSIC">statement, <code>USE, INTRINSIC</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-VALUE">statement, <code>VALUE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-statement_002c-VOLATILE">statement, <code>VOLATILE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STATIC"><code>STATIC</code></a></td><td>&nbsp;</td><td valign="top"><a href="#AUTOMATIC-and-STATIC-attributes">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STREAM-I_002fO"><code>STREAM</code> I/O</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-strings_002c-varying-length">strings, varying length</a></td><td>&nbsp;</td><td valign="top"><a href="#Varying-Length-Character-Strings">1.6.1 Varying Length Character Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-STRUCTURE"><code>STRUCTURE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#STRUCTURE-and-RECORD">5.1.21 <code>STRUCTURE</code> and <code>RECORD</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subrecord">subrecord</a></td><td>&nbsp;</td><td valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dsafety_002c-threads">thread-safety, threads</a></td><td>&nbsp;</td><td valign="top"><a href="#Thread_002dsafety-of-the-runtime-library">4.5 Thread-safety of the runtime library</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TR-15581">TR 15581</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type-alias-print">type alias print</a></td><td>&nbsp;</td><td valign="top"><a href="#TYPE-as-an-alias-for-PRINT">5.1.27 TYPE as an alias for PRINT</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-unformatted-sequential">unformatted sequential</a></td><td>&nbsp;</td><td valign="top"><a href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-UNION"><code>UNION</code></a></td><td>&nbsp;</td><td valign="top"><a href="#UNION-and-MAP">5.1.22 <code>UNION</code> and <code>MAP</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-USE_002c-INTRINSIC-statement"><code>USE, INTRINSIC</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Keyword-Index-1_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-VALUE-statement"><code>VALUE</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variable-attributes">variable attributes</a></td><td>&nbsp;</td><td valign="top"><a href="#AUTOMATIC-and-STATIC-attributes">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Varying-length-character-strings">Varying length character strings</a></td><td>&nbsp;</td><td valign="top"><a href="#Varying-Length-Character-Strings">1.6.1 Varying Length Character Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Varying-length-strings">Varying length strings</a></td><td>&nbsp;</td><td valign="top"><a href="#Varying-Length-Character-Strings">1.6.1 Varying Length Character Strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VOLATILE"><code>VOLATILE</code></a></td><td>&nbsp;</td><td valign="top"><a href="#Volatile-COMMON-blocks">5.2.4 Volatile <code>COMMON</code> blocks</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VOLATILE-statement"><code>VOLATILE</code> statement</a></td><td>&nbsp;</td><td valign="top"><a href="#Fortran-2003-status">3.1 Fortran 2003 status</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Keyword-Index-1_cp_symbol-1"><b>%</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_symbol-2"><b>[</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_symbol-3"><b>_</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Keyword-Index-1_cp_letter-V"><b>V</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Contents"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>

<div class="contents">

<ul class="no-bullet">
  <li><a name="toc-Introduction-2" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a name="toc-About-GNU-Fortran-1" href="#About-GNU-Fortran">1.1 About GNU Fortran</a></li>
    <li><a name="toc-GNU-Fortran-and-GCC-1" href="#GNU-Fortran-and-GCC">1.2 GNU Fortran and GCC</a></li>
    <li><a name="toc-Preprocessing-and-conditional-compilation-1" href="#Preprocessing-and-conditional-compilation">1.3 Preprocessing and conditional compilation</a></li>
    <li><a name="toc-GNU-Fortran-and-G77-1" href="#GNU-Fortran-and-G77">1.4 GNU Fortran and G77</a></li>
    <li><a name="toc-Project-Status-1" href="#Project-Status">1.5 Project Status</a></li>
    <li><a name="toc-Standards-1" href="#Standards">1.6 Standards</a>
    <ul class="no-bullet">
      <li><a name="toc-Varying-Length-Character-Strings-1" href="#Varying-Length-Character-Strings">1.6.1 Varying Length Character Strings</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Runtime_003a-Influencing-runtime-behavior-with-environment-variables" href="#Runtime">2 Runtime: Influencing runtime behavior with environment variables</a>
  <ul class="no-bullet">
    <li><a name="toc-TMPDIR_002d_002d_002dDirectory-for-scratch-files" href="#TMPDIR">2.1 <code>TMPDIR</code>&mdash;Directory for scratch files</a></li>
    <li><a name="toc-GFORTRAN_005fSTDIN_005fUNIT_002d_002d_002dUnit-number-for-standard-input" href="#GFORTRAN_005fSTDIN_005fUNIT">2.2 <code>GFORTRAN_STDIN_UNIT</code>&mdash;Unit number for standard input</a></li>
    <li><a name="toc-GFORTRAN_005fSTDOUT_005fUNIT_002d_002d_002dUnit-number-for-standard-output" href="#GFORTRAN_005fSTDOUT_005fUNIT">2.3 <code>GFORTRAN_STDOUT_UNIT</code>&mdash;Unit number for standard output</a></li>
    <li><a name="toc-GFORTRAN_005fSTDERR_005fUNIT_002d_002d_002dUnit-number-for-standard-error" href="#GFORTRAN_005fSTDERR_005fUNIT">2.4 <code>GFORTRAN_STDERR_UNIT</code>&mdash;Unit number for standard error</a></li>
    <li><a name="toc-GFORTRAN_005fUNBUFFERED_005fALL_002d_002d_002dDo-not-buffer-I_002fO-on-all-units" href="#GFORTRAN_005fUNBUFFERED_005fALL">2.5 <code>GFORTRAN_UNBUFFERED_ALL</code>&mdash;Do not buffer I/O on all units</a></li>
    <li><a name="toc-GFORTRAN_005fUNBUFFERED_005fPRECONNECTED_002d_002d_002dDo-not-buffer-I_002fO-on-preconnected-units" href="#GFORTRAN_005fUNBUFFERED_005fPRECONNECTED">2.6 <code>GFORTRAN_UNBUFFERED_PRECONNECTED</code>&mdash;Do not buffer I/O on preconnected units</a></li>
    <li><a name="toc-GFORTRAN_005fSHOW_005fLOCUS_002d_002d_002dShow-location-for-runtime-errors" href="#GFORTRAN_005fSHOW_005fLOCUS">2.7 <code>GFORTRAN_SHOW_LOCUS</code>&mdash;Show location for runtime errors</a></li>
    <li><a name="toc-GFORTRAN_005fOPTIONAL_005fPLUS_002d_002d_002dPrint-leading-_002b-where-permitted" href="#GFORTRAN_005fOPTIONAL_005fPLUS">2.8 <code>GFORTRAN_OPTIONAL_PLUS</code>&mdash;Print leading + where permitted</a></li>
    <li><a name="toc-GFORTRAN_005fLIST_005fSEPARATOR_002d_002d_002dSeparator-for-list-output" href="#GFORTRAN_005fLIST_005fSEPARATOR">2.9 <code>GFORTRAN_LIST_SEPARATOR</code>&mdash;Separator for list output</a></li>
    <li><a name="toc-GFORTRAN_005fCONVERT_005fUNIT_002d_002d_002dSet-endianness-for-unformatted-I_002fO" href="#GFORTRAN_005fCONVERT_005fUNIT">2.10 <code>GFORTRAN_CONVERT_UNIT</code>&mdash;Set endianness for unformatted I/O</a></li>
    <li><a name="toc-GFORTRAN_005fERROR_005fBACKTRACE_002d_002d_002dShow-backtrace-on-run_002dtime-errors" href="#GFORTRAN_005fERROR_005fBACKTRACE">2.11 <code>GFORTRAN_ERROR_BACKTRACE</code>&mdash;Show backtrace on run-time errors</a></li>
  </ul></li>
  <li><a name="toc-Fortran-standards-status-1" href="#Fortran-standards-status">3 Fortran standards status</a>
  <ul class="no-bullet">
    <li><a name="toc-Fortran-2003-status-1" href="#Fortran-2003-status">3.1 Fortran 2003 status</a></li>
    <li><a name="toc-Fortran-2008-status-1" href="#Fortran-2008-status">3.2 Fortran 2008 status</a></li>
    <li><a name="toc-Status-of-Fortran-2018-support" href="#Fortran-2018-status">3.3 Status of Fortran 2018 support</a>
    <ul class="no-bullet">
      <li><a name="toc-TS-29113-Status-_0028Further-Interoperability-with-C_0029" href="#TS-29113-Status-_0028Further-Interoperability-with-C_0029">3.3.1 TS 29113 Status (Further Interoperability with C)</a></li>
      <li><a name="toc-TS-18508-Status-_0028Additional-Parallel-Features_0029" href="#TS-18508-Status-_0028Additional-Parallel-Features_0029">3.3.2 TS 18508 Status (Additional Parallel Features)</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Compiler-Characteristics-1" href="#Compiler-Characteristics">4 Compiler Characteristics</a>
  <ul class="no-bullet">
    <li><a name="toc-KIND-Type-Parameters-1" href="#KIND-Type-Parameters">4.1 KIND Type Parameters</a></li>
    <li><a name="toc-Internal-representation-of-LOGICAL-variables-1" href="#Internal-representation-of-LOGICAL-variables">4.2 Internal representation of LOGICAL variables</a></li>
    <li><a name="toc-Evaluation-of-logical-expressions-1" href="#Evaluation-of-logical-expressions">4.3 Evaluation of logical expressions</a></li>
    <li><a name="toc-MAX-and-MIN-intrinsics-with-REAL-NaN-arguments-1" href="#MAX-and-MIN-intrinsics-with-REAL-NaN-arguments">4.4 MAX and MIN intrinsics with REAL NaN arguments</a></li>
    <li><a name="toc-Thread_002dsafety-of-the-runtime-library-1" href="#Thread_002dsafety-of-the-runtime-library">4.5 Thread-safety of the runtime library</a></li>
    <li><a name="toc-Data-consistency-and-durability-1" href="#Data-consistency-and-durability">4.6 Data consistency and durability</a></li>
    <li><a name="toc-Files-opened-without-an-explicit-ACTION_003d-specifier-1" href="#Files-opened-without-an-explicit-ACTION_003d-specifier">4.7 Files opened without an explicit ACTION= specifier</a></li>
    <li><a name="toc-File-operations-on-symbolic-links-1" href="#File-operations-on-symbolic-links">4.8 File operations on symbolic links</a></li>
    <li><a name="toc-File-format-of-unformatted-sequential-files-1" href="#File-format-of-unformatted-sequential-files">4.9 File format of unformatted sequential files</a></li>
    <li><a name="toc-Asynchronous-I_002fO-1" href="#Asynchronous-I_002fO">4.10 Asynchronous I/O</a></li>
  </ul></li>
  <li><a name="toc-Extensions-1" href="#Extensions">5 Extensions</a>
  <ul class="no-bullet">
    <li><a name="toc-Extensions-implemented-in-GNU-Fortran-1" href="#Extensions-implemented-in-GNU-Fortran">5.1 Extensions implemented in GNU Fortran</a>
    <ul class="no-bullet">
      <li><a name="toc-Old_002dstyle-kind-specifications-1" href="#Old_002dstyle-kind-specifications">5.1.1 Old-style kind specifications</a></li>
      <li><a name="toc-Old_002dstyle-variable-initialization-1" href="#Old_002dstyle-variable-initialization">5.1.2 Old-style variable initialization</a></li>
      <li><a name="toc-Extensions-to-namelist-1" href="#Extensions-to-namelist">5.1.3 Extensions to namelist</a></li>
      <li><a name="toc-X-format-descriptor-without-count-field-1" href="#X-format-descriptor-without-count-field">5.1.4 <code>X</code> format descriptor without count field</a></li>
      <li><a name="toc-Commas-in-FORMAT-specifications-1" href="#Commas-in-FORMAT-specifications">5.1.5 Commas in <code>FORMAT</code> specifications</a></li>
      <li><a name="toc-Missing-period-in-FORMAT-specifications-1" href="#Missing-period-in-FORMAT-specifications">5.1.6 Missing period in <code>FORMAT</code> specifications</a></li>
      <li><a name="toc-Default-widths-for-F_002c-G-and-I-format-descriptors-1" href="#Default-widths-for-F_002c-G-and-I-format-descriptors">5.1.7 Default widths for <code>F</code>, <code>G</code> and <code>I</code> format descriptors</a></li>
      <li><a name="toc-I_002fO-item-lists-1" href="#I_002fO-item-lists">5.1.8 I/O item lists</a></li>
      <li><a name="toc-Q-exponent_002dletter-1" href="#Q-exponent_002dletter">5.1.9 <code>Q</code> exponent-letter</a></li>
      <li><a name="toc-BOZ-literal-constants-1" href="#BOZ-literal-constants">5.1.10 BOZ literal constants</a></li>
      <li><a name="toc-Real-array-indices-1" href="#Real-array-indices">5.1.11 Real array indices</a></li>
      <li><a name="toc-Unary-operators-1" href="#Unary-operators">5.1.12 Unary operators</a></li>
      <li><a name="toc-Implicitly-convert-LOGICAL-and-INTEGER-values-1" href="#Implicitly-convert-LOGICAL-and-INTEGER-values">5.1.13 Implicitly convert <code>LOGICAL</code> and <code>INTEGER</code> values</a></li>
      <li><a name="toc-Hollerith-constants-support-1" href="#Hollerith-constants-support">5.1.14 Hollerith constants support</a></li>
      <li><a name="toc-Cray-pointers-1" href="#Cray-pointers">5.1.15 Cray pointers</a></li>
      <li><a name="toc-CONVERT-specifier-1" href="#CONVERT-specifier">5.1.16 <code>CONVERT</code> specifier</a></li>
      <li><a name="toc-OpenMP-1" href="#OpenMP">5.1.17 OpenMP</a></li>
      <li><a name="toc-OpenACC-1" href="#OpenACC">5.1.18 OpenACC</a></li>
      <li><a name="toc-Argument-list-functions-_0025VAL_002c-_0025REF-and-_0025LOC" href="#Argument-list-functions">5.1.19 Argument list functions <code>%VAL</code>, <code>%REF</code> and <code>%LOC</code></a></li>
      <li><a name="toc-Read_002fWrite-after-EOF-marker-1" href="#Read_002fWrite-after-EOF-marker">5.1.20 Read/Write after EOF marker</a></li>
      <li><a name="toc-STRUCTURE-and-RECORD-1" href="#STRUCTURE-and-RECORD">5.1.21 <code>STRUCTURE</code> and <code>RECORD</code></a></li>
      <li><a name="toc-UNION-and-MAP-1" href="#UNION-and-MAP">5.1.22 <code>UNION</code> and <code>MAP</code></a></li>
      <li><a name="toc-Type-variants-for-integer-intrinsics-1" href="#Type-variants-for-integer-intrinsics">5.1.23 Type variants for integer intrinsics</a></li>
      <li><a name="toc-AUTOMATIC-and-STATIC-attributes-1" href="#AUTOMATIC-and-STATIC-attributes">5.1.24 <code>AUTOMATIC</code> and <code>STATIC</code> attributes</a></li>
      <li><a name="toc-Extended-math-intrinsics-1" href="#Extended-math-intrinsics">5.1.25 Extended math intrinsics</a></li>
      <li><a name="toc-Form-feed-as-whitespace-1" href="#Form-feed-as-whitespace">5.1.26 Form feed as whitespace</a></li>
      <li><a name="toc-TYPE-as-an-alias-for-PRINT-1" href="#TYPE-as-an-alias-for-PRINT">5.1.27 TYPE as an alias for PRINT</a></li>
      <li><a name="toc-_0025LOC-as-an-rvalue-1" href="#g_t_0025LOC-as-an-rvalue">5.1.28 %LOC as an rvalue</a></li>
      <li><a name="toc-_002eXOR_002e-operator-1" href="#g_t_002eXOR_002e-operator">5.1.29 .XOR. operator</a></li>
      <li><a name="toc-Bitwise-logical-operators-1" href="#Bitwise-logical-operators">5.1.30 Bitwise logical operators</a></li>
      <li><a name="toc-Extended-I_002fO-specifiers-1" href="#Extended-I_002fO-specifiers">5.1.31 Extended I/O specifiers</a></li>
      <li><a name="toc-Legacy-PARAMETER-statements-1" href="#Legacy-PARAMETER-statements">5.1.32 Legacy PARAMETER statements</a></li>
      <li><a name="toc-Default-exponents-1" href="#Default-exponents">5.1.33 Default exponents</a></li>
    </ul></li>
    <li><a name="toc-Extensions-not-implemented-in-GNU-Fortran-1" href="#Extensions-not-implemented-in-GNU-Fortran">5.2 Extensions not implemented in GNU Fortran</a>
    <ul class="no-bullet">
      <li><a name="toc-ENCODE-and-DECODE-statements-1" href="#ENCODE-and-DECODE-statements">5.2.1 <code>ENCODE</code> and <code>DECODE</code> statements</a></li>
      <li><a name="toc-Variable-FORMAT-expressions-1" href="#Variable-FORMAT-expressions">5.2.2 Variable <code>FORMAT</code> expressions</a></li>
      <li><a name="toc-Alternate-complex-function-syntax-1" href="#Alternate-complex-function-syntax">5.2.3 Alternate complex function syntax</a></li>
      <li><a name="toc-Volatile-COMMON-blocks-1" href="#Volatile-COMMON-blocks">5.2.4 Volatile <code>COMMON</code> blocks</a></li>
      <li><a name="toc-OPEN_0028-_002e_002e_002e-NAME_003d_0029-1" href="#OPEN_0028-_002e_002e_002e-NAME_003d_0029">5.2.5 <code>OPEN( ... NAME=)</code></a></li>
      <li><a name="toc-Q-edit-descriptor-1" href="#Q-edit-descriptor">5.2.6 <code>Q</code> edit descriptor</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Mixed_002dLanguage-Programming-1" href="#Mixed_002dLanguage-Programming">6 Mixed-Language Programming</a>
  <ul class="no-bullet">
    <li><a name="toc-Interoperability-with-C-1" href="#Interoperability-with-C">6.1 Interoperability with C</a>
    <ul class="no-bullet">
      <li><a name="toc-Intrinsic-Types-1" href="#Intrinsic-Types">6.1.1 Intrinsic Types</a></li>
      <li><a name="toc-Derived-Types-and-struct-1" href="#Derived-Types-and-struct">6.1.2 Derived Types and struct</a></li>
      <li><a name="toc-Interoperable-Global-Variables-1" href="#Interoperable-Global-Variables">6.1.3 Interoperable Global Variables</a></li>
      <li><a name="toc-Interoperable-Subroutines-and-Functions-1" href="#Interoperable-Subroutines-and-Functions">6.1.4 Interoperable Subroutines and Functions</a></li>
      <li><a name="toc-Working-with-Pointers-1" href="#Working-with-Pointers">6.1.5 Working with Pointers</a></li>
      <li><a name="toc-Further-Interoperability-of-Fortran-with-C-1" href="#Further-Interoperability-of-Fortran-with-C">6.1.6 Further Interoperability of Fortran with C</a></li>
    </ul></li>
    <li><a name="toc-GNU-Fortran-Compiler-Directives-1" href="#GNU-Fortran-Compiler-Directives">6.2 GNU Fortran Compiler Directives</a>
    <ul class="no-bullet">
      <li><a name="toc-ATTRIBUTES-directive-1" href="#ATTRIBUTES-directive">6.2.1 ATTRIBUTES directive</a></li>
      <li><a name="toc-UNROLL-directive-1" href="#UNROLL-directive">6.2.2 UNROLL directive</a></li>
      <li><a name="toc-BUILTIN-directive-1" href="#BUILTIN-directive">6.2.3 BUILTIN directive</a></li>
    </ul></li>
    <li><a name="toc-Non_002dFortran-Main-Program-1" href="#Non_002dFortran-Main-Program">6.3 Non-Fortran Main Program</a>
    <ul class="no-bullet">
      <li><a name="toc-_005fgfortran_005fset_005fargs-_002d_002d_002d-Save-command_002dline-arguments" href="#g_t_005fgfortran_005fset_005fargs">6.3.1 <code>_gfortran_set_args</code> &mdash; Save command-line arguments</a></li>
      <li><a name="toc-_005fgfortran_005fset_005foptions-_002d_002d_002d-Set-library-option-flags" href="#g_t_005fgfortran_005fset_005foptions">6.3.2 <code>_gfortran_set_options</code> &mdash; Set library option flags</a></li>
      <li><a name="toc-_005fgfortran_005fset_005fconvert-_002d_002d_002d-Set-endian-conversion" href="#g_t_005fgfortran_005fset_005fconvert">6.3.3 <code>_gfortran_set_convert</code> &mdash; Set endian conversion</a></li>
      <li><a name="toc-_005fgfortran_005fset_005frecord_005fmarker-_002d_002d_002d-Set-length-of-record-markers" href="#g_t_005fgfortran_005fset_005frecord_005fmarker">6.3.4 <code>_gfortran_set_record_marker</code> &mdash; Set length of record markers</a></li>
      <li><a name="toc-_005fgfortran_005fset_005ffpe-_002d_002d_002d-Enable-floating-point-exception-traps" href="#g_t_005fgfortran_005fset_005ffpe">6.3.5 <code>_gfortran_set_fpe</code> &mdash; Enable floating point exception traps</a></li>
      <li><a name="toc-_005fgfortran_005fset_005fmax_005fsubrecord_005flength-_002d_002d_002d-Set-subrecord-length" href="#g_t_005fgfortran_005fset_005fmax_005fsubrecord_005flength">6.3.6 <code>_gfortran_set_max_subrecord_length</code> &mdash; Set subrecord length</a></li>
    </ul></li>
    <li><a name="toc-Naming-and-argument_002dpassing-conventions-1" href="#Naming-and-argument_002dpassing-conventions">6.4 Naming and argument-passing conventions</a>
    <ul class="no-bullet">
      <li><a name="toc-Naming-conventions-1" href="#Naming-conventions">6.4.1 Naming conventions</a></li>
      <li><a name="toc-Argument-passing-conventions-1" href="#Argument-passing-conventions">6.4.2 Argument passing conventions</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Coarray-Programming-1" href="#Coarray-Programming">7 Coarray Programming</a>
  <ul class="no-bullet">
    <li><a name="toc-Type-and-enum-ABI-Documentation-1" href="#Type-and-enum-ABI-Documentation">7.1 Type and enum ABI Documentation</a>
    <ul class="no-bullet">
      <li><a name="toc-caf_005ftoken_005ft-1" href="#caf_005ftoken_005ft">7.1.1 <code>caf_token_t</code></a></li>
      <li><a name="toc-caf_005fregister_005ft-1" href="#caf_005fregister_005ft">7.1.2 <code>caf_register_t</code></a></li>
      <li><a name="toc-caf_005fderegister_005ft-1" href="#caf_005fderegister_005ft">7.1.3 <code>caf_deregister_t</code></a></li>
      <li><a name="toc-caf_005freference_005ft-1" href="#caf_005freference_005ft">7.1.4 <code>caf_reference_t</code></a></li>
      <li><a name="toc-caf_005fteam_005ft-1" href="#caf_005fteam_005ft">7.1.5 <code>caf_team_t</code></a></li>
    </ul></li>
    <li><a name="toc-Function-ABI-Documentation-1" href="#Function-ABI-Documentation">7.2 Function ABI Documentation</a>
    <ul class="no-bullet">
      <li><a name="toc-_005fgfortran_005fcaf_005finit-_002d_002d_002d-Initialiation-function" href="#g_t_005fgfortran_005fcaf_005finit">7.2.1 <code>_gfortran_caf_init</code> &mdash; Initialiation function</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005ffinish-_002d_002d_002d-Finalization-function" href="#g_t_005fgfortran_005fcaf_005ffinish">7.2.2 <code>_gfortran_caf_finish</code> &mdash; Finalization function</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fthis_005fimage-_002d_002d_002d-Querying-the-image-number" href="#g_t_005fgfortran_005fcaf_005fthis_005fimage">7.2.3 <code>_gfortran_caf_this_image</code> &mdash; Querying the image number</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fnum_005fimages-_002d_002d_002d-Querying-the-maximal-number-of-images" href="#g_t_005fgfortran_005fcaf_005fnum_005fimages">7.2.4 <code>_gfortran_caf_num_images</code> &mdash; Querying the maximal number of images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fimage_005fstatus-_002d_002d_002d-Query-the-status-of-an-image" href="#g_t_005fgfortran_005fcaf_005fimage_005fstatus">7.2.5 <code>_gfortran_caf_image_status</code> &mdash; Query the status of an image</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005ffailed_005fimages-_002d_002d_002d-Get-an-array-of-the-indexes-of-the-failed-images" href="#g_t_005fgfortran_005fcaf_005ffailed_005fimages">7.2.6 <code>_gfortran_caf_failed_images</code> &mdash; Get an array of the indexes of the failed images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fstopped_005fimages-_002d_002d_002d-Get-an-array-of-the-indexes-of-the-stopped-images" href="#g_t_005fgfortran_005fcaf_005fstopped_005fimages">7.2.7 <code>_gfortran_caf_stopped_images</code> &mdash; Get an array of the indexes of the stopped images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fregister-_002d_002d_002d-Registering-coarrays" href="#g_t_005fgfortran_005fcaf_005fregister">7.2.8 <code>_gfortran_caf_register</code> &mdash; Registering coarrays</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fderegister-_002d_002d_002d-Deregistering-coarrays" href="#g_t_005fgfortran_005fcaf_005fderegister">7.2.9 <code>_gfortran_caf_deregister</code> &mdash; Deregistering coarrays</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fis_005fpresent-_002d_002d_002d-Query-whether-an-allocatable-or-pointer-component-in-a-derived-type-coarray-is-allocated" href="#g_t_005fgfortran_005fcaf_005fis_005fpresent">7.2.10 <code>_gfortran_caf_is_present</code> &mdash; Query whether an allocatable or pointer component in a derived type coarray is allocated</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsend-_002d_002d_002d-Sending-data-from-a-local-image-to-a-remote-image" href="#g_t_005fgfortran_005fcaf_005fsend">7.2.11 <code>_gfortran_caf_send</code> &mdash; Sending data from a local image to a remote image</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fget-_002d_002d_002d-Getting-data-from-a-remote-image" href="#g_t_005fgfortran_005fcaf_005fget">7.2.12 <code>_gfortran_caf_get</code> &mdash; Getting data from a remote image</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsendget-_002d_002d_002d-Sending-data-between-remote-images" href="#g_t_005fgfortran_005fcaf_005fsendget">7.2.13 <code>_gfortran_caf_sendget</code> &mdash; Sending data between remote images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsend_005fby_005fref-_002d_002d_002d-Sending-data-from-a-local-image-to-a-remote-image-with-enhanced-referencing-options" href="#g_t_005fgfortran_005fcaf_005fsend_005fby_005fref">7.2.14 <code>_gfortran_caf_send_by_ref</code> &mdash; Sending data from a local image to a remote image with enhanced referencing options</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fget_005fby_005fref-_002d_002d_002d-Getting-data-from-a-remote-image-using-enhanced-references" href="#g_t_005fgfortran_005fcaf_005fget_005fby_005fref">7.2.15 <code>_gfortran_caf_get_by_ref</code> &mdash; Getting data from a remote image using enhanced references</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsendget_005fby_005fref-_002d_002d_002d-Sending-data-between-remote-images-using-enhanced-references-on-both-sides" href="#g_t_005fgfortran_005fcaf_005fsendget_005fby_005fref">7.2.16 <code>_gfortran_caf_sendget_by_ref</code> &mdash; Sending data between remote images using enhanced references on both sides</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005flock-_002d_002d_002d-Locking-a-lock-variable" href="#g_t_005fgfortran_005fcaf_005flock">7.2.17 <code>_gfortran_caf_lock</code> &mdash; Locking a lock variable</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005flock-_002d_002d_002d-Unlocking-a-lock-variable" href="#g_t_005fgfortran_005fcaf_005funlock">7.2.18 <code>_gfortran_caf_lock</code> &mdash; Unlocking a lock variable</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fevent_005fpost-_002d_002d_002d-Post-an-event" href="#g_t_005fgfortran_005fcaf_005fevent_005fpost">7.2.19 <code>_gfortran_caf_event_post</code> &mdash; Post an event</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fevent_005fwait-_002d_002d_002d-Wait-that-an-event-occurred" href="#g_t_005fgfortran_005fcaf_005fevent_005fwait">7.2.20 <code>_gfortran_caf_event_wait</code> &mdash; Wait that an event occurred</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fevent_005fquery-_002d_002d_002d-Query-event-count" href="#g_t_005fgfortran_005fcaf_005fevent_005fquery">7.2.21 <code>_gfortran_caf_event_query</code> &mdash; Query event count</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsync_005fall-_002d_002d_002d-All_002dimage-barrier" href="#g_t_005fgfortran_005fcaf_005fsync_005fall">7.2.22 <code>_gfortran_caf_sync_all</code> &mdash; All-image barrier</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsync_005fimages-_002d_002d_002d-Barrier-for-selected-images" href="#g_t_005fgfortran_005fcaf_005fsync_005fimages">7.2.23 <code>_gfortran_caf_sync_images</code> &mdash; Barrier for selected images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fsync_005fmemory-_002d_002d_002d-Wait-for-completion-of-segment_002dmemory-operations" href="#g_t_005fgfortran_005fcaf_005fsync_005fmemory">7.2.24 <code>_gfortran_caf_sync_memory</code> &mdash; Wait for completion of segment-memory operations</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005ferror_005fstop-_002d_002d_002d-Error-termination-with-exit-code" href="#g_t_005fgfortran_005fcaf_005ferror_005fstop">7.2.25 <code>_gfortran_caf_error_stop</code> &mdash; Error termination with exit code</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005ferror_005fstop_005fstr-_002d_002d_002d-Error-termination-with-string" href="#g_t_005fgfortran_005fcaf_005ferror_005fstop_005fstr">7.2.26 <code>_gfortran_caf_error_stop_str</code> &mdash; Error termination with string</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005ffail_005fimage-_002d_002d_002d-Mark-the-image-failed-and-end-its-execution" href="#g_t_005fgfortran_005fcaf_005ffail_005fimage">7.2.27 <code>_gfortran_caf_fail_image</code> &mdash; Mark the image failed and end its execution</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fatomic_005fdefine-_002d_002d_002d-Atomic-variable-assignment" href="#g_t_005fgfortran_005fcaf_005fatomic_005fdefine">7.2.28 <code>_gfortran_caf_atomic_define</code> &mdash; Atomic variable assignment</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fatomic_005fref-_002d_002d_002d-Atomic-variable-reference" href="#g_t_005fgfortran_005fcaf_005fatomic_005fref">7.2.29 <code>_gfortran_caf_atomic_ref</code> &mdash; Atomic variable reference</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fatomic_005fcas-_002d_002d_002d-Atomic-compare-and-swap" href="#g_t_005fgfortran_005fcaf_005fatomic_005fcas">7.2.30 <code>_gfortran_caf_atomic_cas</code> &mdash; Atomic compare and swap</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fatomic_005fop-_002d_002d_002d-Atomic-operation" href="#g_t_005fgfortran_005fcaf_005fatomic_005fop">7.2.31 <code>_gfortran_caf_atomic_op</code> &mdash; Atomic operation</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fco_005fbroadcast-_002d_002d_002d-Sending-data-to-all-images" href="#g_t_005fgfortran_005fcaf_005fco_005fbroadcast">7.2.32 <code>_gfortran_caf_co_broadcast</code> &mdash; Sending data to all images</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fco_005fmax-_002d_002d_002d-Collective-maximum-reduction" href="#g_t_005fgfortran_005fcaf_005fco_005fmax">7.2.33 <code>_gfortran_caf_co_max</code> &mdash; Collective maximum reduction</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fco_005fmin-_002d_002d_002d-Collective-minimum-reduction" href="#g_t_005fgfortran_005fcaf_005fco_005fmin">7.2.34 <code>_gfortran_caf_co_min</code> &mdash; Collective minimum reduction</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fco_005fsum-_002d_002d_002d-Collective-summing-reduction" href="#g_t_005fgfortran_005fcaf_005fco_005fsum">7.2.35 <code>_gfortran_caf_co_sum</code> &mdash; Collective summing reduction</a></li>
      <li><a name="toc-_005fgfortran_005fcaf_005fco_005freduce-_002d_002d_002d-Generic-collective-reduction" href="#g_t_005fgfortran_005fcaf_005fco_005freduce">7.2.36 <code>_gfortran_caf_co_reduce</code> &mdash; Generic collective reduction</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Contributing-1" href="#Contributing">Contributing</a>
  <ul class="no-bullet">
    <li><a name="toc-Contributors-to-GNU-Fortran" href="#Contributors">7.3 Contributors to GNU Fortran</a></li>
    <li><a name="toc-Projects-1" href="#Projects">7.4 Projects</a></li>
    <li><a name="toc-Proposed-Extensions-1" href="#Proposed-Extensions">7.5 Proposed Extensions</a>
    <ul class="no-bullet">
      <li><a name="toc-Compiler-extensions_003a" href="#Compiler-extensions_003a">7.5.1 Compiler extensions:</a></li>
      <li><a name="toc-Environment-Options" href="#Environment-Options">7.5.2 Environment Options</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Option-Index-1" href="#Option-Index">Option Index</a></li>
  <li><a name="toc-Keyword-Index-1" href="#Keyword-Index">Keyword Index</a></li>
</ul>
</div>
<hr>
<a name="SEC_Overview"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Short Table of Contents</h1>

<div class="shortcontents">
<ul class="no-bullet">
<li><a name="stoc-Introduction-2" href="#Introduction">1 Introduction</a></li>
<li><a name="stoc-Runtime_003a-Influencing-runtime-behavior-with-environment-variables" href="#Runtime">2 Runtime: Influencing runtime behavior with environment variables</a></li>
<li><a name="stoc-Fortran-standards-status-1" href="#Fortran-standards-status">3 Fortran standards status</a></li>
<li><a name="stoc-Compiler-Characteristics-1" href="#Compiler-Characteristics">4 Compiler Characteristics</a></li>
<li><a name="stoc-Extensions-1" href="#Extensions">5 Extensions</a></li>
<li><a name="stoc-Mixed_002dLanguage-Programming-1" href="#Mixed_002dLanguage-Programming">6 Mixed-Language Programming</a></li>
<li><a name="stoc-Coarray-Programming-1" href="#Coarray-Programming">7 Coarray Programming</a></li>
<li><a name="stoc-Contributing-1" href="#Contributing">Contributing</a></li>
<li><a name="stoc-Option-Index-1" href="#Option-Index">Option Index</a></li>
<li><a name="stoc-Keyword-Index-1" href="#Keyword-Index">Keyword Index</a></li>
</ul>
</div>
<hr>
<a name="SEC_About"></a>
<table class="header" cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Option-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>

<p>
  This document was generated on <i>July 16, 2019</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 5.0</i></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr>
<p>
 <font size="-1">
  This document was generated on <i>July 16, 2019</i> using <a href="http://www.nongnu.org/texi2html/"><i>texi2html 5.0</i></a>.
 </font>
 <br>

</p>
</body>
</html>
